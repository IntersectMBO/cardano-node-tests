

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>cardano_node_tests.tests.tests_plutus package &mdash; cardano-node-tests  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/copyright.css?v=45fba407" />
      <link rel="stylesheet" type="text/css" href="_static/css/tables.css?v=78ac1f1e" />

  
    <link rel="shortcut icon" href="https://user-images.githubusercontent.com/2352619/223086153-522289f3-9902-4f63-ad7b-a7d9c5789db0.png"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="cardano_node_tests.tests.tests_plutus_v2 package" href="cardano_node_tests.tests.tests_plutus_v2.html" />
    <link rel="prev" title="cardano_node_tests.tests.tests_conway package" href="cardano_node_tests.tests.tests_conway.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            cardano-node-tests
              <img src="_static/Cardano-Crypto-Logo-128.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">cardano-node-tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="readme.html#running-tests-with-github-actions">üöÄ Running Tests with GitHub Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#running-tests-locally-with-nix">üõ†Ô∏è Running Tests Locally with Nix</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#running-individual-tests-with-custom-binaries">üß™ Running Individual Tests with Custom Binaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#persistent-local-testnet-for-repeated-testing">üîÅ Persistent Local Testnet for Repeated Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#test-configuration-variables">‚öôÔ∏è Test Configuration Variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="readme.html#additional-for-regression-sh">Additional for <code class="docutils literal notranslate"><span class="pre">regression.sh</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#usage-examples">üí° Usage Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#local-development-for-test-authors">üíª Local Development for Test Authors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="readme.html#set-up-python-environment">Set Up Python Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#activate-dev-environment">Activate Dev Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#validate-dev-environment">Validate Dev Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#start-development-testnet-cluster">Start Development Testnet Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#run-individual-tests">Run Individual Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#run-linters">Run Linters</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#reinstall-cardano-clusterlib-in-editable-mode">Reinstall <code class="docutils literal notranslate"><span class="pre">cardano-clusterlib</span></code> in Editable Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#update-uv-lockfile">Update uv Lockfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#build-and-deploy-documentation">Build and Deploy Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#contributing">ü§ù Contributing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="test_results.html">Test Results</a><ul>
<li class="toctree-l2"><a class="reference internal" href="test_results/nightly_system_tests.html">Nightly system tests pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test_results/nightly_system_tests.html#test-statuses">Test statuses</a></li>
<li class="toctree-l3"><a class="reference internal" href="test_results/nightly_system_tests.html#nightly-results">Nightly results</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/nightly_system_tests.html#nightly-upgrade-testing">Nightly upgrade testing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="test_results/sync_tests.html">Sync Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test_results/sync_tests.html#sync-test-results-by-cardano-node-version">Sync Test Results by Cardano Node Version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="test_results/tag_tests.html">Tag Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_6_2.html">10.6.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_6_2.html#release-testing-checklists">Release Testing Checklists</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_6_1.html">10.6.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_6_1.html#release-testing-checklists">Release Testing Checklists</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_6_1.html#new-issues">New issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_5_1.html">10.5.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_5_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_5_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_5_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_5_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_5_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_4_1.html">10.4.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_4_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_4_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_4_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_4_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_4_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_3_1.html">10.3.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_3_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_3_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_3_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_3_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_3_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_2_1.html">10.2.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_2_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_2_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_2_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_2_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_2_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_1_2.html">10.1.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_2.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_2.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_2.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_2.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_2.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_1_1.html">10.1.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_9_0_0.html">9.0.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_11_0.html">8.11.0-pre</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_9_3.html">8.9.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_9_1.html">8.9.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_9_0.html">8.9.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_8_0.html">8.8.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_7_3.html">8.7.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_7_2.html">8.7.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html">8.6.0-pre</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_1_1.html">8.1.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_0_0.html">8.0.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_7.html">1.35.7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#breaking-changes">Breaking changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#component-level-test-tracking">Component Level Test Tracking</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_6.html">1.35.6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#breaking-changes">Breaking changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#component-level-test-tracking">Component Level Test Tracking</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_5.html">1.35.5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html">1.35.4-rc1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#secp256k1-iog-test-tracking">SECP256k1 IOG Test Tracking</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_3.html">1.35.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#breaking-changes">Breaking changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#relevant-existing-issues">Relevant existing issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="test_results/chang_user_stories.html">Chang HF User Stories</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html">System Tests Coverage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html#cli-user-stories">CLI User Stories</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html#cip1694-user-stories">CIP1694 User Stories</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html#governance-guardrails-user-stories">Governance guardrails User Stories</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html#internal-test-cases">Internal Test Cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html#db-sync-conway-related-tables">DB Sync - Conway related tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/requirements/plutusV3_user_stories_system_tests.html">PlutusV3 System Tests Coverage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/plutusV3_user_stories_system_tests.html#smart-contract-user-stories">Smart Contract User Stories</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="test_plans.html">Test Plans</a><ul>
<li class="toctree-l2"><a class="reference internal" href="test-plans/100_conway_governance.html">Governance testing in Conway</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test-plans/100_conway_governance.html#committee">Committee</a></li>
<li class="toctree-l3"><a class="reference internal" href="test-plans/100_conway_governance.html#dreps">DReps</a></li>
<li class="toctree-l3"><a class="reference internal" href="test-plans/100_conway_governance.html#actions-voting-ratification-and-enactment">Actions, Voting, Ratification and Enactment</a></li>
<li class="toctree-l3"><a class="reference internal" href="test-plans/100_conway_governance.html#spos">SPOs</a></li>
<li class="toctree-l3"><a class="reference internal" href="test-plans/100_conway_governance.html#transactions">Transactions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="process.html">Process</a><ul>
<li class="toctree-l2"><a class="reference internal" href="process/100_test_types.html">Types and levels of tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/100_test_types.html#node-system-tests">Node system tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#node-nightly-cli-tests">Node nightly CLI tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#node-cli-tests-on-demand">Node CLI tests (on demand)</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#node-sync-tests">Node sync tests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/100_test_types.html#db-sync-system-tests">DB Sync system tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#db-sync-nightly-tests">DB Sync nightly tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#db-sync-feature-tests-on-demand">DB Sync feature tests (on demand)</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#db-sync-sync-tests">DB Sync sync tests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/100_test_types.html#exploratory-testing">Exploratory testing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/200_quality_control_strategy.html">Quality control strategy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#scope-and-objectives">Scope and objectives</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#key-principles">Key principles</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#quality-control-approach">Quality control approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#quality-control-methodology">Quality control methodology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/200_quality_control_strategy.html#active-quality-control">Active quality control</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/200_quality_control_strategy.html#passive-quality-control">Passive quality control</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/300_uat_strategy.html">User acceptance test strategy</a></li>
<li class="toctree-l2"><a class="reference internal" href="process/400_plutus.html">Plutus System-Level Testing Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/400_plutus.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_plutus.html#scope">Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_plutus.html#not-in-scope">Not in scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_plutus.html#automation">Automation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/400_plutus.html#antaeus">Antaeus</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/400_plutus.html#cardano-node-tests">Cardano-node-tests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/400_plutus.html#exploratory-testing">Exploratory Testing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/400_system_level_tag_testing.html">System-Level Tag Testing Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/400_system_level_tag_testing.html#what-we-do">What (We do)</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_system_level_tag_testing.html#where-results">Where (Results)</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_system_level_tag_testing.html#how-we-do-it">How (We do it)</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_system_level_tag_testing.html#how-long-does-it-take">How long does it take?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="how-tos.html">How Tos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html">Testing MIR certificate submission with a local cluster</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#creating-key-pairs">Creating key pairs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#payment-key-pair">Payment key pair</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#stake-key-pair">Stake key pair</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#payment-address">Payment address</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#stake-address">Stake address</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#transferring-funds-from-the-faucet-address-to-our-own-shelley-address-payment-addr">Transferring funds from the ‚Äòfaucet‚Äô address to our own Shelley address <code class="docutils literal notranslate"><span class="pre">payment.addr</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#build-tx">Build tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#sign-tx">Sign tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#submit-tx">Submit tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#check-funds-on-the-payment-addr">Check funds on the payment.addr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#creating-a-stake-registration-certificate">Creating a stake registration certificate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#submitting-the-certificate-with-a-transaction">Submitting the certificate with a transaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#our-stake-address-has-id-13-and-is-registered">Our stake address has id=13 and is registered</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#deregistering-an-empty-stake-address">Deregistering an ‚Äòempty‚Äô stake address</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#creating-a-deregistration-certificate">Creating a deregistration certificate</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#generating-mir-cert-to-send-funds-from-reserves-to-unregistered-stake-address">Generating MIR cert to send funds from reserves to unregistered stake address</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#id4">Build tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#id5">Sign tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#id6">Submit tx</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#state-of-tables-after-mir-cert-tx-submission">State of tables after MIR cert tx submission</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#logs">Logs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#stdout-log">stdout.log</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="how-tos/380_stake_credential_history_tool.html">Stake credential history tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how-tos/380_stake_credential_history_tool.html#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/380_stake_credential_history_tool.html#example-of-usage">Example of usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="how-tos/500_smash_faq.html">SMASH FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html">SMASH - tests and debugging examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#checking-smash-status">Checking SMASH status</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#fetching-of-the-metadata">Fetching of the metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#delisting-pools">Delisting pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#reserving-a-ticker">Reserving a ticker</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#whitelisting">Whitelisting</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#checking-pool-rejection-errors">Checking pool rejection errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#pool-unregistrations">Pool unregistrations</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#fetch-policies-from-another-smash-service">Fetch policies from another SMASH service</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#an-example-of-debugging-an-issue-with-a-pool">An example of debugging an issue with a pool</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contribute/contributing.html">Contributing to the Cardano node tests repository</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contribute/contributing.html#how-can-i-contribute">How can I contribute?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#reporting-an-issue">Reporting an issue</a><ul>
<li class="toctree-l4"><a class="reference internal" href="contribute/contributing.html#how-do-i-submit-a-good-issue-report">How do I submit a (good) issue report?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#your-first-code-contribution">Your first code contribution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="contribute/contributing.html#pull-requests">Pull requests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contribute/contributing.html#id1">Style guides</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#git-commit-messages">Git commit messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#python-style-guide">Python style guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contribute/contributing.html#roles-and-responsibilities">Roles and Responsibilities</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Source Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="cardano_node_tests.html">cardano_node_tests package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="cardano_node_tests.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.cluster_management.html">cardano_node_tests.cluster_management package</a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.pytest_plugins.html">cardano_node_tests.pytest_plugins package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="cardano_node_tests.tests.html">cardano_node_tests.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.utils.html">cardano_node_tests.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.block_production_graph">cardano_node_tests.block_production_graph module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.block_production_graph.get_blocks_per_backend"><code class="docutils literal notranslate"><span class="pre">get_blocks_per_backend()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.block_production_graph.get_latest_run_id"><code class="docutils literal notranslate"><span class="pre">get_latest_run_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.block_production_graph.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.block_production_graph.parse_args"><code class="docutils literal notranslate"><span class="pre">parse_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.block_production_graph.plot_backend_blocks"><code class="docutils literal notranslate"><span class="pre">plot_backend_blocks()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.cardano_cli_coverage">cardano_node_tests.cardano_cli_coverage module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.cli"><code class="docutils literal notranslate"><span class="pre">cli()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_available_commands"><code class="docutils literal notranslate"><span class="pre">get_available_commands()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_badge_icon"><code class="docutils literal notranslate"><span class="pre">get_badge_icon()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_coverage"><code class="docutils literal notranslate"><span class="pre">get_coverage()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_log_coverage"><code class="docutils literal notranslate"><span class="pre">get_log_coverage()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_report"><code class="docutils literal notranslate"><span class="pre">get_report()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.merge_coverage"><code class="docutils literal notranslate"><span class="pre">merge_coverage()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.parse_cmd_output"><code class="docutils literal notranslate"><span class="pre">parse_cmd_output()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.sanitize_coverage"><code class="docutils literal notranslate"><span class="pre">sanitize_coverage()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.chang_us_coverage">cardano_node_tests.chang_us_coverage module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.chang_us_coverage.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.chang_us_coverage.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.defragment_utxos">cardano_node_tests.defragment_utxos module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.defragment_utxos.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.defragment_utxos.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.dump_requirements_coverage">cardano_node_tests.dump_requirements_coverage module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.dump_requirements_coverage.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.dump_requirements_coverage.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.prepare_cluster_scripts">cardano_node_tests.prepare_cluster_scripts module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.prepare_cluster_scripts.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.prepare_cluster_scripts.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.prepare_cluster_scripts.prepare_scripts_files"><code class="docutils literal notranslate"><span class="pre">prepare_scripts_files()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.split_topology">cardano_node_tests.split_topology module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.split_topology.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.split_topology.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.testnet_cleanup">cardano_node_tests.testnet_cleanup module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.testnet_cleanup.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.testnet_cleanup.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.testnet_cleanup_info">cardano_node_tests.testnet_cleanup_info module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.testnet_cleanup_info.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.testnet_cleanup_info.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">cardano-node-tests</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Source Documentation</a></li>
          <li class="breadcrumb-item"><a href="cardano_node_tests.html">cardano_node_tests package</a></li>
          <li class="breadcrumb-item"><a href="cardano_node_tests.tests.html">cardano_node_tests.tests package</a></li>
      <li class="breadcrumb-item active">cardano_node_tests.tests.tests_plutus package</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/IntersectMBO/cardano-node-tests/blob/master/src_docs/source/cardano_node_tests.tests.tests_plutus.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cardano-node-tests-tests-tests-plutus-package">
<h1>cardano_node_tests.tests.tests_plutus package<a class="headerlink" href="#cardano-node-tests-tests-tests-plutus-package" title="Link to this heading">ÔÉÅ</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ÔÉÅ</a></h2>
</section>
<section id="module-cardano_node_tests.tests.tests_plutus.conftest">
<span id="cardano-node-tests-tests-tests-plutus-conftest-module"></span><h2>cardano_node_tests.tests.tests_plutus.conftest module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.conftest" title="Link to this heading">ÔÉÅ</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.conftest.cluster">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.conftest.</span></span><span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/conftest.py#L11-L16"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.conftest.cluster" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.mint_build">
<span id="cardano-node-tests-tests-tests-plutus-mint-build-module"></span><h2>cardano_node_tests.tests.tests_plutus.mint_build module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.mint_build" title="Link to this heading">ÔÉÅ</a></h2>
</section>
<section id="module-cardano_node_tests.tests.tests_plutus.mint_raw">
<span id="cardano-node-tests-tests-tests-plutus-mint-raw-module"></span><h2>cardano_node_tests.tests.tests_plutus.mint_raw module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.mint_raw" title="Link to this heading">ÔÉÅ</a></h2>
</section>
<section id="module-cardano_node_tests.tests.tests_plutus.spend_build">
<span id="cardano-node-tests-tests-tests-plutus-spend-build-module"></span><h2>cardano_node_tests.tests.tests_plutus.spend_build module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.spend_build" title="Link to this heading">ÔÉÅ</a></h2>
</section>
<section id="module-cardano_node_tests.tests.tests_plutus.spend_raw">
<span id="cardano-node-tests-tests-tests-plutus-spend-raw-module"></span><h2>cardano_node_tests.tests.tests_plutus.spend_raw module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.spend_raw" title="Link to this heading">ÔÉÅ</a></h2>
</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_delegation">
<span id="cardano-node-tests-tests-tests-plutus-test-delegation-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_delegation module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_delegation" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for delegation of Plutus script stake address.</p>
<ul class="simple">
<li><p>Stake address registration</p></li>
<li><p>Stake address delegation</p></li>
<li><p>Rewards withdrawal</p></li>
<li><p>Stake address deregistration</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.TestDelegateAddr">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_delegation.</span></span><span class="sig-name descname"><span class="pre">TestDelegateAddr</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py#L661-L1114"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.TestDelegateAddr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for address delegation to stake pools.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.TestDelegateAddr.test_delegate_deregister">
<span class="sig-name descname"><span class="pre">test_delegate_deregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_lock_42stake</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">PoolUserScript</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_reference_script</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py#L664-L889"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.TestDelegateAddr.test_delegate_deregister" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Register, delegate and deregister Plutus script stake address.</p>
<p>The stake address registration and delegation happen in single transaction.</p>
<ul class="simple">
<li><p>Submit registration certificate and delegate stake address to pool</p></li>
<li><p>Check that the stake address was delegated</p></li>
<li><p>Withdraw rewards to payment address and deregister stake address</p></li>
<li><p>Check that the key deposit was returned and rewards withdrawn</p></li>
<li><p>Check that the stake address is no longer delegated</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.TestDelegateAddr.test_register_delegate_deregister">
<span class="sig-name descname"><span class="pre">test_register_delegate_deregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_lock_42stake</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">PoolUserScript</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py#L891-L1114"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.TestDelegateAddr.test_register_delegate_deregister" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Register, delegate and deregister Plutus script stake address.</p>
<p>The stake address registration and delegation happen in two separate transactions.</p>
<ul class="simple">
<li><p>Submit registration certificate for a stake address</p></li>
<li><p>Delegate stake address to pool</p></li>
<li><p>Check that the stake address was delegated</p></li>
<li><p>Withdraw rewards to payment address and deregister stake address</p></li>
<li><p>Check that the key deposit was returned and rewards withdrawn</p></li>
<li><p>Check that the stake address is no longer delegated</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.TestRegisterAddr">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_delegation.</span></span><span class="sig-name descname"><span class="pre">TestRegisterAddr</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py#L505-L656"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.TestRegisterAddr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for address registration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.TestRegisterAddr.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">&quot;cannot</span> <span class="pre">use</span> <span class="pre">`build`</span> <span class="pre">with</span> <span class="pre">Tx</span> <span class="pre">era</span> <span class="pre">'conway':</span> <span class="pre">&quot;})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.TestRegisterAddr.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.TestRegisterAddr.test_register_deregister">
<span class="sig-name descname"><span class="pre">test_register_deregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_lock_42stake</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">PoolUserScript</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py#L509-L656"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.TestRegisterAddr.test_register_deregister" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Register and deregister Plutus script stake address.</p>
<ul class="simple">
<li><p>Submit registration certificate for a stake address</p></li>
<li><p>Check that the stake address was registered</p></li>
<li><p>Deregister the stake address</p></li>
<li><p>Check that the key deposit was returned and rewards withdrawn</p></li>
<li><p>Check that the stake address is no longer registered</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.cluster_lock_42stake">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_delegation.</span></span><span class="sig-name descname"><span class="pre">cluster_lock_42stake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py#L41-L72"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.cluster_lock_42stake" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Make sure just one staking Plutus test run at a time.</p>
<p>Plutus script always has the same address. When one script is used in multiple
tests that are running in parallel, the balances etc. don‚Äôt add up.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.delegate_stake_addr">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_delegation.</span></span><span class="sig-name descname"><span class="pre">delegate_stake_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collaterals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">PoolUserScript</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redeemer_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_script_utxos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py#L303-L387"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.delegate_stake_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Delegate a stake address to a pool.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.deregister_stake_addr">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_delegation.</span></span><span class="sig-name descname"><span class="pre">deregister_stake_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collaterals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">PoolUserScript</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">redeemer_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_script_utxos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py#L390-L500"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.deregister_stake_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Deregister stake address.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.pool_user">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_delegation.</span></span><span class="sig-name descname"><span class="pre">pool_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_42stake</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">PoolUserScript</span></a></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py#L75-L114"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.pool_user" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create pool user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.register_delegate_stake_addr">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_delegation.</span></span><span class="sig-name descname"><span class="pre">register_delegate_stake_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collaterals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">PoolUserScript</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redeemer_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_script_utxos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py#L117-L216"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.register_delegate_stake_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit registration certificate and delegate to pool.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_delegation.register_stake_addr">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_delegation.</span></span><span class="sig-name descname"><span class="pre">register_stake_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collaterals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">PoolUserScript</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">redeemer_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_script_utxos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_delegation.py#L219-L300"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_delegation.register_stake_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Register a stake address.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_lobster">
<span id="cardano-node-tests-tests-tests-plutus-test-lobster-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_lobster module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_lobster" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for the ‚ÄúLobster Challenge‚Äù.</p>
<p>See <a class="reference external" href="https://github.com/input-output-hk/lobster-challenge">https://github.com/input-output-hk/lobster-challenge</a></p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_lobster.TestLobsterChallenge">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_lobster.</span></span><span class="sig-name descname"><span class="pre">TestLobsterChallenge</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_lobster.py#L245-L486"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_lobster.TestLobsterChallenge" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_lobster.TestLobsterChallenge.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">&quot;cannot</span> <span class="pre">use</span> <span class="pre">`build`</span> <span class="pre">with</span> <span class="pre">Tx</span> <span class="pre">era</span> <span class="pre">'conway':</span> <span class="pre">&quot;})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_lobster.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_lobster.TestLobsterChallenge.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_lobster.TestLobsterChallenge.test_lobster_name">
<span class="sig-name descname"><span class="pre">test_lobster_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_lobster.py#L247-L486"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_lobster.TestLobsterChallenge.test_lobster_name" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test the Lobster Challenge.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Fund token issuer and create a UTxO for collateral</p></li>
<li><p>Mint the LobsterNFT token</p></li>
<li><p>Deploy the LobsterNFT token to address of lobster spending script</p></li>
<li><p>Generate random votes and determine the expected final value</p></li>
<li><p>Perform voting and check that the final value matches the expected value</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_lobster.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_lobster.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_lobster.py#L37-L51"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_lobster.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_mint_build">
<span id="cardano-node-tests-tests-tests-plutus-test-mint-build-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_mint_build module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_mint_build" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for minting with Plutus using <cite>transaction build</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_mint_build.</span></span><span class="sig-name descname"><span class="pre">TestBuildMinting</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L55-L1246"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting using Plutus smart contracts and <cite>transaction build</cite>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.past_horizon_funds">
<span class="sig-name descname"><span class="pre">past_horizon_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L58-L93"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.past_horizon_funds" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create UTxOs for <cite>test_ttl_horizon</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_minting_context_equivalence">
<span class="sig-name descname"><span class="pre">test_minting_context_equivalence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L772-L960"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_minting_context_equivalence" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test context equivalence while minting a token.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Generate a dummy redeemer and a dummy Tx</p></li>
<li><p>Derive the correct redeemer from the dummy Tx</p></li>
<li><p>Mint the token using the derived redeemer</p></li>
<li><p>Check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>Check expected Plutus cost</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_minting_missing_txout">
<span class="sig-name descname"><span class="pre">test_minting_missing_txout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L236-L344"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_minting_missing_txout" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a Plutus script without providing TxOut for the token.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the token using a Plutus script</p></li>
<li><p>Check that the token was minted and collateral UTxO was not spent</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_minting_one_token">
<span class="sig-name descname"><span class="pre">test_minting_one_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L95-L234"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_minting_one_token" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a Plutus script.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the token using a Plutus script</p></li>
<li><p>Check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>Check expected fees</p></li>
<li><p>Check expected Plutus cost</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_time_range_minting">
<span class="sig-name descname"><span class="pre">test_time_range_minting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L346-L503"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_time_range_minting" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a time constraints Plutus script.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the token using a Plutus script</p></li>
<li><p>Check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>Check expected fees</p></li>
<li><p>Check expected Plutus cost</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_ttl_horizon">
<span class="sig-name descname"><span class="pre">test_ttl_horizon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">past_horizon_funds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L1129-L1246"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_ttl_horizon" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with ttl far in the future.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Try to mint a token using a Plutus script when ttl is set far in the future</p></li>
<li><p>Check that minting failed because of ‚ÄòPastHorizon‚Äô failure when ttl is too far
in the future</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_two_scripts_minting">
<span class="sig-name descname"><span class="pre">test_two_scripts_minting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L505-L770"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_two_scripts_minting" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting two tokens with two different Plutus scripts.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collaterals</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the tokens using two different Plutus scripts</p></li>
<li><p>Check that the tokens were minted and collateral UTxOs were not spent</p></li>
<li><p>Check transaction view output</p></li>
<li><p>Check expected fees</p></li>
<li><p>Check expected Plutus cost</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_witness_redeemer">
<span class="sig-name descname"><span class="pre">test_witness_redeemer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L962-L1127"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_witness_redeemer" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a Plutus script.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the token using a Plutus script with required signer</p></li>
<li><p>Check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>Check expected fees</p></li>
<li><p>Check expected Plutus cost</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.TestCollateralOutput">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_mint_build.</span></span><span class="sig-name descname"><span class="pre">TestCollateralOutput</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L1249-L1389"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.TestCollateralOutput" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for collateral output.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.TestCollateralOutput.test_duplicated_collateral">
<span class="sig-name descname"><span class="pre">test_duplicated_collateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L1252-L1389"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.TestCollateralOutput.test_duplicated_collateral" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a Plutus script while using the same collateral input twice.</p>
<p>Tests <a class="reference external" href="https://github.com/IntersectMBO/cardano-node/issues/4744">https://github.com/IntersectMBO/cardano-node/issues/4744</a></p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral and possibly reference script</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the token using a Plutus script and the same collateral UTxO listed twice</p></li>
<li><p>Check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>Check that the return collateral amount is the expected</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_build.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_mint_build.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_build.py#L38-L52"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_build.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_mint_negative_build">
<span id="cardano-node-tests-tests-tests-plutus-test-mint-negative-build-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_mint_negative_build module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_mint_negative_build" title="Link to this heading">ÔÉÅ</a></h2>
<p>Negative tests for minting with Plutus using <cite>transaction build</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_mint_negative_build.</span></span><span class="sig-name descname"><span class="pre">TestBuildMintingNegative</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_build.py#L53-L483"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting with Plutus using <cite>transaction build</cite> that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.fund_issuer_long_asset_name">
<span class="sig-name descname"><span class="pre">fund_issuer_long_asset_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_build.py#L56-L79"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.fund_issuer_long_asset_name" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Fund the token issuer and create the collateral UTxO.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_asset_name_too_long">
<span class="sig-name descname"><span class="pre">test_asset_name_too_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_issuer_long_asset_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_build.py#L281-L378"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_asset_name_too_long" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting token with asset name exceeding maximum length and min-UTXO calculation.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate asset names longer than 32 bytes
(maximum allowed length for Cardano native token asset names).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded token issuer address with collateral UTxO</p></li>
<li><p>Generate random asset name (minimum 33 characters)</p></li>
<li><p>Encode asset name to hex and create minting policy</p></li>
<li><p>Attempt to build transaction minting token with oversized asset name</p></li>
<li><p>Check that transaction building fails with ‚Äúbytestring should be no longer than 32
bytes‚Äù error</p></li>
<li><p>Attempt to calculate minimum required UTXO for transaction output with oversized
asset name</p></li>
<li><p>Check that min-UTXO calculation also fails with same error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_redeemer_with_simple_minting_script">
<span class="sig-name descname"><span class="pre">test_redeemer_with_simple_minting_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_build.py#L189-L279"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_redeemer_with_simple_minting_script" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token passing a redeemer for a simple minting script.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Try to mint the token using a simple script passing a redeemer</p></li>
<li><p>Check that the minting failed because a Plutus script is expected</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_time_range_missing_tx_validity">
<span class="sig-name descname"><span class="pre">test_time_range_missing_tx_validity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_build.py#L380-L483"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_time_range_missing_tx_validity" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a time constraints Plutus script and no TX validity.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Try to mint the token using a Plutus script and a TX without validity interval</p></li>
<li><p>Check that the minting failed</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_witness_redeemer_missing_signer">
<span class="sig-name descname"><span class="pre">test_witness_redeemer_missing_signer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_build.py#L81-L187"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_witness_redeemer_missing_signer" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a Plutus script with invalid signers.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Try to mint the token using a Plutus script and a TX with signing key missing for
the required signer</p></li>
<li><p>Check that the minting failed because the required signers were not provided</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_build.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_mint_negative_build.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_build.py#L36-L50"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_mint_negative_raw">
<span id="cardano-node-tests-tests-tests-plutus-test-mint-negative-raw-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_mint_negative_raw module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_mint_negative_raw" title="Link to this heading">ÔÉÅ</a></h2>
<p>Negative tests for minting with Plutus using <cite>transaction build-raw</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.</span></span><span class="sig-name descname"><span class="pre">TestMintingNegative</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L45-L613"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting with Plutus using <cite>transaction build-raw</cite> that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.fund_execution_units_above_limit">
<span class="sig-name descname"><span class="pre">fund_execution_units_above_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pparams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.PlutusOp" title="cardano_node_tests.tests.plutus_common.PlutusOp"><span class="pre">PlutusOp</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L52-L86"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.fund_execution_units_above_limit" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.pparams">
<span class="sig-name descname"><span class="pre">pparams</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L48-L50"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.pparams" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_execution_units_above_limit">
<span class="sig-name descname"><span class="pre">test_execution_units_above_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_execution_units_above_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.PlutusOp" title="cardano_node_tests.tests.plutus_common.PlutusOp"><span class="pre">PlutusOp</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pparams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L388-L505"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_execution_units_above_limit" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token when execution units are above the limit.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Try to mint the token when execution units are set above the limits</p></li>
<li><p>Check that the minting failed because the execution units were too big</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_low_budget">
<span class="sig-name descname"><span class="pre">test_low_budget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L192-L289"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_low_budget" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token when budget is too low.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Try to mint the token using a Plutus script when execution units are set to half
of the expected values</p></li>
<li><p>Check that the minting failed because the budget was overspent</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_low_fee">
<span class="sig-name descname"><span class="pre">test_low_fee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L291-L386"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_low_fee" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token when fee is set too low.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Try to mint a token using a Plutus script when fee is set lower than is the computed fee</p></li>
<li><p>Check that minting failed because the fee amount was too low</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_time_range_missing_tx_validity">
<span class="sig-name descname"><span class="pre">test_time_range_missing_tx_validity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L507-L613"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_time_range_missing_tx_validity" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a time constraints Plutus script and no TX validity.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Try to mint the token using a Plutus script and a TX without validity interval</p></li>
<li><p>Check that the minting failed</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_witness_redeemer_missing_signer">
<span class="sig-name descname"><span class="pre">test_witness_redeemer_missing_signer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L88-L190"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_witness_redeemer_missing_signer" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a Plutus script with invalid signers.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Try to mint the token using a Plutus script and a TX with signing key missing for
the required signer</p></li>
<li><p>Check that the minting failed because the required signers were not provided</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestNegativeCollateral">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.</span></span><span class="sig-name descname"><span class="pre">TestNegativeCollateral</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L616-L824"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestNegativeCollateral" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for collaterals that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestNegativeCollateral.test_minting_with_insufficient_collateral">
<span class="sig-name descname"><span class="pre">test_minting_with_insufficient_collateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L721-L824"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestNegativeCollateral.test_minting_with_insufficient_collateral" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a Plutus script with insufficient collateral.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral with insufficient funds</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the token using a Plutus script</p></li>
<li><p>Check that the minting failed because a collateral with insufficient funds was provided</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestNegativeCollateral.test_minting_with_invalid_collaterals">
<span class="sig-name descname"><span class="pre">test_minting_with_invalid_collaterals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L619-L719"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestNegativeCollateral.test_minting_with_invalid_collaterals" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a Plutus script with invalid collaterals.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Fund the token issuer and create an UTxO for collateral with insufficient funds</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the token using a Plutus script</p></li>
<li><p>Check that the minting failed because no valid collateral was provided</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_negative_raw.py#L28-L42"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_mint_raw">
<span id="cardano-node-tests-tests-tests-plutus-test-mint-raw-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_mint_raw module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_mint_raw" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for minting with Plutus using <cite>transaction build-raw</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.TestCollateralOutput">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_mint_raw.</span></span><span class="sig-name descname"><span class="pre">TestCollateralOutput</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L1336-L1453"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestCollateralOutput" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for collateral output.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.TestCollateralOutput.test_duplicated_collateral">
<span class="sig-name descname"><span class="pre">test_duplicated_collateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L1339-L1453"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestCollateralOutput.test_duplicated_collateral" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a Plutus script while using the same collateral input twice.</p>
<p>Tests <a class="reference external" href="https://github.com/IntersectMBO/cardano-node/issues/4744">https://github.com/IntersectMBO/cardano-node/issues/4744</a></p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral and possibly reference script</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the token using a Plutus script and the same collateral UTxO listed twice</p></li>
<li><p>Check that the token was minted and collateral UTxO was not spent</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_mint_raw.</span></span><span class="sig-name descname"><span class="pre">TestMinting</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L96-L1333"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting using Plutus smart contracts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_context_equivalence">
<span class="sig-name descname"><span class="pre">test_minting_context_equivalence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L1037-L1186"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_context_equivalence" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test context equivalence while minting a token.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Generate a dummy redeemer and a dummy Tx</p></li>
<li><p>Derive the correct redeemer from the dummy Tx</p></li>
<li><p>Mint the token using the derived redeemer</p></li>
<li><p>Check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_policy_executed_once1">
<span class="sig-name descname"><span class="pre">test_minting_policy_executed_once1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L725-L880"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_policy_executed_once1" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test that minting policy is executed only once even when the same policy is used twice.</p>
<p>Test by minting two tokens while using the same Plutus script twice
with two different redeemers.</p>
<p>The Plutus script used in this test takes the expected token name as
redeemer. Even though the redeemer used for minting the first token
doesn‚Äôt match the token name, the token gets minted anyway. That‚Äôs
because only the last redeemer is used and all the other scripts with
identical minting policy (and corresponding redeemers) are ignored. So
it only matters that the last redeemer matches the last token name.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral - funds for fees and collateral
are sufficient for just single minting script</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the tokens using two identical Plutus scripts and two redeemers, where the first
redeemer value is invalid</p></li>
<li><p>Check that the tokens were minted and collateral UTxOs were not spent, i.e. the first
script and its redeemer were ignored</p></li>
<li><p>Check transaction view output</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_policy_executed_once2">
<span class="sig-name descname"><span class="pre">test_minting_policy_executed_once2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L882-L1035"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_policy_executed_once2" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test that minting policy is executed only once even when the same policy is used twice.</p>
<p>Test minting two tokens while using one Plutus script and one redeemer.</p>
<p>The Plutus script used in this test takes the expected token name as
redeemer. Even though the redeemer doesn‚Äôt match name of the first
token, the token get‚Äôs minted anyway. That‚Äôs because it is only checked
that the last token name matches the redeemer, and redeemer for the
first token is not needed.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the tokens using a redeemer value that doesn‚Äôt match the name of the first token</p></li>
<li><p>Check that the tokens were minted and collateral UTxOs were not spent, i.e. redeemer for
the first token was not needed</p></li>
<li><p>Check transaction view output</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_two_tokens">
<span class="sig-name descname"><span class="pre">test_minting_two_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L99-L229"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_two_tokens" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting two tokens with a single Plutus script.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the tokens using a Plutus script</p></li>
<li><p>Check that the tokens were minted and collateral UTxO was not spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_time_range_minting">
<span class="sig-name descname"><span class="pre">test_time_range_minting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L370-L494"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_time_range_minting" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a time constraints Plutus script.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the token using a Plutus script</p></li>
<li><p>Check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_ttl_horizon">
<span class="sig-name descname"><span class="pre">test_ttl_horizon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L1188-L1333"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_ttl_horizon" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with ttl far in the future.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Try to mint a token using a Plutus script when ttl is set far in the future</p></li>
<li><p>Check that minting failed because of ‚ÄòPastHorizon‚Äô failure when ttl is too far
in the future</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_two_scripts_minting">
<span class="sig-name descname"><span class="pre">test_two_scripts_minting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L496-L723"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_two_scripts_minting" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting two tokens with two different Plutus scripts.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collaterals</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the tokens using two different Plutus scripts</p></li>
<li><p>Check that the tokens were minted and collateral UTxOs were not spent</p></li>
<li><p>Check transaction view output</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_witness_redeemer">
<span class="sig-name descname"><span class="pre">test_witness_redeemer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L231-L368"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_witness_redeemer" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token with a Plutus script.</p>
<ul class="simple">
<li><p>Fund the token issuer and create a UTxO for collateral</p></li>
<li><p>Check that the expected amount was transferred to token issuer‚Äôs address</p></li>
<li><p>Mint the token using a Plutus script with required signer</p></li>
<li><p>Check that the token was minted and collateral UTxO was not spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_mint_raw.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_mint_raw.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_mint_raw.py#L32-L46"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_mint_raw.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_spend_build">
<span id="cardano-node-tests-tests-tests-plutus-test-spend-build-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_spend_build module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_spend_build" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for spending with Plutus using <cite>transaction build</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_build.</span></span><span class="sig-name descname"><span class="pre">TestBuildLocking</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L66-L1089"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Tx output locking using Plutus smart contracts and <cite>transaction build</cite>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_always_fails">
<span class="sig-name descname"><span class="pre">test_always_fails</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L636-L695"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_always_fails" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with a Plutus script and spending the locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Test with ‚Äúalways fails‚Äù script that fails for all datum / redeemer values.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Try to spend the locked UTxO</p></li>
<li><p>Check that the expected error was raised</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_collateral_is_txin">
<span class="sig-name descname"><span class="pre">test_collateral_is_txin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L972-L1089"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_collateral_is_txin" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending the locked UTxO while using single UTxO for both collateral and Tx input.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Tests bug <a class="reference external" href="https://github.com/IntersectMBO/cardano-db-sync/issues/750">https://github.com/IntersectMBO/cardano-db-sync/issues/750</a></p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address and a collateral UTxO</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Spend the locked UTxO while using the collateral UTxO both as collateral and as
normal Tx input</p></li>
<li><p>Check that the expected amount was spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_context_equivalence">
<span class="sig-name descname"><span class="pre">test_context_equivalence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L135-L248"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_context_equivalence" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test context equivalence while spending a locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Generate a dummy redeemer and a dummy Tx</p></li>
<li><p>Derive the correct redeemer from the dummy Tx</p></li>
<li><p>Spend the locked UTxO using the derived redeemer</p></li>
<li><p>Check that the expected amount was spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_guessing_game">
<span class="sig-name descname"><span class="pre">test_guessing_game</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variant</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_datum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L250-L359"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_guessing_game" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with a Plutus script and spending the locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Test with ‚Äúguessing game‚Äù scripts that expect specific datum and redeemer value.
Test both typed and untyped redeemer and datum.
Test passing datum and redeemer to <cite>cardano-cli</cite> as value, json file and cbor file.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Spend the locked UTxO</p></li>
<li><p>Check that the expected amount was spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_partial_spending">
<span class="sig-name descname"><span class="pre">test_partial_spending</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L843-L970"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_partial_spending" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending part of funds (Lovelace and native tokens) on a locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create a Tx output that contains native tokens with a datum hash at the script address</p></li>
<li><p>Check that expected amounts of Lovelace and native tokens were locked at the script
address</p></li>
<li><p>Spend the locked UTxO and create new locked UTxO with change</p></li>
<li><p>Check that the expected amounts of Lovelace and native tokens were spent</p></li>
<li><p>Check expected fees</p></li>
<li><p>Check expected Plutus cost</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_script_invalid">
<span class="sig-name descname"><span class="pre">test_script_invalid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L697-L761"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_script_invalid" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test failing script together with the <cite>‚Äìscript-invalid</cite> argument - collateral is taken.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Test with ‚Äúalways fails‚Äù script that fails for all datum / redeemer values.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Try to spend the locked UTxO</p></li>
<li><p>Check that the amount was not transferred and collateral UTxO was spent</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_two_scripts_spending">
<span class="sig-name descname"><span class="pre">test_two_scripts_spending</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L361-L634"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_two_scripts_spending" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking two Tx outputs with two different Plutus scripts in single Tx.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Spend the locked UTxO</p></li>
<li><p>Check that the expected amount was spent</p></li>
<li><p>Check expected fees</p></li>
<li><p>Check expected Plutus cost</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_txout_locking">
<span class="sig-name descname"><span class="pre">test_txout_locking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L69-L133"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_txout_locking" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with a Plutus script and spending the locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Corresponds to Exercise 3 for Alonzo Blue.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Spend the locked UTxO</p></li>
<li><p>Check that the expected amount was spent</p></li>
<li><p>Check expected fees</p></li>
<li><p>Check expected Plutus cost</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_txout_token_locking">
<span class="sig-name descname"><span class="pre">test_txout_token_locking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L763-L841"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_txout_token_locking" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with a Plutus script and spending the locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create a Tx output that contains native tokens with a datum hash at the script address</p></li>
<li><p>Check that expected amounts of Lovelace and native tokens were locked at the script
address</p></li>
<li><p>Spend the locked UTxO</p></li>
<li><p>Check that the expected amounts of Lovelace and native tokens were spent</p></li>
<li><p>Check expected fees</p></li>
<li><p>Check expected Plutus cost</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_build.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L32-L46"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_build.pool_users">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_build.</span></span><span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_build.py#L49-L63"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_build.pool_users" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new pool users.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_spend_compat_build">
<span id="cardano-node-tests-tests-tests-plutus-test-spend-compat-build-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_spend_compat_build module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_spend_compat_build" title="Link to this heading">ÔÉÅ</a></h2>
<p>Compatibility tests for spending with Plutus using <cite>transaction build</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_compat_build.TestCompatibility">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_compat_build.</span></span><span class="sig-name descname"><span class="pre">TestCompatibility</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_compat_build.py#L41-L97"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_compat_build.TestCompatibility" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for checking compatibility with previous Tx eras.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_compat_build.TestCompatibility.test_plutusv2_old_tx_era">
<span class="sig-name descname"><span class="pre">test_plutusv2_old_tx_era</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_compat_build.py#L44-L97"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_compat_build.TestCompatibility.test_plutusv2_old_tx_era" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending a UTxO locked with PlutusV2 script using old Tx era.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Try to spend the locked UTxO</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_compat_build.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_compat_build.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_compat_build.py#L24-L38"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_compat_build.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_spend_compat_raw">
<span id="cardano-node-tests-tests-tests-plutus-test-spend-compat-raw-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_spend_compat_raw module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_spend_compat_raw" title="Link to this heading">ÔÉÅ</a></h2>
<p>Compatibility tests for spending with Plutus using <cite>transaction build-raw</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.TestCompatibility">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.</span></span><span class="sig-name descname"><span class="pre">TestCompatibility</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_compat_raw.py#L40-L149"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.TestCompatibility" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for checking compatibility with previous Tx eras.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.TestCompatibility.test_plutusv1_old_tx_era">
<span class="sig-name descname"><span class="pre">test_plutusv1_old_tx_era</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_compat_raw.py#L97-L149"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.TestCompatibility.test_plutusv1_old_tx_era" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending a UTxO locked with PlutusV1 script using old Tx era.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Try to spend the locked UTxO</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.TestCompatibility.test_plutusv2_old_tx_era">
<span class="sig-name descname"><span class="pre">test_plutusv2_old_tx_era</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_compat_raw.py#L43-L95"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.TestCompatibility.test_plutusv2_old_tx_era" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending a UTxO locked with PlutusV2 script using old Tx era.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Try to spend the locked UTxO</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_compat_raw.py#L23-L37"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_spend_datum_build">
<span id="cardano-node-tests-tests-tests-plutus-test-spend-datum-build-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_spend_datum_build module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_spend_datum_build" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for datum while spending with Plutus using <cite>transaction build</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestDatum">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_datum_build.</span></span><span class="sig-name descname"><span class="pre">TestDatum</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_build.py#L50-L173"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestDatum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for datum.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestDatum.test_datum_on_key_credential_address">
<span class="sig-name descname"><span class="pre">test_datum_on_key_credential_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_build.py#L53-L104"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestDatum.test_datum_on_key_credential_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test creating UTxO with datum on address with key credentials (non-script address).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create transaction output with datum hash on non-script payment address</p></li>
<li><p>Build and submit transaction</p></li>
<li><p>Query created UTxO and verify datum hash is present</p></li>
<li><p>(optional) Check transaction records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestDatum.test_embed_datum_without_pparams">
<span class="sig-name descname"><span class="pre">test_embed_datum_without_pparams</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_build.py#L106-L173"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestDatum.test_embed_datum_without_pparams" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test ‚Äòbuild ‚Äìtx-out-datum-embed‚Äô without providing protocol params file.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command without protocol parameters file.</p>
<ul class="simple">
<li><p>Create transaction with embedded datum using ‚Äìtx-out-datum-embed-file flag</p></li>
<li><p>Build transaction without providing protocol parameters file</p></li>
<li><p>Sign and attempt to submit transaction</p></li>
<li><p>Check that transaction either succeeds or fails with PPViewHashesDontMatch error</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_datum_build.</span></span><span class="sig-name descname"><span class="pre">TestNegativeDatum</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_build.py#L176-L594"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Tx output locking using Plutus smart contracts with wrong datum.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.pbt_script_addresses">
<span class="sig-name descname"><span class="pre">pbt_script_addresses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_build.py#L179-L198"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.pbt_script_addresses" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get Plutus script addresses.</p>
<p>Meant for property-based tests, so this expensive operation gets executed only once.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_lock_tx_invalid_datum">
<span class="sig-name descname"><span class="pre">test_lock_tx_invalid_datum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_build.py#L305-L356"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_lock_tx_invalid_datum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with an invalid datum (property-based test).</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate random text strings as invalid datum
values to test JSON parsing and validation.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Generate random text string as invalid datum value</p></li>
<li><p>Create malformed datum file with invalid JSON format</p></li>
<li><p>Attempt to build transaction with invalid datum file</p></li>
<li><p>Check that transaction building fails with JSON object error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_no_datum_txout">
<span class="sig-name descname"><span class="pre">test_no_datum_txout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_build.py#L200-L303"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_no_datum_txout" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test using UTxO without datum hash in place of locked UTxO.</p>
<p>Expect failure, unless in era &gt;= Conway.</p>
<ul class="simple">
<li><p>Create a Tx output without a datum hash</p></li>
<li><p>Try to spend the UTxO like it was locked Plutus UTxO</p></li>
<li><p>Check that the expected error was raised</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_too_big">
<span class="sig-name descname"><span class="pre">test_too_big</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_script_addresses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_build.py#L525-L594"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_too_big" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to lock a UTxO with datum that is too big (property-based test).</p>
<p>Property-based test using Hypothesis to generate random binary data &gt;= 65 bytes to test
datum size limits (maximum datum size is 64 bytes).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Generate random binary datum value (minimum 65 bytes)</p></li>
<li><p>Create datum file with oversized binary data</p></li>
<li><p>Attempt to build transaction locking UTxO with oversized datum</p></li>
<li><p>Check that transaction building fails with size error (on node &lt; 1.36.0)</p></li>
<li><p>Expect failure on node version &lt; 1.36.0.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_unlock_non_script_utxo">
<span class="sig-name descname"><span class="pre">test_unlock_non_script_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_build.py#L428-L523"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_unlock_non_script_utxo" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to spend a non-script UTxO with datum as if it was script locked UTxO.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create regular UTxO at payment address with datum hash (non-script address)</p></li>
<li><p>Create collateral UTxO</p></li>
<li><p>Attempt to spend regular UTxO with Plutus script witness and redeemer</p></li>
<li><p>Check that spending fails with script hash not known error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_unlock_tx_wrong_datum">
<span class="sig-name descname"><span class="pre">test_unlock_tx_wrong_datum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_build.py#L358-L426"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_unlock_tx_wrong_datum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output and try to spend it with a wrong datum.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Lock funds at script address with typed datum (datum 42 typed)</p></li>
<li><p>Attempt to spend locked UTxO using different datum format (datum 42 untyped)</p></li>
<li><p>Check that spending fails with ‚Äúwrong datum‚Äù error (unless in era &gt;= Conway)</p></li>
<li><p>Expect failure, unless in era &gt;= Conway.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_build.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_datum_build.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_build.py#L33-L47"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_spend_datum_raw">
<span id="cardano-node-tests-tests-tests-plutus-test-spend-datum-raw-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_spend_datum_raw module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_spend_datum_raw" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for datum while spending with Plutus using <cite>transaction build-raw</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestDatum">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.</span></span><span class="sig-name descname"><span class="pre">TestDatum</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_raw.py#L45-L94"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestDatum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for datum.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestDatum.test_datum_on_key_credential_address">
<span class="sig-name descname"><span class="pre">test_datum_on_key_credential_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_raw.py#L48-L94"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestDatum.test_datum_on_key_credential_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test creating UTxO with datum on address with key credentials (non-script address).</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create transaction output with datum hash on non-script payment address</p></li>
<li><p>Build raw transaction with calculated fee</p></li>
<li><p>Sign and submit transaction</p></li>
<li><p>Query created UTxO and verify datum hash is present</p></li>
<li><p>(optional) Check transaction records in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.</span></span><span class="sig-name descname"><span class="pre">TestNegativeDatum</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_raw.py#L97-L510"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Tx output locking using Plutus smart contracts with wrong datum.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.pbt_highest_utxo">
<span class="sig-name descname"><span class="pre">pbt_highest_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">UTXOData</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_raw.py#L100-L110"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.pbt_highest_utxo" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get UTxO with highest amount of Lovelace.</p>
<p>Meant for property-based tests, so this expensive operation gets executed only once.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.pbt_script_addresses">
<span class="sig-name descname"><span class="pre">pbt_script_addresses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_raw.py#L112-L131"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.pbt_script_addresses" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get Plutus script addresses.</p>
<p>Meant for property-based tests, so this expensive operation gets executed only once.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_lock_tx_invalid_datum">
<span class="sig-name descname"><span class="pre">test_lock_tx_invalid_datum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_raw.py#L217-L272"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_lock_tx_invalid_datum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with an invalid datum (property-based test).</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate random text strings as invalid datum
values to test JSON parsing and validation.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Generate random text string as invalid datum value</p></li>
<li><p>Create malformed datum file with invalid JSON format</p></li>
<li><p>Attempt to build raw transaction with invalid datum file</p></li>
<li><p>Check that transaction building fails with JSON object error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_no_datum_txout">
<span class="sig-name descname"><span class="pre">test_no_datum_txout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_raw.py#L133-L215"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_no_datum_txout" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test using UTxO without datum hash in place of locked UTxO.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create a Tx output without a datum hash</p></li>
<li><p>Try to spend the UTxO like it was locked Plutus UTxO</p></li>
<li><p>Check that the expected error was raised</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_too_big">
<span class="sig-name descname"><span class="pre">test_too_big</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UTXOData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_script_addresses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_raw.py#L441-L510"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_too_big" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to lock a UTxO with datum that is too big (property-based test).</p>
<p>Property-based test using Hypothesis to generate random binary data &gt;= 65 bytes to test
datum size limits (maximum datum size is 64 bytes).</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Generate random binary datum value (minimum 65 bytes)</p></li>
<li><p>Create datum file with oversized binary data</p></li>
<li><p>Attempt to build raw transaction locking UTxO with oversized datum</p></li>
<li><p>Check that transaction building fails with size error (on node &lt; 1.36.0)</p></li>
<li><p>Expect failure on node version &lt; 1.36.0.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_unlock_non_script_utxo">
<span class="sig-name descname"><span class="pre">test_unlock_non_script_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_raw.py#L343-L439"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_unlock_non_script_utxo" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to spend a non-script UTxO with datum as if it was script locked UTxO.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create regular UTxO at payment address with datum hash (non-script address)</p></li>
<li><p>Create collateral UTxO</p></li>
<li><p>Attempt to spend regular UTxO with Plutus script witness and redeemer</p></li>
<li><p>Check that spending fails with MissingScriptWitnessesUTXOW error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_unlock_tx_wrong_datum">
<span class="sig-name descname"><span class="pre">test_unlock_tx_wrong_datum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_raw.py#L274-L341"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_unlock_tx_wrong_datum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output and try to spend it with a wrong datum.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Lock funds at script address with typed datum (datum 42 typed)</p></li>
<li><p>Attempt to spend locked UTxO using different datum format (datum 42 untyped)</p></li>
<li><p>Check that spending fails with supplementary datums error</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_datum_raw.py#L28-L42"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_spend_negative_build">
<span id="cardano-node-tests-tests-tests-plutus-test-spend-negative-build-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_spend_negative_build module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_spend_negative_build" title="Link to this heading">ÔÉÅ</a></h2>
<p>Negative tests for spending with Plutus using <cite>transaction build</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_negative_build.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L49-L549"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Tx output locking using Plutus smart contracts that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_collateral_w_tokens">
<span class="sig-name descname"><span class="pre">test_collateral_w_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L164-L240"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_collateral_w_tokens" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending the locked UTxO while collateral contains native tokens.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create a collateral UTxO with native tokens</p></li>
<li><p>Try to spend the locked UTxO</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_invalid_guessing_game">
<span class="sig-name descname"><span class="pre">test_invalid_guessing_game</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variant</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L308-L388"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_invalid_guessing_game" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with a Plutus script and spending the locked UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<p>Test with ‚Äúguessing game‚Äù script that expects specific datum and redeemer value.
Test negative scenarios where datum or redeemer value is different than expected.
Expect failure.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Try to spend the locked UTxO</p></li>
<li><p>Check that the amount was not transferred and collateral UTxO was not spent</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_no_script">
<span class="sig-name descname"><span class="pre">test_no_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L109-L162"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_no_script" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending the locked UTxO while passing no Plutus script.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Try to spend the locked UTxO using while passing no Plutus script</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_same_collateral_txin">
<span class="sig-name descname"><span class="pre">test_same_collateral_txin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L242-L306"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_same_collateral_txin" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending the locked UTxO while using the same UTxO as collateral.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Try to spend the locked UTxO while using the same UTxO as collateral</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_two_scripts_spending_one_fail">
<span class="sig-name descname"><span class="pre">test_two_scripts_spending_one_fail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L390-L549"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_two_scripts_spending_one_fail" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking two Tx outputs with two different Plutus scripts in single Tx, one fails.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script addresses</p></li>
<li><p>Try to spend the locked UTxOs</p></li>
<li><p>Check that the expected error was raised</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_wrong_script">
<span class="sig-name descname"><span class="pre">test_wrong_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L52-L107"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_wrong_script" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending the locked UTxO while using wrong Plutus script.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Try to spend the locked UTxO while using wrong Plutus script</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_negative_build.</span></span><span class="sig-name descname"><span class="pre">TestNegativeRedeemer</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L552-L1464"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Tx output locking using Plutus smart contracts with wrong redeemer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.AMOUNT">
<span class="sig-name descname"><span class="pre">AMOUNT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">800000</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.AMOUNT" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.KNOWN_FIELDS">
<span class="sig-name descname"><span class="pre">KNOWN_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('int',</span> <span class="pre">'bytes',</span> <span class="pre">'string',</span> <span class="pre">'list',</span> <span class="pre">'map')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.KNOWN_FIELDS" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.MIN_INT_VAL">
<span class="sig-name descname"><span class="pre">MIN_INT_VAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-18446744073709551615</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.MIN_INT_VAL" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.NONINT_FIELDS">
<span class="sig-name descname"><span class="pre">NONINT_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('bytes',</span> <span class="pre">'string',</span> <span class="pre">'list',</span> <span class="pre">'map')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.NONINT_FIELDS" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.fund_script_guessing_game_v1">
<span class="sig-name descname"><span class="pre">fund_script_guessing_game_v1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L560-L587"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.fund_script_guessing_game_v1" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Fund a PlutusV1 script and create the locked UTxO and collateral UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.fund_script_guessing_game_v2">
<span class="sig-name descname"><span class="pre">fund_script_guessing_game_v2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L589-L616"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.fund_script_guessing_game_v2" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Fund a PlutusV2 script and create the locked UTxO and collateral UTxO.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_invalid_json">
<span class="sig-name descname"><span class="pre">test_invalid_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L1240-L1302"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_invalid_json" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building transaction with malformed JSON in redeemer file.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate random strings and create malformed
JSON structures. Tests JSON parsing validation.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random string value</p></li>
<li><p>Create redeemer file with invalid JSON structure (double-encoded string)</p></li>
<li><p>Attempt to build transaction with malformed redeemer JSON</p></li>
<li><p>Check that transaction building fails with ‚ÄúJSON object expected‚Äù error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_typed_bytes_int_declared">
<span class="sig-name descname"><span class="pre">test_json_schema_typed_bytes_int_declared</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L1106-L1171"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_typed_bytes_int_declared" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building transaction with type mismatch declaring int as bytes in typed schema.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate integer values and declare them as ‚Äúbytes‚Äù
in typed JSON schema format (constructor with fields). Tests JSON schema validation.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random integer value</p></li>
<li><p>Create typed redeemer with {‚Äúbytes‚Äù: &lt;int&gt;} declaring int value as bytes type</p></li>
<li><p>Attempt to build transaction with schema-violating redeemer</p></li>
<li><p>Check that transaction building fails with schema type mismatch error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_typed_int_bytes_declared">
<span class="sig-name descname"><span class="pre">test_json_schema_typed_int_bytes_declared</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L972-L1037"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_typed_int_bytes_declared" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building transaction with type mismatch in typed redeemer JSON schema.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate byte strings and declare them as ‚Äúint‚Äù
in typed JSON schema format (constructor with fields). Tests JSON schema validation.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random byte string value (max 64 bytes)</p></li>
<li><p>Create typed redeemer with {‚Äúint‚Äù: &lt;bytes_hex&gt;} declaring bytes value as int type</p></li>
<li><p>Attempt to build transaction with schema-violating redeemer</p></li>
<li><p>Check that transaction building fails with schema type mismatch error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_typed_invalid_type">
<span class="sig-name descname"><span class="pre">test_json_schema_typed_invalid_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L1304-L1383"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_typed_invalid_type" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building transaction with invalid field type name in typed JSON schema.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate invalid type names (not ‚Äúint‚Äù, ‚Äúbytes‚Äù,
‚Äúlist‚Äù, ‚Äúmap‚Äù, or ‚Äústring‚Äù). Tests JSON schema type validation for typed format.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random type name (excluding valid types)</p></li>
<li><p>Create typed redeemer with invalid field type in constructor format</p></li>
<li><p>Attempt to build transaction with invalid schema type</p></li>
<li><p>Check that transaction building fails with ‚ÄúExpected a single field named‚Äù error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_untyped_bytes_int_declared">
<span class="sig-name descname"><span class="pre">test_json_schema_untyped_bytes_int_declared</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L1173-L1238"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_untyped_bytes_int_declared" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building transaction with type mismatch declaring int as bytes in untyped schema.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate integer values and declare them as ‚Äúbytes‚Äù
in untyped JSON schema format (simple key-value). Tests JSON schema validation.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random integer value</p></li>
<li><p>Create untyped redeemer with {‚Äúbytes‚Äù: &lt;int&gt;} declaring int value as bytes type</p></li>
<li><p>Attempt to build transaction with schema-violating redeemer</p></li>
<li><p>Check that transaction building fails with schema type mismatch error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_untyped_int_bytes_declared">
<span class="sig-name descname"><span class="pre">test_json_schema_untyped_int_bytes_declared</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L1039-L1104"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_untyped_int_bytes_declared" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building transaction with type mismatch in untyped redeemer JSON schema.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate byte strings and declare them as ‚Äúint‚Äù
in untyped JSON schema format (simple key-value). Tests JSON schema validation.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random byte string value (max 64 bytes)</p></li>
<li><p>Create untyped redeemer with {‚Äúint‚Äù: &lt;bytes_hex&gt;} declaring bytes value as int type</p></li>
<li><p>Attempt to build transaction with schema-violating redeemer</p></li>
<li><p>Check that transaction building fails with schema type mismatch error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_untyped_invalid_type">
<span class="sig-name descname"><span class="pre">test_json_schema_untyped_invalid_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L1385-L1464"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_untyped_invalid_type" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building transaction with invalid field type name in untyped JSON schema.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate invalid type names (not ‚Äúint‚Äù, ‚Äúbytes‚Äù,
‚Äúlist‚Äù, ‚Äúmap‚Äù, or ‚Äústring‚Äù). Tests JSON schema type validation for untyped format.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random type name (excluding valid types)</p></li>
<li><p>Create untyped redeemer with invalid field type as key</p></li>
<li><p>Attempt to build transaction with invalid schema type</p></li>
<li><p>Check that transaction building fails with ‚ÄúExpected a single field named‚Äù error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_too_big">
<span class="sig-name descname"><span class="pre">test_too_big</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L904-L970"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_too_big" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending locked UTxO with redeemer exceeding maximum byte size limit.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate byte strings larger than 64 bytes
(maximum allowed size for datum/redeemer byte strings).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random byte string value (minimum 65 bytes, exceeding limit)</p></li>
<li><p>Create redeemer file with oversized bytes value</p></li>
<li><p>Attempt to spend locked UTxO with too large redeemer</p></li>
<li><p>Check that transaction building fails with ‚Äúmust consist of at most 64 bytes‚Äù or
‚ÄúIncorrect datum‚Äù error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_type">
<span class="sig-name descname"><span class="pre">test_wrong_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L840-L902"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_type" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending locked UTxO with redeemer of incorrect type (bytes instead of int).</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate random byte strings. The guessing game
script expects an integer redeemer value.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random byte string value (max 64 bytes)</p></li>
<li><p>Create redeemer file with bytes type instead of expected int</p></li>
<li><p>Attempt to spend locked UTxO with wrong type redeemer</p></li>
<li><p>Check that transaction building fails with ‚ÄúIncorrect datum. Expected 42.‚Äù error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_value_above_range">
<span class="sig-name descname"><span class="pre">test_wrong_value_above_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L746-L791"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_value_above_range" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending locked UTxO with redeemer value exceeding maximum allowed integer.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate integer values above MAX_UINT64
(maximum allowed value for Plutus integer types).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random integer redeemer value greater than MAX_UINT64</p></li>
<li><p>Attempt to spend locked UTxO with out-of-range redeemer</p></li>
<li><p>Check that transaction building fails with ‚ÄúValue out of range‚Äù or ‚ÄúIncorrect datum‚Äù error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_value_bellow_range">
<span class="sig-name descname"><span class="pre">test_wrong_value_bellow_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L793-L838"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_value_bellow_range" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending locked UTxO with redeemer value below minimum allowed integer.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate integer values below MIN_INT_VAL
(minimum allowed value for Plutus integer types).</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random integer redeemer value less than MIN_INT_VAL</p></li>
<li><p>Attempt to spend locked UTxO with out-of-range redeemer</p></li>
<li><p>Check that transaction building fails with ‚ÄúValue out of range‚Äù or ‚ÄúIncorrect datum‚Äù error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_value_inside_range">
<span class="sig-name descname"><span class="pre">test_wrong_value_inside_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L667-L744"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_value_inside_range" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending locked UTxO with incorrect redeemer value within valid integer range.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate random integer redeemer values
(excluding 42) within the valid range. The guessing game script expects redeemer value 42.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random integer redeemer value (not 42) within valid range</p></li>
<li><p>Create redeemer file with wrong value</p></li>
<li><p>Attempt to spend locked UTxO with incorrect redeemer</p></li>
<li><p>Check that transaction building fails with script evaluation error</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_build.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_negative_build.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_build.py#L32-L46"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_spend_negative_raw">
<span id="cardano-node-tests-tests-tests-plutus-test-spend-negative-raw-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_spend_negative_raw module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_spend_negative_raw" title="Link to this heading">ÔÉÅ</a></h2>
<p>Negative tests for spending with Plutus using <cite>transaction build-raw</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L57-L696"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Tx output locking using Plutus smart contracts that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.fund_execution_units_above_limit">
<span class="sig-name descname"><span class="pre">fund_execution_units_above_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.PlutusOp" title="cardano_node_tests.tests.plutus_common.PlutusOp"><span class="pre">PlutusOp</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L64-L90"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.fund_execution_units_above_limit" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.pparams">
<span class="sig-name descname"><span class="pre">pparams</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L60-L62"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.pparams" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_collateral_percent">
<span class="sig-name descname"><span class="pre">test_collateral_percent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L405-L462"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_collateral_percent" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to spend locked UTxO while collateral is less than required.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Create a collateral UTxO with amount of ADA less than required by <cite>collateralPercentage</cite></p></li>
<li><p>Try to spend the UTxO</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_collateral_w_tokens">
<span class="sig-name descname"><span class="pre">test_collateral_w_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L282-L347"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_collateral_w_tokens" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending the locked UTxO while collateral contains native tokens.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create a collateral UTxO with native tokens</p></li>
<li><p>Try to spend the locked UTxO</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_execution_units_above_limit">
<span class="sig-name descname"><span class="pre">test_execution_units_above_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_execution_units_above_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.PlutusOp" title="cardano_node_tests.tests.plutus_common.PlutusOp"><span class="pre">PlutusOp</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pparams</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L627-L696"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_execution_units_above_limit" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending a locked UTxO with a Plutus script with execution units above the limit.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Fund the script address and create a UTxO for collateral</p></li>
<li><p>Try to spend the locked UTxO when execution units are set above the limits</p></li>
<li><p>Check that failed because the execution units were too big</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_invalid_guessing_game">
<span class="sig-name descname"><span class="pre">test_invalid_guessing_game</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variant</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L92-L167"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_invalid_guessing_game" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with a Plutus script and spending the locked UTxO.</p>
<p>Test with ‚Äúguessing game‚Äù script that expects specific datum and redeemer value.
Test negative scenarios where datum or redeemer value is different than expected.
Expect failure.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Try to spend the locked UTxO</p></li>
<li><p>Check that the amount was not transferred and collateral UTxO was not spent</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_no_script">
<span class="sig-name descname"><span class="pre">test_no_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L228-L280"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_no_script" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending the locked UTxO while passing no Plutus script.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Try to spend the locked UTxO while passing no Plutus script</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_same_collateral_txin">
<span class="sig-name descname"><span class="pre">test_same_collateral_txin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L349-L403"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_same_collateral_txin" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending the locked UTxO while using the same UTxO as collateral.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Try to spend the locked UTxO while using the same UTxO as collateral</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_two_scripts_spending_one_fail">
<span class="sig-name descname"><span class="pre">test_two_scripts_spending_one_fail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L464-L625"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_two_scripts_spending_one_fail" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking two Tx outputs with two different Plutus scripts in single Tx, one fails.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script addresses</p></li>
<li><p>Try to spend the locked UTxOs</p></li>
<li><p>Check that the expected error was raised</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_wrong_script">
<span class="sig-name descname"><span class="pre">test_wrong_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L169-L226"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_wrong_script" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending the locked UTxO while using wrong Plutus script.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Try to spend the locked UTxO while using wrong Plutus script</p></li>
<li><p>Check that the expected error was raised</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.</span></span><span class="sig-name descname"><span class="pre">TestNegativeRedeemer</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L699-L1729"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Tx output locking using Plutus smart contracts with wrong redeemer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.AMOUNT">
<span class="sig-name descname"><span class="pre">AMOUNT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2000000</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.AMOUNT" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.KNOWN_FIELDS">
<span class="sig-name descname"><span class="pre">KNOWN_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('int',</span> <span class="pre">'bytes',</span> <span class="pre">'string',</span> <span class="pre">'list',</span> <span class="pre">'map')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.KNOWN_FIELDS" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.MIN_INT_VAL">
<span class="sig-name descname"><span class="pre">MIN_INT_VAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-18446744073709551615</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.MIN_INT_VAL" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.NONINT_FIELDS">
<span class="sig-name descname"><span class="pre">NONINT_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('bytes',</span> <span class="pre">'string',</span> <span class="pre">'list',</span> <span class="pre">'map')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.NONINT_FIELDS" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.cost_per_unit">
<span class="sig-name descname"><span class="pre">cost_per_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L799-L806"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.cost_per_unit" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.fund_script_guessing_game_v1">
<span class="sig-name descname"><span class="pre">fund_script_guessing_game_v1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L749-L772"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.fund_script_guessing_game_v1" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.fund_script_guessing_game_v2">
<span class="sig-name descname"><span class="pre">fund_script_guessing_game_v2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L774-L797"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.fund_script_guessing_game_v2" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_invalid_json">
<span class="sig-name descname"><span class="pre">test_invalid_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L1539-L1591"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_invalid_json" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building raw transaction with malformed JSON in redeemer.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate random strings and create malformed
JSON structures. Tests JSON parsing validation.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random string value</p></li>
<li><p>Create malformed JSON redeemer (double-encoded string)</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Attempt to build raw transaction with malformed redeemer JSON</p></li>
<li><p>Check that transaction building fails with JSON parsing error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_typed_bytes_int_declared">
<span class="sig-name descname"><span class="pre">test_json_schema_typed_bytes_int_declared</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L1435-L1485"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_typed_bytes_int_declared" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building raw transaction with type mismatch declaring int as bytes in typed schema.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate integer values and declare them as ‚Äúbytes‚Äù
in typed JSON schema format (constructor with fields). Tests JSON schema validation.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random integer value</p></li>
<li><p>Create typed redeemer with {‚Äúbytes‚Äù: &lt;int&gt;} declaring int value as bytes type</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Attempt to build raw transaction with schema-violating redeemer</p></li>
<li><p>Check that transaction building fails with schema type mismatch error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_typed_int_bytes_declared">
<span class="sig-name descname"><span class="pre">test_json_schema_typed_int_bytes_declared</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L1330-L1381"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_typed_int_bytes_declared" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building raw transaction with type mismatch in typed redeemer JSON schema.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate byte strings and declare them as ‚Äúint‚Äù
in typed JSON schema format (constructor with fields). Tests JSON schema validation.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random byte string value (max 64 bytes)</p></li>
<li><p>Create typed redeemer with {‚Äúint‚Äù: &lt;bytes_hex&gt;} declaring bytes value as int type</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Attempt to build raw transaction with schema-violating redeemer</p></li>
<li><p>Check that transaction building fails with schema type mismatch error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_typed_invalid_type">
<span class="sig-name descname"><span class="pre">test_json_schema_typed_invalid_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L1593-L1660"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_typed_invalid_type" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building raw transaction with invalid field type name in typed JSON schema.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate invalid type names (not ‚Äúint‚Äù, ‚Äúbytes‚Äù,
‚Äúlist‚Äù, ‚Äúmap‚Äù, or ‚Äústring‚Äù). Tests JSON schema type validation for typed format.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random type name (excluding valid types)</p></li>
<li><p>Create typed redeemer with invalid field type in constructor format</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Attempt to build raw transaction with invalid schema type</p></li>
<li><p>Check that transaction building fails with ‚ÄúExpected a single field named‚Äù error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_untyped_bytes_int_declared">
<span class="sig-name descname"><span class="pre">test_json_schema_untyped_bytes_int_declared</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L1487-L1537"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_untyped_bytes_int_declared" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building raw transaction with type mismatch declaring int as bytes.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate integer values and declare them as ‚Äúbytes‚Äù
in untyped JSON schema format (simple key-value). Tests JSON schema validation.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random integer value</p></li>
<li><p>Create untyped redeemer with {‚Äúbytes‚Äù: &lt;int&gt;} declaring int value as bytes type</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Attempt to build raw transaction with schema-violating redeemer</p></li>
<li><p>Check that transaction building fails with schema type mismatch error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_untyped_int_bytes_declared">
<span class="sig-name descname"><span class="pre">test_json_schema_untyped_int_bytes_declared</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L1383-L1433"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_untyped_int_bytes_declared" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building raw transaction with type mismatch in untyped redeemer JSON schema.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate byte strings and declare them as ‚Äúint‚Äù
in untyped JSON schema format (simple key-value). Tests JSON schema validation.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random byte string value (max 64 bytes)</p></li>
<li><p>Create untyped redeemer with {‚Äúint‚Äù: &lt;bytes_hex&gt;} declaring bytes value as int type</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Attempt to build raw transaction with schema-violating redeemer</p></li>
<li><p>Check that transaction building fails with schema type mismatch error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_untyped_invalid_type">
<span class="sig-name descname"><span class="pre">test_json_schema_untyped_invalid_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L1662-L1729"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_untyped_invalid_type" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test building raw transaction with invalid field type name in untyped JSON schema.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate invalid type names (not ‚Äúint‚Äù, ‚Äúbytes‚Äù,
‚Äúlist‚Äù, ‚Äúmap‚Äù, or ‚Äústring‚Äù). Tests JSON schema type validation for untyped format.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random type name (excluding valid types)</p></li>
<li><p>Create untyped redeemer with invalid field type as key</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Attempt to build raw transaction with invalid schema type</p></li>
<li><p>Check that transaction building fails with ‚ÄúExpected a single field named‚Äù error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_too_big">
<span class="sig-name descname"><span class="pre">test_too_big</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L1241-L1328"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_too_big" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending locked UTxO with redeemer exceeding maximum byte size limit.</p>
<p>Property-based test using Hypothesis to generate byte strings larger than 64 bytes
(maximum allowed size for datum/redeemer byte strings).</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random byte string value (minimum 65 bytes, exceeding limit)</p></li>
<li><p>Create redeemer file with oversized bytes value</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Build raw transaction attempting to spend locked UTxO with too large redeemer</p></li>
<li><p>Sign and submit transaction</p></li>
<li><p>Check that transaction submission fails with ValidationTagMismatch error</p></li>
<li><p>Expect failure on node version &lt; 1.36.0.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_type">
<span class="sig-name descname"><span class="pre">test_wrong_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L1141-L1239"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_type" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending locked UTxO with redeemer of incorrect type (bytes instead of int).</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate random byte strings. The guessing game
script expects an integer redeemer value.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random byte string value (max 64 bytes)</p></li>
<li><p>Create redeemer file with bytes type instead of expected int</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Build raw transaction attempting to spend locked UTxO with wrong type redeemer</p></li>
<li><p>Sign and submit transaction</p></li>
<li><p>Check that transaction submission fails with ValidationTagMismatch error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_value_above_range">
<span class="sig-name descname"><span class="pre">test_wrong_value_above_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L1086-L1139"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_value_above_range" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending locked UTxO with redeemer value exceeding maximum allowed integer.</p>
<p>Property-based test using Hypothesis to generate integer values above MAX_UINT64
(maximum allowed value for Plutus integer types).</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random integer redeemer value greater than MAX_UINT64</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Build raw transaction attempting to spend locked UTxO with out-of-range redeemer</p></li>
<li><p>Sign and submit transaction</p></li>
<li><p>Check that transaction submission fails with ValidationTagMismatch error</p></li>
<li><p>Expect failure on node version &lt; 1.36.0.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_value_bellow_range">
<span class="sig-name descname"><span class="pre">test_wrong_value_bellow_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L1031-L1084"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_value_bellow_range" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending locked UTxO with redeemer value below minimum allowed integer.</p>
<p>Property-based test using Hypothesis to generate integer values below MIN_INT_VAL
(minimum allowed value for Plutus integer types).</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random integer redeemer value less than MIN_INT_VAL</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Build raw transaction attempting to spend locked UTxO with out-of-range redeemer</p></li>
<li><p>Sign and submit transaction</p></li>
<li><p>Check that transaction submission fails with ValidationTagMismatch error</p></li>
<li><p>Expect failure on node version &lt; 1.36.0.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_value_inside_range">
<span class="sig-name descname"><span class="pre">test_wrong_value_inside_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_guessing_game_v2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_per_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.tests.html#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L920-L1029"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_value_inside_range" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending locked UTxO with incorrect redeemer value within valid integer range.</p>
<p>Expect failure.</p>
<p>Property-based test using Hypothesis to generate random integer redeemer values
(excluding 42) within the valid range. The guessing game script expects redeemer value 42.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use pre-funded script UTxO with datum 42 at guessing game script address</p></li>
<li><p>Generate random integer redeemer value (not 42) within valid range</p></li>
<li><p>Create redeemer file with wrong value</p></li>
<li><p>Calculate execution units and transaction fee</p></li>
<li><p>Build raw transaction attempting to spend locked UTxO with incorrect redeemer</p></li>
<li><p>Sign and submit transaction</p></li>
<li><p>Check that transaction submission fails with ValidationTagMismatch error</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_negative_raw.py#L40-L54"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus.test_spend_raw">
<span id="cardano-node-tests-tests-tests-plutus-test-spend-raw-module"></span><h2>cardano_node_tests.tests.tests_plutus.test_spend_raw module<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus.test_spend_raw" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for spending with Plutus using <cite>transaction build-raw</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_raw.</span></span><span class="sig-name descname"><span class="pre">TestLocking</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L119-L1015"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Tx output locking using Plutus smart contracts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_always_fails">
<span class="sig-name descname"><span class="pre">test_always_fails</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L626-L686"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_always_fails" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with a Plutus script and spending the locked UTxO.</p>
<p>Test with ‚Äúalways fails‚Äù script that fails for all datum / redeemer values.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Try to spend the locked UTxO</p></li>
<li><p>Check that the amount was not transferred, collateral UTxO was not spent
and the expected error was raised</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_collaterals">
<span class="sig-name descname"><span class="pre">test_collaterals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L896-L1015"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_collaterals" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test dividing required collateral amount into multiple collateral UTxOs.</p>
<p>Test 3 scenarios:
1. maximum allowed number of collateral inputs
2. more collateral inputs than what is allowed
3. no collateral input</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Create multiple UTxOs for collateral</p></li>
<li><p>Spend the locked UTxO</p></li>
<li><p>Check that the expected amount was spent when success is expected</p></li>
<li><p>OR check that the amount was not transferred and collateral UTxO was not spent
when failure is expected</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_context_equivalence">
<span class="sig-name descname"><span class="pre">test_context_equivalence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L178-L284"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_context_equivalence" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test context equivalence while spending a locked UTxO.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Generate a dummy redeemer and a dummy Tx</p></li>
<li><p>Derive the correct redeemer from the dummy Tx</p></li>
<li><p>Spend the locked UTxO using the derived redeemer</p></li>
<li><p>Check that the expected amount was spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_guessing_game">
<span class="sig-name descname"><span class="pre">test_guessing_game</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_datum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variant</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L286-L389"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_guessing_game" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with a Plutus script and spending the locked UTxO.</p>
<p>Test with ‚Äúguessing game‚Äù scripts that expect specific datum and redeemer value.
Test both typed and untyped redeemer and datum.
Test passing datum and redeemer to <cite>cardano-cli</cite> as value, json file and cbor file.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Spend the locked UTxO</p></li>
<li><p>Check that the expected amount was spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_partial_spending">
<span class="sig-name descname"><span class="pre">test_partial_spending</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L806-L894"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_partial_spending" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending part of funds (Lovelace and native tokens) on a locked UTxO.</p>
<ul class="simple">
<li><p>Create a Tx output that contains native tokens with a datum hash at the script address</p></li>
<li><p>Check that expected amounts of Lovelace and native tokens were locked at the script
address</p></li>
<li><p>Spend the locked UTxO and create new locked UTxO with change</p></li>
<li><p>Check that the expected amounts of Lovelace and native tokens were spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_script_invalid">
<span class="sig-name descname"><span class="pre">test_script_invalid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L688-L740"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_script_invalid" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test failing script together with the <cite>‚Äìscript-invalid</cite> argument - collateral is taken.</p>
<p>Test with ‚Äúalways fails‚Äù script that fails for all datum / redeemer values.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Try to spend the locked UTxO</p></li>
<li><p>Check that the amount was not transferred and collateral UTxO was spent</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_two_scripts_spending">
<span class="sig-name descname"><span class="pre">test_two_scripts_spending</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L391-L624"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_two_scripts_spending" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking two Tx outputs with two different Plutus scripts in single Tx.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Spend the locked UTxO</p></li>
<li><p>Check that the expected amount was spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_txout_locking">
<span class="sig-name descname"><span class="pre">test_txout_locking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L122-L176"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_txout_locking" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with a Plutus script and spending the locked UTxO.</p>
<p>Corresponds to Exercise 3 for Alonzo Blue.</p>
<ul class="simple">
<li><p>Create a Tx output with a datum hash at the script address</p></li>
<li><p>Check that the expected amount was locked at the script address</p></li>
<li><p>Spend the locked UTxO</p></li>
<li><p>Check that the expected amount was spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_txout_token_locking">
<span class="sig-name descname"><span class="pre">test_txout_token_locking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L742-L804"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_txout_token_locking" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test locking a Tx output with native tokens and spending the locked UTxO.</p>
<ul class="simple">
<li><p>Create a Tx output that contains native tokens with a datum hash at the script address</p></li>
<li><p>Check that expected amounts of Lovelace and native tokens were locked at the script
address</p></li>
<li><p>Spend the locked UTxO</p></li>
<li><p>Check that the expected amounts of Lovelace and native tokens were spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_raw.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L36-L50"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tests_plutus.test_spend_raw.pool_users">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tests_plutus.test_spend_raw.</span></span><span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tests_plutus/test_spend_raw.py#L53-L67"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tests_plutus.test_spend_raw.pool_users" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new pool users.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tests_plutus">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cardano_node_tests.tests.tests_plutus" title="Link to this heading">ÔÉÅ</a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cardano_node_tests.tests.tests_conway.html" class="btn btn-neutral float-left" title="cardano_node_tests.tests.tests_conway package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cardano_node_tests.tests.tests_plutus_v2.html" class="btn btn-neutral float-right" title="cardano_node_tests.tests.tests_plutus_v2 package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>