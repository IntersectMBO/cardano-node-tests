

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>cardano_node_tests.tests package &mdash; cardano-node-tests  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/copyright.css?v=45fba407" />
      <link rel="stylesheet" type="text/css" href="_static/css/tables.css?v=78ac1f1e" />

  
    <link rel="shortcut icon" href="https://user-images.githubusercontent.com/2352619/223086153-522289f3-9902-4f63-ad7b-a7d9c5789db0.png"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="cardano_node_tests.tests.tests_conway package" href="cardano_node_tests.tests.tests_conway.html" />
    <link rel="prev" title="cardano_node_tests.pytest_plugins package" href="cardano_node_tests.pytest_plugins.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            cardano-node-tests
              <img src="_static/Cardano-Crypto-Logo-128.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">cardano-node-tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="readme.html#running-tests-with-github-actions">üöÄ Running Tests with GitHub Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#running-tests-locally-with-nix">üõ†Ô∏è Running Tests Locally with Nix</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#running-individual-tests-with-custom-binaries">üß™ Running Individual Tests with Custom Binaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#persistent-local-testnet-for-repeated-testing">üîÅ Persistent Local Testnet for Repeated Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#test-configuration-variables">‚öôÔ∏è Test Configuration Variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="readme.html#additional-for-regression-sh">Additional for <code class="docutils literal notranslate"><span class="pre">regression.sh</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#usage-examples">üí° Usage Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#local-development-for-test-authors">üíª Local Development for Test Authors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="readme.html#set-up-python-environment">Set Up Python Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#activate-dev-environment">Activate Dev Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#validate-dev-environment">Validate Dev Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#start-development-testnet-cluster">Start Development Testnet Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#run-individual-tests">Run Individual Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#run-linters">Run Linters</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#reinstall-cardano-clusterlib-in-editable-mode">Reinstall <code class="docutils literal notranslate"><span class="pre">cardano-clusterlib</span></code> in Editable Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#update-uv-lockfile">Update uv Lockfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="readme.html#build-and-deploy-documentation">Build and Deploy Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="readme.html#contributing">ü§ù Contributing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="test_results.html">Test Results</a><ul>
<li class="toctree-l2"><a class="reference internal" href="test_results/nightly_system_tests.html">Nightly system tests pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test_results/nightly_system_tests.html#test-statuses">Test statuses</a></li>
<li class="toctree-l3"><a class="reference internal" href="test_results/nightly_system_tests.html#nightly-results">Nightly results</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/nightly_system_tests.html#nightly-upgrade-testing">Nightly upgrade testing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="test_results/sync_tests.html">Sync Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test_results/sync_tests.html#sync-test-results-by-cardano-node-version">Sync Test Results by Cardano Node Version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="test_results/tag_tests.html">Tag Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_6_2.html">10.6.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_6_2.html#release-testing-checklists">Release Testing Checklists</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_6_1.html">10.6.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_6_1.html#release-testing-checklists">Release Testing Checklists</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_6_1.html#new-issues">New issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_5_1.html">10.5.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_5_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_5_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_5_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_5_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_5_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_4_1.html">10.4.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_4_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_4_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_4_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_4_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_4_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_3_1.html">10.3.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_3_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_3_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_3_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_3_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_3_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_2_1.html">10.2.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_2_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_2_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_2_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_2_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_2_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_1_2.html">10.1.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_2.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_2.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_2.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_2.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_2.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_10_1_1.html">10.1.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_10_1_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_9_0_0.html">9.0.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_9_0_0.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_11_0.html">8.11.0-pre</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_11_0.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_9_3.html">8.9.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_3.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_9_1.html">8.9.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_9_0.html">8.9.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_9_0.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_8_0.html">8.8.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_8_0.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_7_3.html">8.7.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_3.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_7_2.html">8.7.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_7_2.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html">8.6.0-pre</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_6_0_pre.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_1_1.html">8.1.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#known-issues">Known issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_1_1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_8_0_0.html">8.0.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_8_0_0.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_7.html">1.35.7</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#breaking-changes">Breaking changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_7.html#component-level-test-tracking">Component Level Test Tracking</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_6.html">1.35.6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#breaking-changes">Breaking changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_6.html#component-level-test-tracking">Component Level Test Tracking</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_5.html">1.35.5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_5.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html">1.35.4-rc1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#secp256k1-iog-test-tracking">SECP256k1 IOG Test Tracking</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_4_rc1.html#breaking-changes">Breaking changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/node/tag_1_35_3.html">1.35.3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#changelogs">Changelogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#regression-testing-on-a-local-cluster">Regression testing on a local cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#release-testing-checklist">Release testing checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#new-functionalities-in-this-tag">New functionalities in this tag</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#new-issues">New issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#breaking-changes">Breaking changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/node/tag_1_35_3.html#relevant-existing-issues">Relevant existing issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="test_results/chang_user_stories.html">Chang HF User Stories</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html">System Tests Coverage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html#cli-user-stories">CLI User Stories</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html#cip1694-user-stories">CIP1694 User Stories</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html#governance-guardrails-user-stories">Governance guardrails User Stories</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html#internal-test-cases">Internal Test Cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/chang_user_stories_system_tests.html#db-sync-conway-related-tables">DB Sync - Conway related tables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test_results/requirements/plutusV3_user_stories_system_tests.html">PlutusV3 System Tests Coverage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test_results/requirements/plutusV3_user_stories_system_tests.html#smart-contract-user-stories">Smart Contract User Stories</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="test_plans.html">Test Plans</a><ul>
<li class="toctree-l2"><a class="reference internal" href="test-plans/100_conway_governance.html">Governance testing in Conway</a><ul>
<li class="toctree-l3"><a class="reference internal" href="test-plans/100_conway_governance.html#committee">Committee</a></li>
<li class="toctree-l3"><a class="reference internal" href="test-plans/100_conway_governance.html#dreps">DReps</a></li>
<li class="toctree-l3"><a class="reference internal" href="test-plans/100_conway_governance.html#actions-voting-ratification-and-enactment">Actions, Voting, Ratification and Enactment</a></li>
<li class="toctree-l3"><a class="reference internal" href="test-plans/100_conway_governance.html#spos">SPOs</a></li>
<li class="toctree-l3"><a class="reference internal" href="test-plans/100_conway_governance.html#transactions">Transactions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="process.html">Process</a><ul>
<li class="toctree-l2"><a class="reference internal" href="process/100_test_types.html">Types and levels of tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/100_test_types.html#node-system-tests">Node system tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#node-nightly-cli-tests">Node nightly CLI tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#node-cli-tests-on-demand">Node CLI tests (on demand)</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#node-sync-tests">Node sync tests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/100_test_types.html#db-sync-system-tests">DB Sync system tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#db-sync-nightly-tests">DB Sync nightly tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#db-sync-feature-tests-on-demand">DB Sync feature tests (on demand)</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/100_test_types.html#db-sync-sync-tests">DB Sync sync tests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/100_test_types.html#exploratory-testing">Exploratory testing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/200_quality_control_strategy.html">Quality control strategy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#scope-and-objectives">Scope and objectives</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#key-principles">Key principles</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#quality-control-approach">Quality control approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/200_quality_control_strategy.html#quality-control-methodology">Quality control methodology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/200_quality_control_strategy.html#active-quality-control">Active quality control</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/200_quality_control_strategy.html#passive-quality-control">Passive quality control</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/300_uat_strategy.html">User acceptance test strategy</a></li>
<li class="toctree-l2"><a class="reference internal" href="process/400_plutus.html">Plutus System-Level Testing Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/400_plutus.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_plutus.html#scope">Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_plutus.html#not-in-scope">Not in scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_plutus.html#automation">Automation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/400_plutus.html#antaeus">Antaeus</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/400_plutus.html#cardano-node-tests">Cardano-node-tests</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/400_plutus.html#exploratory-testing">Exploratory Testing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/400_system_level_tag_testing.html">System-Level Tag Testing Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/400_system_level_tag_testing.html#what-we-do">What (We do)</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_system_level_tag_testing.html#where-results">Where (Results)</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_system_level_tag_testing.html#how-we-do-it">How (We do it)</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/400_system_level_tag_testing.html#how-long-does-it-take">How long does it take?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="how-tos.html">How Tos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html">Testing MIR certificate submission with a local cluster</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#creating-key-pairs">Creating key pairs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#payment-key-pair">Payment key pair</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#stake-key-pair">Stake key pair</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#payment-address">Payment address</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#stake-address">Stake address</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#transferring-funds-from-the-faucet-address-to-our-own-shelley-address-payment-addr">Transferring funds from the ‚Äòfaucet‚Äô address to our own Shelley address <code class="docutils literal notranslate"><span class="pre">payment.addr</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#build-tx">Build tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#sign-tx">Sign tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#submit-tx">Submit tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#check-funds-on-the-payment-addr">Check funds on the payment.addr</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#creating-a-stake-registration-certificate">Creating a stake registration certificate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#submitting-the-certificate-with-a-transaction">Submitting the certificate with a transaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#our-stake-address-has-id-13-and-is-registered">Our stake address has id=13 and is registered</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#deregistering-an-empty-stake-address">Deregistering an ‚Äòempty‚Äô stake address</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#creating-a-deregistration-certificate">Creating a deregistration certificate</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#generating-mir-cert-to-send-funds-from-reserves-to-unregistered-stake-address">Generating MIR cert to send funds from reserves to unregistered stake address</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#id4">Build tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#id5">Sign tx</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#id6">Submit tx</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#state-of-tables-after-mir-cert-tx-submission">State of tables after MIR cert tx submission</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#logs">Logs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="how-tos/350_mir_cert_test_example_manual_steps.html#stdout-log">stdout.log</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="how-tos/380_stake_credential_history_tool.html">Stake credential history tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how-tos/380_stake_credential_history_tool.html#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/380_stake_credential_history_tool.html#example-of-usage">Example of usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="how-tos/500_smash_faq.html">SMASH FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html">SMASH - tests and debugging examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#checking-smash-status">Checking SMASH status</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#fetching-of-the-metadata">Fetching of the metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#delisting-pools">Delisting pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#reserving-a-ticker">Reserving a ticker</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#whitelisting">Whitelisting</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#checking-pool-rejection-errors">Checking pool rejection errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#pool-unregistrations">Pool unregistrations</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#fetch-policies-from-another-smash-service">Fetch policies from another SMASH service</a></li>
<li class="toctree-l3"><a class="reference internal" href="how-tos/520_smash_tests_and_debugging_examples.html#an-example-of-debugging-an-issue-with-a-pool">An example of debugging an issue with a pool</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contribute/contributing.html">Contributing to the Cardano node tests repository</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contribute/contributing.html#how-can-i-contribute">How can I contribute?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#reporting-an-issue">Reporting an issue</a><ul>
<li class="toctree-l4"><a class="reference internal" href="contribute/contributing.html#how-do-i-submit-a-good-issue-report">How do I submit a (good) issue report?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#your-first-code-contribution">Your first code contribution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="contribute/contributing.html#pull-requests">Pull requests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contribute/contributing.html#id1">Style guides</a><ul>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#git-commit-messages">Git commit messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="contribute/contributing.html#python-style-guide">Python style guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="contribute/contributing.html#roles-and-responsibilities">Roles and Responsibilities</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Source Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="cardano_node_tests.html">cardano_node_tests package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="cardano_node_tests.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.cluster_management.html">cardano_node_tests.cluster_management package</a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.pytest_plugins.html">cardano_node_tests.pytest_plugins package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">cardano_node_tests.tests package</a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.utils.html">cardano_node_tests.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.block_production_graph">cardano_node_tests.block_production_graph module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.block_production_graph.get_blocks_per_backend"><code class="docutils literal notranslate"><span class="pre">get_blocks_per_backend()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.block_production_graph.get_latest_run_id"><code class="docutils literal notranslate"><span class="pre">get_latest_run_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.block_production_graph.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.block_production_graph.parse_args"><code class="docutils literal notranslate"><span class="pre">parse_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.block_production_graph.plot_backend_blocks"><code class="docutils literal notranslate"><span class="pre">plot_backend_blocks()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.cardano_cli_coverage">cardano_node_tests.cardano_cli_coverage module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.cli"><code class="docutils literal notranslate"><span class="pre">cli()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_available_commands"><code class="docutils literal notranslate"><span class="pre">get_available_commands()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_badge_icon"><code class="docutils literal notranslate"><span class="pre">get_badge_icon()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_coverage"><code class="docutils literal notranslate"><span class="pre">get_coverage()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_log_coverage"><code class="docutils literal notranslate"><span class="pre">get_log_coverage()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.get_report"><code class="docutils literal notranslate"><span class="pre">get_report()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.merge_coverage"><code class="docutils literal notranslate"><span class="pre">merge_coverage()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.parse_cmd_output"><code class="docutils literal notranslate"><span class="pre">parse_cmd_output()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.cardano_cli_coverage.sanitize_coverage"><code class="docutils literal notranslate"><span class="pre">sanitize_coverage()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.chang_us_coverage">cardano_node_tests.chang_us_coverage module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.chang_us_coverage.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.chang_us_coverage.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.defragment_utxos">cardano_node_tests.defragment_utxos module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.defragment_utxos.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.defragment_utxos.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.dump_requirements_coverage">cardano_node_tests.dump_requirements_coverage module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.dump_requirements_coverage.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.dump_requirements_coverage.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.prepare_cluster_scripts">cardano_node_tests.prepare_cluster_scripts module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.prepare_cluster_scripts.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.prepare_cluster_scripts.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.prepare_cluster_scripts.prepare_scripts_files"><code class="docutils literal notranslate"><span class="pre">prepare_scripts_files()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.split_topology">cardano_node_tests.split_topology module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.split_topology.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.split_topology.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.testnet_cleanup">cardano_node_tests.testnet_cleanup module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.testnet_cleanup.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.testnet_cleanup.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests.testnet_cleanup_info">cardano_node_tests.testnet_cleanup_info module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.testnet_cleanup_info.get_args"><code class="docutils literal notranslate"><span class="pre">get_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.html#cardano_node_tests.testnet_cleanup_info.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.html#module-cardano_node_tests">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">cardano-node-tests</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Source Documentation</a></li>
          <li class="breadcrumb-item"><a href="cardano_node_tests.html">cardano_node_tests package</a></li>
      <li class="breadcrumb-item active">cardano_node_tests.tests package</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/IntersectMBO/cardano-node-tests/blob/master/src_docs/source/cardano_node_tests.tests.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cardano-node-tests-tests-package">
<h1>cardano_node_tests.tests package<a class="headerlink" href="#cardano-node-tests-tests-package" title="Link to this heading">ÔÉÅ</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading">ÔÉÅ</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html">cardano_node_tests.tests.tests_conway package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.conftest">cardano_node_tests.tests.tests_conway.conftest module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conftest.cluster_lock_governance"><code class="docutils literal notranslate"><span class="pre">cluster_lock_governance()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conftest.cluster_lock_governance_plutus"><code class="docutils literal notranslate"><span class="pre">cluster_lock_governance_plutus()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conftest.cluster_use_committee"><code class="docutils literal notranslate"><span class="pre">cluster_use_committee()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conftest.cluster_use_dreps"><code class="docutils literal notranslate"><span class="pre">cluster_use_dreps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conftest.cluster_use_governance"><code class="docutils literal notranslate"><span class="pre">cluster_use_governance()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.conway_common">cardano_node_tests.tests.tests_conway.conway_common module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.PParamPropRec"><code class="docutils literal notranslate"><span class="pre">PParamPropRec</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.PParamPropRec.action_ix"><code class="docutils literal notranslate"><span class="pre">PParamPropRec.action_ix</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.PParamPropRec.action_txid"><code class="docutils literal notranslate"><span class="pre">PParamPropRec.action_txid</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.PParamPropRec.future_pparams"><code class="docutils literal notranslate"><span class="pre">PParamPropRec.future_pparams</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.PParamPropRec.proposal_names"><code class="docutils literal notranslate"><span class="pre">PParamPropRec.proposal_names</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.PParamPropRec.proposals"><code class="docutils literal notranslate"><span class="pre">PParamPropRec.proposals</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.cast_vote"><code class="docutils literal notranslate"><span class="pre">cast_vote()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.get_committee_val"><code class="docutils literal notranslate"><span class="pre">get_committee_val()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.get_no_abstain_vote"><code class="docutils literal notranslate"><span class="pre">get_no_abstain_vote()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.get_yes_abstain_vote"><code class="docutils literal notranslate"><span class="pre">get_yes_abstain_vote()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.is_in_bootstrap"><code class="docutils literal notranslate"><span class="pre">is_in_bootstrap()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.possible_rem_issue"><code class="docutils literal notranslate"><span class="pre">possible_rem_issue()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.propose_change_constitution"><code class="docutils literal notranslate"><span class="pre">propose_change_constitution()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.propose_pparams_update"><code class="docutils literal notranslate"><span class="pre">propose_pparams_update()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.resign_ccs"><code class="docutils literal notranslate"><span class="pre">resign_ccs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.save_committee_state"><code class="docutils literal notranslate"><span class="pre">save_committee_state()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.save_drep_state"><code class="docutils literal notranslate"><span class="pre">save_drep_state()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.save_gov_state"><code class="docutils literal notranslate"><span class="pre">save_gov_state()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.submit_vote"><code class="docutils literal notranslate"><span class="pre">submit_vote()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.conway_common.update_cost_model"><code class="docutils literal notranslate"><span class="pre">update_cost_model()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_committee">cardano_node_tests.tests.tests_conway.test_committee module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.TestCommittee"><code class="docutils literal notranslate"><span class="pre">TestCommittee</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.TestCommittee.test_add_rm_committee_members"><code class="docutils literal notranslate"><span class="pre">TestCommittee.test_add_rm_committee_members()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.TestCommittee.test_committee_zero_threshold"><code class="docutils literal notranslate"><span class="pre">TestCommittee.test_committee_zero_threshold()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.TestCommittee.test_empty_committee"><code class="docutils literal notranslate"><span class="pre">TestCommittee.test_empty_committee()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.TestCommittee.test_invalid_cc_member_vote"><code class="docutils literal notranslate"><span class="pre">TestCommittee.test_invalid_cc_member_vote()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.TestCommittee.test_register_hot_key_no_cc_member"><code class="docutils literal notranslate"><span class="pre">TestCommittee.test_register_hot_key_no_cc_member()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.TestCommittee.test_update_committee_action"><code class="docutils literal notranslate"><span class="pre">TestCommittee.test_update_committee_action()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.TestCommittee.test_update_committee_threshold_out_of_range"><code class="docutils literal notranslate"><span class="pre">TestCommittee.test_update_committee_threshold_out_of_range()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.payment_addr_comm"><code class="docutils literal notranslate"><span class="pre">payment_addr_comm()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.pool_user"><code class="docutils literal notranslate"><span class="pre">pool_user()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.pool_user_lg"><code class="docutils literal notranslate"><span class="pre">pool_user_lg()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_committee.pool_user_ug"><code class="docutils literal notranslate"><span class="pre">pool_user_ug()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_constitution">cardano_node_tests.tests.tests_conway.test_constitution module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_constitution.TestConstitution"><code class="docutils literal notranslate"><span class="pre">TestConstitution</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_constitution.TestConstitution.test_change_constitution"><code class="docutils literal notranslate"><span class="pre">TestConstitution.test_change_constitution()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_constitution.cluster_lock_gov_script"><code class="docutils literal notranslate"><span class="pre">cluster_lock_gov_script()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_constitution.governance_w_scripts_lg"><code class="docutils literal notranslate"><span class="pre">governance_w_scripts_lg()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_constitution.pool_user_lg"><code class="docutils literal notranslate"><span class="pre">pool_user_lg()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_constitution.script_dreps_lg"><code class="docutils literal notranslate"><span class="pre">script_dreps_lg()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_conway">cardano_node_tests.tests.tests_conway.test_conway module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_conway.TestConway"><code class="docutils literal notranslate"><span class="pre">TestConway</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_conway.TestConway.test_action_build_unreg_deposit_addr"><code class="docutils literal notranslate"><span class="pre">TestConway.test_action_build_unreg_deposit_addr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_conway.TestConway.test_action_submit_unreg_deposit_addr"><code class="docutils literal notranslate"><span class="pre">TestConway.test_action_submit_unreg_deposit_addr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_conway.TestConway.test_genesis_cert_not_available"><code class="docutils literal notranslate"><span class="pre">TestConway.test_genesis_cert_not_available()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_conway.TestConway.test_ratify_state_fields"><code class="docutils literal notranslate"><span class="pre">TestConway.test_ratify_state_fields()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_conway.pool_user"><code class="docutils literal notranslate"><span class="pre">pool_user()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_drep">cardano_node_tests.tests.tests_conway.test_drep module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.DRepRatRecord"><code class="docutils literal notranslate"><span class="pre">DRepRatRecord</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.DRepRatRecord.id"><code class="docutils literal notranslate"><span class="pre">DRepRatRecord.id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.DRepRatRecord.ratified"><code class="docutils literal notranslate"><span class="pre">DRepRatRecord.ratified</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.DRepStateRecord"><code class="docutils literal notranslate"><span class="pre">DRepStateRecord</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.DRepStateRecord.drep_state"><code class="docutils literal notranslate"><span class="pre">DRepStateRecord.drep_state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.DRepStateRecord.epoch_no"><code class="docutils literal notranslate"><span class="pre">DRepStateRecord.epoch_no</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.DRepStateRecord.id"><code class="docutils literal notranslate"><span class="pre">DRepStateRecord.id</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDRepActivity"><code class="docutils literal notranslate"><span class="pre">TestDRepActivity</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDRepActivity.pool_user_lg"><code class="docutils literal notranslate"><span class="pre">TestDRepActivity.pool_user_lg()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDRepActivity.test_drep_inactivity"><code class="docutils literal notranslate"><span class="pre">TestDRepActivity.test_drep_inactivity()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDReps"><code class="docutils literal notranslate"><span class="pre">TestDReps</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDReps.test_drep_id_is_blake2b_224_of_drep_vkey"><code class="docutils literal notranslate"><span class="pre">TestDReps.test_drep_id_is_blake2b_224_of_drep_vkey()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDReps.test_register_and_retire_drep"><code class="docutils literal notranslate"><span class="pre">TestDReps.test_register_and_retire_drep()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDReps.test_register_wrong_metadata"><code class="docutils literal notranslate"><span class="pre">TestDReps.test_register_wrong_metadata()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDelegDReps"><code class="docutils literal notranslate"><span class="pre">TestDelegDReps</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDelegDReps.test_change_delegation"><code class="docutils literal notranslate"><span class="pre">TestDelegDReps.test_change_delegation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDelegDReps.test_cli_drep_status_consistency"><code class="docutils literal notranslate"><span class="pre">TestDelegDReps.test_cli_drep_status_consistency()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDelegDReps.test_dreps_and_spo_delegation"><code class="docutils literal notranslate"><span class="pre">TestDelegDReps.test_dreps_and_spo_delegation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestDelegDReps.test_dreps_delegation"><code class="docutils literal notranslate"><span class="pre">TestDelegDReps.test_dreps_delegation()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestNegativeDReps"><code class="docutils literal notranslate"><span class="pre">TestNegativeDReps</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestNegativeDReps.test_drep_no_multiple_registration"><code class="docutils literal notranslate"><span class="pre">TestNegativeDReps.test_drep_no_multiple_registration()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestNegativeDReps.test_drep_no_retirement_before_register"><code class="docutils literal notranslate"><span class="pre">TestNegativeDReps.test_drep_no_retirement_before_register()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestNegativeDReps.test_no_delegation_without_stake_registration"><code class="docutils literal notranslate"><span class="pre">TestNegativeDReps.test_no_delegation_without_stake_registration()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestNegativeDReps.test_no_multiple_delegation"><code class="docutils literal notranslate"><span class="pre">TestNegativeDReps.test_no_multiple_delegation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.TestNegativeDReps.test_no_witness_register_and_retire"><code class="docutils literal notranslate"><span class="pre">TestNegativeDReps.test_no_witness_register_and_retire()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.cluster_and_pool_and_rewards"><code class="docutils literal notranslate"><span class="pre">cluster_and_pool_and_rewards()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.cluster_rewards"><code class="docutils literal notranslate"><span class="pre">cluster_rewards()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.create_drep"><code class="docutils literal notranslate"><span class="pre">create_drep()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.custom_drep"><code class="docutils literal notranslate"><span class="pre">custom_drep()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.custom_drep_rewards"><code class="docutils literal notranslate"><span class="pre">custom_drep_rewards()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.custom_drep_wpr"><code class="docutils literal notranslate"><span class="pre">custom_drep_wpr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.get_custom_drep"><code class="docutils literal notranslate"><span class="pre">get_custom_drep()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.payment_addr"><code class="docutils literal notranslate"><span class="pre">payment_addr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.payment_addr_rewards"><code class="docutils literal notranslate"><span class="pre">payment_addr_rewards()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.payment_addr_wpr"><code class="docutils literal notranslate"><span class="pre">payment_addr_wpr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.pool_user"><code class="docutils literal notranslate"><span class="pre">pool_user()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.pool_user_rewards"><code class="docutils literal notranslate"><span class="pre">pool_user_rewards()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_drep.pool_user_wpr"><code class="docutils literal notranslate"><span class="pre">pool_user_wpr()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_guardrails">cardano_node_tests.tests.tests_conway.test_guardrails module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.ClusterWithConstitutionRecord"><code class="docutils literal notranslate"><span class="pre">ClusterWithConstitutionRecord</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.ClusterWithConstitutionRecord.cluster"><code class="docutils literal notranslate"><span class="pre">ClusterWithConstitutionRecord.cluster</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.ClusterWithConstitutionRecord.collaterals"><code class="docutils literal notranslate"><span class="pre">ClusterWithConstitutionRecord.collaterals</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.ClusterWithConstitutionRecord.constitution_script_file"><code class="docutils literal notranslate"><span class="pre">ClusterWithConstitutionRecord.constitution_script_file</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.ClusterWithConstitutionRecord.constitution_script_hash"><code class="docutils literal notranslate"><span class="pre">ClusterWithConstitutionRecord.constitution_script_hash</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.ClusterWithConstitutionRecord.default_constitution"><code class="docutils literal notranslate"><span class="pre">ClusterWithConstitutionRecord.default_constitution</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.ClusterWithConstitutionRecord.payment_addr"><code class="docutils literal notranslate"><span class="pre">ClusterWithConstitutionRecord.payment_addr</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.ClusterWithConstitutionRecord.pool_user"><code class="docutils literal notranslate"><span class="pre">ClusterWithConstitutionRecord.pool_user</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.GuardrailTestParam"><code class="docutils literal notranslate"><span class="pre">GuardrailTestParam</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.GuardrailTestParam.param_cli_arg"><code class="docutils literal notranslate"><span class="pre">GuardrailTestParam.param_cli_arg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.GuardrailTestParam.param_key"><code class="docutils literal notranslate"><span class="pre">GuardrailTestParam.param_key</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.GuardrailTestParam.param_lower_limit"><code class="docutils literal notranslate"><span class="pre">GuardrailTestParam.param_lower_limit</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.GuardrailTestParam.param_name"><code class="docutils literal notranslate"><span class="pre">GuardrailTestParam.param_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.GuardrailTestParam.param_upper_limit"><code class="docutils literal notranslate"><span class="pre">GuardrailTestParam.param_upper_limit</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.PredicateNotSupportedError"><code class="docutils literal notranslate"><span class="pre">PredicateNotSupportedError</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.TestGovernanceGuardrails"><code class="docutils literal notranslate"><span class="pre">TestGovernanceGuardrails</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.TestGovernanceGuardrails.test_guardrails"><code class="docutils literal notranslate"><span class="pre">TestGovernanceGuardrails.test_guardrails()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.check_invalid_proposals"><code class="docutils literal notranslate"><span class="pre">check_invalid_proposals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.check_max_value_proposals"><code class="docutils literal notranslate"><span class="pre">check_max_value_proposals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.check_min_value_proposals"><code class="docutils literal notranslate"><span class="pre">check_min_value_proposals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.check_valid_proposals"><code class="docutils literal notranslate"><span class="pre">check_valid_proposals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.cluster_guardrails"><code class="docutils literal notranslate"><span class="pre">cluster_guardrails()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.cluster_with_constitution"><code class="docutils literal notranslate"><span class="pre">cluster_with_constitution()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.get_subtests"><code class="docutils literal notranslate"><span class="pre">get_subtests()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.get_upper_limit_according_to_type"><code class="docutils literal notranslate"><span class="pre">get_upper_limit_according_to_type()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.payment_addr"><code class="docutils literal notranslate"><span class="pre">payment_addr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.perform_predicates_check"><code class="docutils literal notranslate"><span class="pre">perform_predicates_check()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.perform_predicates_check_with_dependent_params"><code class="docutils literal notranslate"><span class="pre">perform_predicates_check_with_dependent_params()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.pool_user"><code class="docutils literal notranslate"><span class="pre">pool_user()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_guardrails.propose_param_changes"><code class="docutils literal notranslate"><span class="pre">propose_param_changes()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_hardfork">cardano_node_tests.tests.tests_conway.test_hardfork module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_hardfork.TestHardfork"><code class="docutils literal notranslate"><span class="pre">TestHardfork</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_hardfork.TestHardfork.test_hardfork"><code class="docutils literal notranslate"><span class="pre">TestHardfork.test_hardfork()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_hardfork.pool_user_lg"><code class="docutils literal notranslate"><span class="pre">pool_user_lg()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_info">cardano_node_tests.tests.tests_conway.test_info module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_info.TestInfo"><code class="docutils literal notranslate"><span class="pre">TestInfo</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_info.TestInfo.GOV_ACTION_ANCHOR_FILE"><code class="docutils literal notranslate"><span class="pre">TestInfo.GOV_ACTION_ANCHOR_FILE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_info.TestInfo.test_info"><code class="docutils literal notranslate"><span class="pre">TestInfo.test_info()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_info.pool_user_ug"><code class="docutils literal notranslate"><span class="pre">pool_user_ug()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_no_confidence">cardano_node_tests.tests.tests_conway.test_no_confidence module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_no_confidence.TestNoConfidence"><code class="docutils literal notranslate"><span class="pre">TestNoConfidence</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_no_confidence.TestNoConfidence.test_committee_min_size"><code class="docutils literal notranslate"><span class="pre">TestNoConfidence.test_committee_min_size()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_no_confidence.TestNoConfidence.test_no_confidence_action"><code class="docutils literal notranslate"><span class="pre">TestNoConfidence.test_no_confidence_action()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_no_confidence.pool_user_lg"><code class="docutils literal notranslate"><span class="pre">pool_user_lg()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_pparam_update">cardano_node_tests.tests.tests_conway.test_pparam_update module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.TestLegacyProposals"><code class="docutils literal notranslate"><span class="pre">TestLegacyProposals</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.TestLegacyProposals.skip_on_missing_legacy"><code class="docutils literal notranslate"><span class="pre">TestLegacyProposals.skip_on_missing_legacy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.TestLegacyProposals.test_legacy_proposal_build"><code class="docutils literal notranslate"><span class="pre">TestLegacyProposals.test_legacy_proposal_build()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.TestLegacyProposals.test_legacy_proposal_submit"><code class="docutils literal notranslate"><span class="pre">TestLegacyProposals.test_legacy_proposal_submit()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.TestNegativeCostModels"><code class="docutils literal notranslate"><span class="pre">TestNegativeCostModels</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.TestNegativeCostModels.test_incompatible_cost_models"><code class="docutils literal notranslate"><span class="pre">TestNegativeCostModels.test_incompatible_cost_models()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.TestPParamData"><code class="docutils literal notranslate"><span class="pre">TestPParamData</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.TestPParamData.test_pparam_keys"><code class="docutils literal notranslate"><span class="pre">TestPParamData.test_pparam_keys()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.TestPParamUpdate"><code class="docutils literal notranslate"><span class="pre">TestPParamUpdate</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.TestPParamUpdate.test_pparam_negative_value"><code class="docutils literal notranslate"><span class="pre">TestPParamUpdate.test_pparam_negative_value()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.TestPParamUpdate.test_pparam_update"><code class="docutils literal notranslate"><span class="pre">TestPParamUpdate.test_pparam_update()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.payment_addr"><code class="docutils literal notranslate"><span class="pre">payment_addr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.pool_user_lgp"><code class="docutils literal notranslate"><span class="pre">pool_user_lgp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_pparam_update.pool_user_ug"><code class="docutils literal notranslate"><span class="pre">pool_user_ug()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_treasury_donation">cardano_node_tests.tests.tests_conway.test_treasury_donation module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_donation.TestTreasuryDonation"><code class="docutils literal notranslate"><span class="pre">TestTreasuryDonation</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_donation.TestTreasuryDonation.test_dbsync_transfer_treasury_donation"><code class="docutils literal notranslate"><span class="pre">TestTreasuryDonation.test_dbsync_transfer_treasury_donation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_donation.TestTreasuryDonation.test_transfer_treasury_donation"><code class="docutils literal notranslate"><span class="pre">TestTreasuryDonation.test_transfer_treasury_donation()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_donation.cluster_treasury"><code class="docutils literal notranslate"><span class="pre">cluster_treasury()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_donation.payment_addr_singleton"><code class="docutils literal notranslate"><span class="pre">payment_addr_singleton()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_donation.payment_addr_treasury"><code class="docutils literal notranslate"><span class="pre">payment_addr_treasury()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_treasury_withdrawals">cardano_node_tests.tests.tests_conway.test_treasury_withdrawals module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_withdrawals.TestMIRCerts"><code class="docutils literal notranslate"><span class="pre">TestMIRCerts</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_withdrawals.TestMIRCerts.payment_addr"><code class="docutils literal notranslate"><span class="pre">TestMIRCerts.payment_addr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_withdrawals.TestMIRCerts.skip_on_missing_legacy"><code class="docutils literal notranslate"><span class="pre">TestMIRCerts.skip_on_missing_legacy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_withdrawals.TestMIRCerts.test_mir_certificates"><code class="docutils literal notranslate"><span class="pre">TestMIRCerts.test_mir_certificates()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_withdrawals.TestTreasuryWithdrawals"><code class="docutils literal notranslate"><span class="pre">TestTreasuryWithdrawals</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_withdrawals.TestTreasuryWithdrawals.test_enact_treasury_withdrawals"><code class="docutils literal notranslate"><span class="pre">TestTreasuryWithdrawals.test_enact_treasury_withdrawals()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_withdrawals.TestTreasuryWithdrawals.test_expire_treasury_withdrawals"><code class="docutils literal notranslate"><span class="pre">TestTreasuryWithdrawals.test_expire_treasury_withdrawals()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_withdrawals.cluster_use_governance_lock_treasury"><code class="docutils literal notranslate"><span class="pre">cluster_use_governance_lock_treasury()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_withdrawals.pool_user_ug"><code class="docutils literal notranslate"><span class="pre">pool_user_ug()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_treasury_withdrawals.pool_user_ug_treasury"><code class="docutils literal notranslate"><span class="pre">pool_user_ug_treasury()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway.test_update_plutusv2_builtins">cardano_node_tests.tests.tests_conway.test_update_plutusv2_builtins module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_update_plutusv2_builtins.TestUpdateBuiltIns"><code class="docutils literal notranslate"><span class="pre">TestUpdateBuiltIns</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_update_plutusv2_builtins.TestUpdateBuiltIns.test_update_in_pv9"><code class="docutils literal notranslate"><span class="pre">TestUpdateBuiltIns.test_update_in_pv9()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_update_plutusv2_builtins.payment_addrs_lgp"><code class="docutils literal notranslate"><span class="pre">payment_addrs_lgp()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#cardano_node_tests.tests.tests_conway.test_update_plutusv2_builtins.pool_user_lgp"><code class="docutils literal notranslate"><span class="pre">pool_user_lgp()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_conway.html#module-cardano_node_tests.tests.tests_conway">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html">cardano_node_tests.tests.tests_plutus package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.conftest">cardano_node_tests.tests.tests_plutus.conftest module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.conftest.cluster"><code class="docutils literal notranslate"><span class="pre">cluster()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.mint_build">cardano_node_tests.tests.tests_plutus.mint_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.mint_raw">cardano_node_tests.tests.tests_plutus.mint_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.spend_build">cardano_node_tests.tests.tests_plutus.spend_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.spend_raw">cardano_node_tests.tests.tests_plutus.spend_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_delegation">cardano_node_tests.tests.tests_plutus.test_delegation module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.TestDelegateAddr"><code class="docutils literal notranslate"><span class="pre">TestDelegateAddr</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.TestDelegateAddr.test_delegate_deregister"><code class="docutils literal notranslate"><span class="pre">TestDelegateAddr.test_delegate_deregister()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.TestDelegateAddr.test_register_delegate_deregister"><code class="docutils literal notranslate"><span class="pre">TestDelegateAddr.test_register_delegate_deregister()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.TestRegisterAddr"><code class="docutils literal notranslate"><span class="pre">TestRegisterAddr</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.TestRegisterAddr.pytestmark"><code class="docutils literal notranslate"><span class="pre">TestRegisterAddr.pytestmark</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.TestRegisterAddr.test_register_deregister"><code class="docutils literal notranslate"><span class="pre">TestRegisterAddr.test_register_deregister()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.cluster_lock_42stake"><code class="docutils literal notranslate"><span class="pre">cluster_lock_42stake()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.delegate_stake_addr"><code class="docutils literal notranslate"><span class="pre">delegate_stake_addr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.deregister_stake_addr"><code class="docutils literal notranslate"><span class="pre">deregister_stake_addr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.pool_user"><code class="docutils literal notranslate"><span class="pre">pool_user()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.register_delegate_stake_addr"><code class="docutils literal notranslate"><span class="pre">register_delegate_stake_addr()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_delegation.register_stake_addr"><code class="docutils literal notranslate"><span class="pre">register_stake_addr()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_lobster">cardano_node_tests.tests.tests_plutus.test_lobster module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_lobster.TestLobsterChallenge"><code class="docutils literal notranslate"><span class="pre">TestLobsterChallenge</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_lobster.TestLobsterChallenge.pytestmark"><code class="docutils literal notranslate"><span class="pre">TestLobsterChallenge.pytestmark</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_lobster.TestLobsterChallenge.test_lobster_name"><code class="docutils literal notranslate"><span class="pre">TestLobsterChallenge.test_lobster_name()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_lobster.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_mint_build">cardano_node_tests.tests.tests_plutus.test_mint_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.past_horizon_funds"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.past_horizon_funds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_minting_context_equivalence"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_minting_context_equivalence()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_minting_missing_txout"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_minting_missing_txout()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_minting_one_token"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_minting_one_token()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_time_range_minting"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_time_range_minting()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_ttl_horizon"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_ttl_horizon()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_two_scripts_minting"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_two_scripts_minting()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.TestBuildMinting.test_witness_redeemer"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_witness_redeemer()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.TestCollateralOutput"><code class="docutils literal notranslate"><span class="pre">TestCollateralOutput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.TestCollateralOutput.test_duplicated_collateral"><code class="docutils literal notranslate"><span class="pre">TestCollateralOutput.test_duplicated_collateral()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_mint_negative_build">cardano_node_tests.tests.tests_plutus.test_mint_negative_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative"><code class="docutils literal notranslate"><span class="pre">TestBuildMintingNegative</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.fund_issuer_long_asset_name"><code class="docutils literal notranslate"><span class="pre">TestBuildMintingNegative.fund_issuer_long_asset_name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_asset_name_too_long"><code class="docutils literal notranslate"><span class="pre">TestBuildMintingNegative.test_asset_name_too_long()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_redeemer_with_simple_minting_script"><code class="docutils literal notranslate"><span class="pre">TestBuildMintingNegative.test_redeemer_with_simple_minting_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_time_range_missing_tx_validity"><code class="docutils literal notranslate"><span class="pre">TestBuildMintingNegative.test_time_range_missing_tx_validity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.TestBuildMintingNegative.test_witness_redeemer_missing_signer"><code class="docutils literal notranslate"><span class="pre">TestBuildMintingNegative.test_witness_redeemer_missing_signer()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_mint_negative_raw">cardano_node_tests.tests.tests_plutus.test_mint_negative_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative"><code class="docutils literal notranslate"><span class="pre">TestMintingNegative</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.fund_execution_units_above_limit"><code class="docutils literal notranslate"><span class="pre">TestMintingNegative.fund_execution_units_above_limit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.pparams"><code class="docutils literal notranslate"><span class="pre">TestMintingNegative.pparams()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_execution_units_above_limit"><code class="docutils literal notranslate"><span class="pre">TestMintingNegative.test_execution_units_above_limit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_low_budget"><code class="docutils literal notranslate"><span class="pre">TestMintingNegative.test_low_budget()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_low_fee"><code class="docutils literal notranslate"><span class="pre">TestMintingNegative.test_low_fee()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_time_range_missing_tx_validity"><code class="docutils literal notranslate"><span class="pre">TestMintingNegative.test_time_range_missing_tx_validity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestMintingNegative.test_witness_redeemer_missing_signer"><code class="docutils literal notranslate"><span class="pre">TestMintingNegative.test_witness_redeemer_missing_signer()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestNegativeCollateral"><code class="docutils literal notranslate"><span class="pre">TestNegativeCollateral</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestNegativeCollateral.test_minting_with_insufficient_collateral"><code class="docutils literal notranslate"><span class="pre">TestNegativeCollateral.test_minting_with_insufficient_collateral()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.TestNegativeCollateral.test_minting_with_invalid_collaterals"><code class="docutils literal notranslate"><span class="pre">TestNegativeCollateral.test_minting_with_invalid_collaterals()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_negative_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_mint_raw">cardano_node_tests.tests.tests_plutus.test_mint_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestCollateralOutput"><code class="docutils literal notranslate"><span class="pre">TestCollateralOutput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestCollateralOutput.test_duplicated_collateral"><code class="docutils literal notranslate"><span class="pre">TestCollateralOutput.test_duplicated_collateral()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting"><code class="docutils literal notranslate"><span class="pre">TestMinting</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_context_equivalence"><code class="docutils literal notranslate"><span class="pre">TestMinting.test_minting_context_equivalence()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_policy_executed_once1"><code class="docutils literal notranslate"><span class="pre">TestMinting.test_minting_policy_executed_once1()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_policy_executed_once2"><code class="docutils literal notranslate"><span class="pre">TestMinting.test_minting_policy_executed_once2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_minting_two_tokens"><code class="docutils literal notranslate"><span class="pre">TestMinting.test_minting_two_tokens()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_time_range_minting"><code class="docutils literal notranslate"><span class="pre">TestMinting.test_time_range_minting()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_ttl_horizon"><code class="docutils literal notranslate"><span class="pre">TestMinting.test_ttl_horizon()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_two_scripts_minting"><code class="docutils literal notranslate"><span class="pre">TestMinting.test_two_scripts_minting()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.TestMinting.test_witness_redeemer"><code class="docutils literal notranslate"><span class="pre">TestMinting.test_witness_redeemer()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_mint_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_build">cardano_node_tests.tests.tests_plutus.test_spend_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_always_fails"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_always_fails()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_collateral_is_txin"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_collateral_is_txin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_context_equivalence"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_context_equivalence()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_guessing_game"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_guessing_game()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_partial_spending"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_partial_spending()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_script_invalid"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_script_invalid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_two_scripts_spending"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_two_scripts_spending()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_txout_locking"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_txout_locking()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.TestBuildLocking.test_txout_token_locking"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_txout_token_locking()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_build.pool_users"><code class="docutils literal notranslate"><span class="pre">pool_users()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_compat_build">cardano_node_tests.tests.tests_plutus.test_spend_compat_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_compat_build.TestCompatibility"><code class="docutils literal notranslate"><span class="pre">TestCompatibility</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_compat_build.TestCompatibility.test_plutusv2_old_tx_era"><code class="docutils literal notranslate"><span class="pre">TestCompatibility.test_plutusv2_old_tx_era()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_compat_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_compat_raw">cardano_node_tests.tests.tests_plutus.test_spend_compat_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.TestCompatibility"><code class="docutils literal notranslate"><span class="pre">TestCompatibility</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.TestCompatibility.test_plutusv1_old_tx_era"><code class="docutils literal notranslate"><span class="pre">TestCompatibility.test_plutusv1_old_tx_era()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.TestCompatibility.test_plutusv2_old_tx_era"><code class="docutils literal notranslate"><span class="pre">TestCompatibility.test_plutusv2_old_tx_era()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_compat_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_datum_build">cardano_node_tests.tests.tests_plutus.test_spend_datum_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestDatum"><code class="docutils literal notranslate"><span class="pre">TestDatum</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestDatum.test_datum_on_key_credential_address"><code class="docutils literal notranslate"><span class="pre">TestDatum.test_datum_on_key_credential_address()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestDatum.test_embed_datum_without_pparams"><code class="docutils literal notranslate"><span class="pre">TestDatum.test_embed_datum_without_pparams()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.pbt_script_addresses"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.pbt_script_addresses()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_lock_tx_invalid_datum"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.test_lock_tx_invalid_datum()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_no_datum_txout"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.test_no_datum_txout()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_too_big"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.test_too_big()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_unlock_non_script_utxo"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.test_unlock_non_script_utxo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.TestNegativeDatum.test_unlock_tx_wrong_datum"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.test_unlock_tx_wrong_datum()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_datum_raw">cardano_node_tests.tests.tests_plutus.test_spend_datum_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestDatum"><code class="docutils literal notranslate"><span class="pre">TestDatum</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestDatum.test_datum_on_key_credential_address"><code class="docutils literal notranslate"><span class="pre">TestDatum.test_datum_on_key_credential_address()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.pbt_highest_utxo"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.pbt_highest_utxo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.pbt_script_addresses"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.pbt_script_addresses()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_lock_tx_invalid_datum"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.test_lock_tx_invalid_datum()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_no_datum_txout"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.test_no_datum_txout()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_too_big"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.test_too_big()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_unlock_non_script_utxo"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.test_unlock_non_script_utxo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.TestNegativeDatum.test_unlock_tx_wrong_datum"><code class="docutils literal notranslate"><span class="pre">TestNegativeDatum.test_unlock_tx_wrong_datum()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_datum_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_negative_build">cardano_node_tests.tests.tests_plutus.test_spend_negative_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative"><code class="docutils literal notranslate"><span class="pre">TestNegative</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_collateral_w_tokens"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_collateral_w_tokens()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_invalid_guessing_game"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_invalid_guessing_game()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_no_script"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_no_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_same_collateral_txin"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_same_collateral_txin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_two_scripts_spending_one_fail"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_two_scripts_spending_one_fail()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegative.test_wrong_script"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_wrong_script()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.AMOUNT"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.AMOUNT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.KNOWN_FIELDS"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.KNOWN_FIELDS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.MIN_INT_VAL"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.MIN_INT_VAL</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.NONINT_FIELDS"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.NONINT_FIELDS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.fund_script_guessing_game_v1"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.fund_script_guessing_game_v1()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.fund_script_guessing_game_v2"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.fund_script_guessing_game_v2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_invalid_json"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_invalid_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_typed_bytes_int_declared"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_typed_bytes_int_declared()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_typed_int_bytes_declared"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_typed_int_bytes_declared()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_typed_invalid_type"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_typed_invalid_type()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_untyped_bytes_int_declared"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_untyped_bytes_int_declared()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_untyped_int_bytes_declared"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_untyped_int_bytes_declared()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_json_schema_untyped_invalid_type"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_untyped_invalid_type()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_too_big"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_too_big()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_type"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_wrong_type()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_value_above_range"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_wrong_value_above_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_value_bellow_range"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_wrong_value_bellow_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.TestNegativeRedeemer.test_wrong_value_inside_range"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_wrong_value_inside_range()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_negative_raw">cardano_node_tests.tests.tests_plutus.test_spend_negative_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative"><code class="docutils literal notranslate"><span class="pre">TestNegative</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.fund_execution_units_above_limit"><code class="docutils literal notranslate"><span class="pre">TestNegative.fund_execution_units_above_limit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.pparams"><code class="docutils literal notranslate"><span class="pre">TestNegative.pparams()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_collateral_percent"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_collateral_percent()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_collateral_w_tokens"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_collateral_w_tokens()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_execution_units_above_limit"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_execution_units_above_limit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_invalid_guessing_game"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_invalid_guessing_game()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_no_script"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_no_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_same_collateral_txin"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_same_collateral_txin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_two_scripts_spending_one_fail"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_two_scripts_spending_one_fail()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegative.test_wrong_script"><code class="docutils literal notranslate"><span class="pre">TestNegative.test_wrong_script()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.AMOUNT"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.AMOUNT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.KNOWN_FIELDS"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.KNOWN_FIELDS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.MIN_INT_VAL"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.MIN_INT_VAL</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.NONINT_FIELDS"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.NONINT_FIELDS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.cost_per_unit"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.cost_per_unit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.fund_script_guessing_game_v1"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.fund_script_guessing_game_v1()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.fund_script_guessing_game_v2"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.fund_script_guessing_game_v2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_invalid_json"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_invalid_json()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_typed_bytes_int_declared"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_typed_bytes_int_declared()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_typed_int_bytes_declared"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_typed_int_bytes_declared()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_typed_invalid_type"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_typed_invalid_type()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_untyped_bytes_int_declared"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_untyped_bytes_int_declared()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_untyped_int_bytes_declared"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_untyped_int_bytes_declared()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_json_schema_untyped_invalid_type"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_json_schema_untyped_invalid_type()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_too_big"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_too_big()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_type"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_wrong_type()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_value_above_range"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_wrong_value_above_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_value_bellow_range"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_wrong_value_bellow_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.TestNegativeRedeemer.test_wrong_value_inside_range"><code class="docutils literal notranslate"><span class="pre">TestNegativeRedeemer.test_wrong_value_inside_range()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_negative_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus.test_spend_raw">cardano_node_tests.tests.tests_plutus.test_spend_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking"><code class="docutils literal notranslate"><span class="pre">TestLocking</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_always_fails"><code class="docutils literal notranslate"><span class="pre">TestLocking.test_always_fails()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_collaterals"><code class="docutils literal notranslate"><span class="pre">TestLocking.test_collaterals()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_context_equivalence"><code class="docutils literal notranslate"><span class="pre">TestLocking.test_context_equivalence()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_guessing_game"><code class="docutils literal notranslate"><span class="pre">TestLocking.test_guessing_game()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_partial_spending"><code class="docutils literal notranslate"><span class="pre">TestLocking.test_partial_spending()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_script_invalid"><code class="docutils literal notranslate"><span class="pre">TestLocking.test_script_invalid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_two_scripts_spending"><code class="docutils literal notranslate"><span class="pre">TestLocking.test_two_scripts_spending()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_txout_locking"><code class="docutils literal notranslate"><span class="pre">TestLocking.test_txout_locking()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.TestLocking.test_txout_token_locking"><code class="docutils literal notranslate"><span class="pre">TestLocking.test_txout_token_locking()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#cardano_node_tests.tests.tests_plutus.test_spend_raw.pool_users"><code class="docutils literal notranslate"><span class="pre">pool_users()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus.html#module-cardano_node_tests.tests.tests_plutus">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html">cardano_node_tests.tests.tests_plutus_v2 package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.conftest">cardano_node_tests.tests.tests_plutus_v2.conftest module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.conftest.cluster"><code class="docutils literal notranslate"><span class="pre">cluster()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.mint_build">cardano_node_tests.tests.tests_plutus_v2.mint_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.mint_raw">cardano_node_tests.tests.tests_plutus_v2.mint_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.mint_raw.check_missing_builtin"><code class="docutils literal notranslate"><span class="pre">check_missing_builtin()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.spend_build">cardano_node_tests.tests.tests_plutus_v2.spend_build module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.spend_raw">cardano_node_tests.tests.tests_plutus_v2.spend_raw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_build">cardano_node_tests.tests.tests_plutus_v2.test_mint_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_build.TestBuildMinting"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_build.TestBuildMinting.test_inline_datum_visibility"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_inline_datum_visibility()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_build.TestBuildMinting.test_minting_ref_missing_txout"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_minting_ref_missing_txout()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_build.TestBuildMinting.test_minting_ref_one_token"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_minting_ref_one_token()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_build.TestBuildMinting.test_reference_inputs_visibility"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_reference_inputs_visibility()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_build.TestBuildMinting.test_reference_scripts_visibility"><code class="docutils literal notranslate"><span class="pre">TestBuildMinting.test_reference_scripts_visibility()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_build">cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_build.TestNegativeCollateralOutput"><code class="docutils literal notranslate"><span class="pre">TestNegativeCollateralOutput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_build.TestNegativeCollateralOutput.test_minting_with_unbalanced_total_collateral"><code class="docutils literal notranslate"><span class="pre">TestNegativeCollateralOutput.test_minting_with_unbalanced_total_collateral()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_raw">cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_raw.TestNegativeCollateralOutput"><code class="docutils literal notranslate"><span class="pre">TestNegativeCollateralOutput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_raw.TestNegativeCollateralOutput.test_minting_with_limited_collateral"><code class="docutils literal notranslate"><span class="pre">TestNegativeCollateralOutput.test_minting_with_limited_collateral()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_raw.TestNegativeCollateralOutput.test_minting_with_unbalanced_total_collateral"><code class="docutils literal notranslate"><span class="pre">TestNegativeCollateralOutput.test_minting_with_unbalanced_total_collateral()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_negative_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_raw">cardano_node_tests.tests.tests_plutus_v2.test_mint_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_raw.TestMinting"><code class="docutils literal notranslate"><span class="pre">TestMinting</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_raw.TestMinting.test_datum_hash_visibility"><code class="docutils literal notranslate"><span class="pre">TestMinting.test_datum_hash_visibility()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_raw.TestMinting.test_minting_two_tokens"><code class="docutils literal notranslate"><span class="pre">TestMinting.test_minting_two_tokens()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_raw.TestMinting.test_missing_builtin"><code class="docutils literal notranslate"><span class="pre">TestMinting.test_missing_builtin()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_build">cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_build.TestSECP256k1"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_build.TestSECP256k1.test_negative_secp_builtin_functions"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1.test_negative_secp_builtin_functions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_build.TestSECP256k1.test_use_secp_builtin_functions"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1.test_use_secp_builtin_functions()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_raw">cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_raw.TestSECP256k1"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_raw.TestSECP256k1.test_negative_secp_builtin_functions"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1.test_negative_secp_builtin_functions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_raw.TestSECP256k1.test_use_secp_builtin_functions"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1.test_use_secp_builtin_functions()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_mint_secp256k1_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_build.TestBuildLocking"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_build.TestBuildLocking.test_min_required_utxo"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_min_required_utxo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_build.TestBuildLocking.test_txout_locking"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_txout_locking()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_build.TestCollateralOutput"><code class="docutils literal notranslate"><span class="pre">TestCollateralOutput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_build.TestCollateralOutput.test_collateral_with_tokens"><code class="docutils literal notranslate"><span class="pre">TestCollateralOutput.test_collateral_with_tokens()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_build.TestCollateralOutput.test_with_total_return_collateral"><code class="docutils literal notranslate"><span class="pre">TestCollateralOutput.test_with_total_return_collateral()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_raw.TestCollateralOutput"><code class="docutils literal notranslate"><span class="pre">TestCollateralOutput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_raw.TestCollateralOutput.test_collateral_with_tokens"><code class="docutils literal notranslate"><span class="pre">TestCollateralOutput.test_collateral_with_tokens()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_raw.TestCollateralOutput.test_with_total_return_collateral"><code class="docutils literal notranslate"><span class="pre">TestCollateralOutput.test_with_total_return_collateral()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_collateral_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_build.TestCompatibility"><code class="docutils literal notranslate"><span class="pre">TestCompatibility</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_build.TestCompatibility.test_inline_datum_old_tx_era"><code class="docutils literal notranslate"><span class="pre">TestCompatibility.test_inline_datum_old_tx_era()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_build.TestCompatibility.test_reference_script_old_tx_era"><code class="docutils literal notranslate"><span class="pre">TestCompatibility.test_reference_script_old_tx_era()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_build.TestCompatibility.test_ro_reference_old_tx_era"><code class="docutils literal notranslate"><span class="pre">TestCompatibility.test_ro_reference_old_tx_era()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_raw.TestCompatibility"><code class="docutils literal notranslate"><span class="pre">TestCompatibility</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_raw.TestCompatibility.test_inline_datum_old_tx_era"><code class="docutils literal notranslate"><span class="pre">TestCompatibility.test_inline_datum_old_tx_era()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_raw.TestCompatibility.test_reference_script_old_tx_era"><code class="docutils literal notranslate"><span class="pre">TestCompatibility.test_reference_script_old_tx_era()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_raw.TestCompatibility.test_ro_reference_old_tx_era"><code class="docutils literal notranslate"><span class="pre">TestCompatibility.test_ro_reference_old_tx_era()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_compat_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build.TestInlineDatum"><code class="docutils literal notranslate"><span class="pre">TestInlineDatum</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build.TestInlineDatum.test_check_inline_datum_cost"><code class="docutils literal notranslate"><span class="pre">TestInlineDatum.test_check_inline_datum_cost()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build.TestNegativeInlineDatum"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build.TestNegativeInlineDatum.pbt_script_address"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum.pbt_script_address()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build.TestNegativeInlineDatum.test_lock_tx_big_datum"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum.test_lock_tx_big_datum()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build.TestNegativeInlineDatum.test_lock_tx_datum_as_witness"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum.test_lock_tx_datum_as_witness()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build.TestNegativeInlineDatum.test_lock_tx_invalid_datum"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum.test_lock_tx_invalid_datum()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build.TestNegativeInlineDatum.test_lock_tx_v1_script"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum.test_lock_tx_v1_script()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw.TestNegativeInlineDatum"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw.TestNegativeInlineDatum.pbt_highest_utxo"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum.pbt_highest_utxo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw.TestNegativeInlineDatum.pbt_script_address"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum.pbt_script_address()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw.TestNegativeInlineDatum.test_lock_tx_big_datum"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum.test_lock_tx_big_datum()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw.TestNegativeInlineDatum.test_lock_tx_datum_as_witness"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum.test_lock_tx_datum_as_witness()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw.TestNegativeInlineDatum.test_lock_tx_invalid_datum"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum.test_lock_tx_invalid_datum()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw.TestNegativeInlineDatum.test_lock_tx_v1_script"><code class="docutils literal notranslate"><span class="pre">TestNegativeInlineDatum.test_lock_tx_v1_script()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_datum_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_raw.TestLockingV2"><code class="docutils literal notranslate"><span class="pre">TestLockingV2</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_raw.TestLockingV2.test_datum_bytes_in_dbsync"><code class="docutils literal notranslate"><span class="pre">TestLockingV2.test_datum_bytes_in_dbsync()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_raw.TestLockingV2.test_txout_locking"><code class="docutils literal notranslate"><span class="pre">TestLockingV2.test_txout_locking()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build.TestNegativeReadonlyReferenceInputs"><code class="docutils literal notranslate"><span class="pre">TestNegativeReadonlyReferenceInputs</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build.TestNegativeReadonlyReferenceInputs.test_reference_input_without_spend_anything"><code class="docutils literal notranslate"><span class="pre">TestNegativeReadonlyReferenceInputs.test_reference_input_without_spend_anything()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build.TestNegativeReadonlyReferenceInputs.test_reference_spent_output"><code class="docutils literal notranslate"><span class="pre">TestNegativeReadonlyReferenceInputs.test_reference_spent_output()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build.TestNegativeReadonlyReferenceInputs.test_v1_script_with_reference_input"><code class="docutils literal notranslate"><span class="pre">TestNegativeReadonlyReferenceInputs.test_v1_script_with_reference_input()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build.TestReadonlyReferenceInputs"><code class="docutils literal notranslate"><span class="pre">TestReadonlyReferenceInputs</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build.TestReadonlyReferenceInputs.test_reference_input_non_plutus"><code class="docutils literal notranslate"><span class="pre">TestReadonlyReferenceInputs.test_reference_input_non_plutus()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build.TestReadonlyReferenceInputs.test_same_input_as_reference_input"><code class="docutils literal notranslate"><span class="pre">TestReadonlyReferenceInputs.test_same_input_as_reference_input()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build.TestReadonlyReferenceInputs.test_use_reference_input"><code class="docutils literal notranslate"><span class="pre">TestReadonlyReferenceInputs.test_use_reference_input()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build.TestReadonlyReferenceInputs.test_use_same_reference_input_multiple_times"><code class="docutils literal notranslate"><span class="pre">TestReadonlyReferenceInputs.test_use_same_reference_input_multiple_times()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw.TestNegativeReadonlyReferenceInputs"><code class="docutils literal notranslate"><span class="pre">TestNegativeReadonlyReferenceInputs</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw.TestNegativeReadonlyReferenceInputs.test_reference_input_without_spend_anything"><code class="docutils literal notranslate"><span class="pre">TestNegativeReadonlyReferenceInputs.test_reference_input_without_spend_anything()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw.TestNegativeReadonlyReferenceInputs.test_reference_spent_output"><code class="docutils literal notranslate"><span class="pre">TestNegativeReadonlyReferenceInputs.test_reference_spent_output()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw.TestNegativeReadonlyReferenceInputs.test_v1_script_with_reference_input"><code class="docutils literal notranslate"><span class="pre">TestNegativeReadonlyReferenceInputs.test_v1_script_with_reference_input()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw.TestReadonlyReferenceInputs"><code class="docutils literal notranslate"><span class="pre">TestReadonlyReferenceInputs</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw.TestReadonlyReferenceInputs.test_reference_input_non_plutus"><code class="docutils literal notranslate"><span class="pre">TestReadonlyReferenceInputs.test_reference_input_non_plutus()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw.TestReadonlyReferenceInputs.test_same_input_as_reference_input"><code class="docutils literal notranslate"><span class="pre">TestReadonlyReferenceInputs.test_same_input_as_reference_input()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw.TestReadonlyReferenceInputs.test_use_reference_input"><code class="docutils literal notranslate"><span class="pre">TestReadonlyReferenceInputs.test_use_reference_input()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_inputs_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestNegativeReferenceScripts"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestNegativeReferenceScripts.test_lock_byron_reference_script"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts.test_lock_byron_reference_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestNegativeReferenceScripts.test_lock_tx_v1_reference_script"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts.test_lock_tx_v1_reference_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestNegativeReferenceScripts.test_not_a_script"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts.test_not_a_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestNegativeReferenceScripts.test_two_scripts_one_fail"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts.test_two_scripts_one_fail()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestNegativeReferenceScripts.test_v1_attached_v2_reference"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts.test_v1_attached_v2_reference()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestReferenceScripts"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestReferenceScripts.test_mix_reference_attached_script"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts.test_mix_reference_attached_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestReferenceScripts.test_reference_multiple_script"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts.test_reference_multiple_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestReferenceScripts.test_reference_same_script"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts.test_reference_same_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestReferenceScripts.test_spend_reference_script"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts.test_spend_reference_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.TestReferenceScripts.test_spend_regular_utxo_and_reference_script"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts.test_spend_regular_utxo_and_reference_script()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestNegativeReferenceScripts"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestNegativeReferenceScripts.test_lock_byron_reference_script"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts.test_lock_byron_reference_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestNegativeReferenceScripts.test_lock_tx_v1_reference_script"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts.test_lock_tx_v1_reference_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestNegativeReferenceScripts.test_not_a_script"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts.test_not_a_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestNegativeReferenceScripts.test_two_scripts_one_fail"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts.test_two_scripts_one_fail()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestNegativeReferenceScripts.test_v1_attached_v2_reference"><code class="docutils literal notranslate"><span class="pre">TestNegativeReferenceScripts.test_v1_attached_v2_reference()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestReferenceScripts"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestReferenceScripts.test_mix_reference_attached_script"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts.test_mix_reference_attached_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestReferenceScripts.test_reference_multiple_script"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts.test_reference_multiple_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestReferenceScripts.test_reference_same_script"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts.test_reference_same_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestReferenceScripts.test_reference_script_byron_address"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts.test_reference_script_byron_address()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestReferenceScripts.test_spend_reference_script"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts.test_spend_reference_script()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.TestReferenceScripts.test_spend_regular_utxo_and_reference_script"><code class="docutils literal notranslate"><span class="pre">TestReferenceScripts.test_spend_regular_utxo_and_reference_script()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_ref_scripts_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_build">cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_build.TestSECP256k1"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_build.TestSECP256k1.build_fund_script_secp"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1.build_fund_script_secp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_build.TestSECP256k1.test_overspending_execution_budget"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1.test_overspending_execution_budget()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_build.TestSECP256k1.test_use_secp_builtin_functions"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1.test_use_secp_builtin_functions()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_raw">cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_raw module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_raw.TestSECP256k1"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_raw.TestSECP256k1.fund_script_secp"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1.fund_script_secp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_raw.TestSECP256k1.test_use_secp_builtin_functions"><code class="docutils literal notranslate"><span class="pre">TestSECP256k1.test_use_secp_builtin_functions()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#cardano_node_tests.tests.tests_plutus_v2.test_spend_secp256k1_raw.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v2.html#module-cardano_node_tests.tests.tests_plutus_v2">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html">cardano_node_tests.tests.tests_plutus_v3 package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#module-cardano_node_tests.tests.tests_plutus_v3.conftest">cardano_node_tests.tests.tests_plutus_v3.conftest module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.conftest.cluster"><code class="docutils literal notranslate"><span class="pre">cluster()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#module-cardano_node_tests.tests.tests_plutus_v3.test_mint_build">cardano_node_tests.tests.tests_plutus_v3.test_mint_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.Outcomes"><code class="docutils literal notranslate"><span class="pre">Outcomes</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.Outcomes.ERROR"><code class="docutils literal notranslate"><span class="pre">Outcomes.ERROR</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.Outcomes.OVERSPEND"><code class="docutils literal notranslate"><span class="pre">Outcomes.OVERSPEND</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.Outcomes.SUCCESS"><code class="docutils literal notranslate"><span class="pre">Outcomes.SUCCESS</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.TestPlutusV3Builtins"><code class="docutils literal notranslate"><span class="pre">TestPlutusV3Builtins</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.TestPlutusV3Builtins.batch5_fail_scripts"><code class="docutils literal notranslate"><span class="pre">TestPlutusV3Builtins.batch5_fail_scripts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.TestPlutusV3Builtins.batch5_overspend_scripts"><code class="docutils literal notranslate"><span class="pre">TestPlutusV3Builtins.batch5_overspend_scripts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.TestPlutusV3Builtins.batch5_success_scripts"><code class="docutils literal notranslate"><span class="pre">TestPlutusV3Builtins.batch5_success_scripts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.TestPlutusV3Builtins.batch6_fail_scripts"><code class="docutils literal notranslate"><span class="pre">TestPlutusV3Builtins.batch6_fail_scripts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.TestPlutusV3Builtins.batch6_overspend_scripts"><code class="docutils literal notranslate"><span class="pre">TestPlutusV3Builtins.batch6_overspend_scripts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.TestPlutusV3Builtins.batch6_success_scripts"><code class="docutils literal notranslate"><span class="pre">TestPlutusV3Builtins.batch6_success_scripts</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.TestPlutusV3Builtins.test_plutusv3_builtins"><code class="docutils literal notranslate"><span class="pre">TestPlutusV3Builtins.test_plutusv3_builtins()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.cluster_plutus"><code class="docutils literal notranslate"><span class="pre">cluster_plutus()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.run_plutusv3_builtins_test"><code class="docutils literal notranslate"><span class="pre">run_plutusv3_builtins_test()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.run_scenario"><code class="docutils literal notranslate"><span class="pre">run_scenario()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_mint_build.update_cost_model"><code class="docutils literal notranslate"><span class="pre">update_cost_model()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#module-cardano_node_tests.tests.tests_plutus_v3.test_spend_build">cardano_node_tests.tests.tests_plutus_v3.test_spend_build module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_spend_build.TestBuildLocking"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_spend_build.TestBuildLocking.test_txout_locking_no_datum"><code class="docutils literal notranslate"><span class="pre">TestBuildLocking.test_txout_locking_no_datum()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#cardano_node_tests.tests.tests_plutus_v3.test_spend_build.payment_addrs"><code class="docutils literal notranslate"><span class="pre">payment_addrs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cardano_node_tests.tests.tests_plutus_v3.html#module-cardano_node_tests.tests.tests_plutus_v3">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">ÔÉÅ</a></h2>
</section>
<section id="module-cardano_node_tests.tests.common">
<span id="cardano-node-tests-tests-common-module"></span><h2>cardano_node_tests.tests.common module<a class="headerlink" href="#module-cardano_node_tests.tests.common" title="Link to this heading">ÔÉÅ</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.allow_unstable_error_messages">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">allow_unstable_error_messages</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L610-L623"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.allow_unstable_error_messages" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Catch AssertionError and either log it or raise it.</p>
<p>Used in tests where error messages can vary between node/CLI versions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.check_missing_utxos">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">check_missing_utxos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utxos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L262-L271"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.check_missing_utxos" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Fail if any node is missing the given UTxOs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.check_reference_script_policyid">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">check_reference_script_policyid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L626-L641"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.check_reference_script_policyid" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that the policy ID of a reference script file matches the original script policy ID.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.detect_fork">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">detect_fork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L274-L330"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.detect_fork" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Detect if one or more nodes have forked blockchain or is out of sync.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.fail_on_fork">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">fail_on_fork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L333-L353"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.fail_on_fork" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Fail if one or more nodes have forked blockchain or is out of sync.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.get_conway_address_deposit">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">get_conway_address_deposit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L374-L380"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.get_conway_address_deposit" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get stake address deposit amount - is required in Conway+.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.get_nodes_missing_utxos">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">get_nodes_missing_utxos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utxos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L231-L259"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.get_nodes_missing_utxos" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return set of nodes that don‚Äôt have the given UTxOs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.get_payment_addr">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">get_payment_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caching_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_gen_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.KeyGenMethods" title="cardano_node_tests.utils.clusterlib_utils.KeyGenMethods"><span class="pre">KeyGenMethods</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">KeyGenMethods.DIRECT</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AddressRecord</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L487-L506"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.get_payment_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create a single new payment address.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.get_payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">get_payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caching_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_gen_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.KeyGenMethods" title="cardano_node_tests.utils.clusterlib_utils.KeyGenMethods"><span class="pre">KeyGenMethods</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">KeyGenMethods.DIRECT</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L451-L484"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.get_payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.get_pool_user">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">get_pool_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caching_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_key_gen_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.KeyGenMethods" title="cardano_node_tests.utils.clusterlib_utils.KeyGenMethods"><span class="pre">KeyGenMethods</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">KeyGenMethods.DIRECT</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">PoolUser</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L546-L565"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.get_pool_user" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create a single new pool user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.get_pool_users">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">get_pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caching_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_key_gen_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.KeyGenMethods" title="cardano_node_tests.utils.clusterlib_utils.KeyGenMethods"><span class="pre">KeyGenMethods</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">KeyGenMethods.DIRECT</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L509-L543"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.get_pool_users" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new pool users.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.get_registered_pool_user">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">get_registered_pool_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caching_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">PoolUser</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L568-L595"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.get_registered_pool_user" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new registered pool users.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.get_test_id">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">get_test_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_or_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L203-L228"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.get_test_id" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return unique test ID - function name + assigned cluster instance + random string.</p>
<p>Log the test ID into cluster manager log file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.hypothesis_settings">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">hypothesis_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_examples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L181-L192"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.hypothesis_settings" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.is_fee_in_interval">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">is_fee_in_interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frac</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L598-L607"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.is_fee_in_interval" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that the fee is within the expected range on local testnet.</p>
<p>The fee is considered to be within the expected range if it is within the expected_fee +/- frac
range.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.match_blocker">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">match_blocker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L356-L371"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.match_blocker" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Fail or Xfail the test if CLI error is raised.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.common.unique_time_str">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.common.</span></span><span class="sig-name descname"><span class="pre">unique_time_str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/common.py#L195-L200"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.common.unique_time_str" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return unique string based on current timestamp.</p>
<p>Useful for property-based tests as it isn‚Äôt possible to use <cite>random</cite> module in hypothesis tests.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.conftest">
<span id="cardano-node-tests-tests-conftest-module"></span><h2>cardano_node_tests.tests.conftest module<a class="headerlink" href="#module-cardano_node_tests.tests.conftest" title="Link to this heading">ÔÉÅ</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.LogsError">
<em class="property"><span class="k"><span class="pre">exception</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">LogsError</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L41-L42"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.LogsError" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cd_testfile_temp_dir">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cd_testfile_temp_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testfile_temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L413-L417"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cd_testfile_temp_dir" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Change to a temporary dir specific to a test file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.change_dir">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">change_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L231-L236"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.change_dir" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Change CWD to temp directory before running tests.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.close_dbconn">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">close_dbconn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L239-L243"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.close_dbconn" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Close connection to db-sync database at the end of session.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cluster">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L446-L451"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cluster_lock_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cluster_lock_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L462-L475"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster_lock_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Lock any pool and return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cluster_manager">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cluster_manager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L393-L410"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster_manager" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return instance of <cite>cluster_management.ClusterManager</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cluster_singleton">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cluster_singleton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L454-L459"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster_singleton" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Lock whole cluster instance and return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.cluster_use_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">cluster_use_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L478-L491"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.cluster_use_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Mark any pool as ‚Äúin use‚Äù and return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.function_autouse">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">function_autouse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cd_testfile_temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">respin_on_large_db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L438-L443"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.function_autouse" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Autouse function fixtures that are required for each test setup and teardown.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.init_pytest_temp_dirs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">init_pytest_temp_dirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tmp_path_factory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TempPathFactory</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L225-L228"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.init_pytest_temp_dirs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Init <cite>PytestTempDirs</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.pytest_addoption">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">pytest_addoption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L45-L65"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.pytest_addoption" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.pytest_collection_modifyitems">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">pytest_collection_modifyitems</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L176-L215"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.pytest_collection_modifyitems" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.pytest_configure">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">pytest_configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L85-L155"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.pytest_configure" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.pytest_keyboard_interrupt">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">pytest_keyboard_interrupt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L218-L222"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.pytest_keyboard_interrupt" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create a status file indicating that the test run was interrupted.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.respin_on_large_db">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">respin_on_large_db</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L420-L435"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.respin_on_large_db" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Respin a cluster instance running on CI when db-sync database size is over 256 MB.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.session_autouse">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">session_autouse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">init_pytest_temp_dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">change_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">close_dbconn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testenv_setup_teardown</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L354-L361"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.session_autouse" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Autouse session fixtures that are required for session setup and teardown.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.submit_method">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">submit_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L494-L500"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.submit_method" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return the submit method.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.testenv_setup_teardown">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">testenv_setup_teardown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L298-L351"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.testenv_setup_teardown" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Setup and teardown test environment.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.conftest.testfile_temp_dir">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.conftest.</span></span><span class="sig-name descname"><span class="pre">testfile_temp_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/conftest.py#L364-L382"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.conftest.testfile_temp_dir" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return a temporary dir for storing test artifacts.</p>
<p>The dir is specific to a single test file.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.delegation">
<span id="cardano-node-tests-tests-delegation-module"></span><h2>cardano_node_tests.tests.delegation module<a class="headerlink" href="#module-cardano_node_tests.tests.delegation" title="Link to this heading">ÔÉÅ</a></h2>
<p>Functionality for stake address delegation used in multiple tests modules.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.AddressRecordScript">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">AddressRecordScript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib._local.Path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py#L37-L40"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.AddressRecordScript" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.AddressRecordScript.address">
<span class="sig-name descname"><span class="pre">address</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.AddressRecordScript.address" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.AddressRecordScript.script_file">
<span class="sig-name descname"><span class="pre">script_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.AddressRecordScript.script_file" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationOut">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">DelegationOut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.PoolUser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_raw_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.TxRawOutput</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py#L49-L53"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationOut.pool_id">
<span class="sig-name descname"><span class="pre">pool_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut.pool_id" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationOut.pool_user">
<span class="sig-name descname"><span class="pre">pool_user</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PoolUser</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut.pool_user" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationOut.tx_raw_output">
<span class="sig-name descname"><span class="pre">tx_raw_output</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">TxRawOutput</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationOut.tx_raw_output" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationScriptOut">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">DelegationScriptOut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">cardano_node_tests.tests.delegation.PoolUserScript</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_raw_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.TxRawOutput</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py#L56-L60"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationScriptOut" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationScriptOut.pool_id">
<span class="sig-name descname"><span class="pre">pool_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationScriptOut.pool_id" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationScriptOut.pool_user">
<span class="sig-name descname"><span class="pre">pool_user</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">PoolUserScript</span></a></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationScriptOut.pool_user" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.DelegationScriptOut.tx_raw_output">
<span class="sig-name descname"><span class="pre">tx_raw_output</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">TxRawOutput</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.DelegationScriptOut.tx_raw_output" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.PoolUserScript">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">PoolUserScript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.AddressRecord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cardano_node_tests.tests.delegation.AddressRecordScript" title="cardano_node_tests.tests.delegation.AddressRecordScript"><span class="pre">cardano_node_tests.tests.delegation.AddressRecordScript</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py#L43-L46"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.PoolUserScript" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.PoolUserScript.payment">
<span class="sig-name descname"><span class="pre">payment</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">AddressRecord</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.PoolUserScript.payment" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.PoolUserScript.stake">
<span class="sig-name descname"><span class="pre">stake</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.delegation.AddressRecordScript" title="cardano_node_tests.tests.delegation.AddressRecordScript"><span class="pre">AddressRecordScript</span></a></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.PoolUserScript.stake" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.cluster_and_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">cluster_and_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_resources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.resources_management.BaseFilter" title="cardano_node_tests.cluster_management.resources_management.BaseFilter"><span class="pre">BaseFilter</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py#L73-L125"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.cluster_and_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return instance of <cite>clusterlib.ClusterLib</cite>, and pool id to delegate to.</p>
<p>We need to mark the pool as ‚Äúin use‚Äù when requesting local cluster
instance, that‚Äôs why cluster instance and pool id are tied together in
single fixture.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.db_check_delegation">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">db_check_delegation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PoolUser</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">PoolUserScript</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.dbsync_types.TxRecord" title="cardano_node_tests.utils.dbsync_types.TxRecord"><span class="pre">TxRecord</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deleg_epoch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_registration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py#L128-L144"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.db_check_delegation" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check delegation in db-sync.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.delegate_multisig_stake_addr">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">delegate_multisig_stake_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cardano_node_tests.tests.delegation.PoolUserScript" title="cardano_node_tests.tests.delegation.PoolUserScript"><span class="pre">PoolUserScript</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">skey_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cold_vkey</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">BuildMethods.BUILD_RAW</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cardano_node_tests.tests.delegation.DelegationScriptOut" title="cardano_node_tests.tests.delegation.DelegationScriptOut"><span class="pre">DelegationScriptOut</span></a></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py#L242-L365"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.delegate_multisig_stake_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit registration certificate and delegate a multisig stake address to a pool.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.delegate_stake_addr">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">delegate_stake_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addrs_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PoolUser</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cold_vkey</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">BuildMethods.BUILD_RAW</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cardano_node_tests.tests.delegation.DelegationOut" title="cardano_node_tests.tests.delegation.DelegationOut"><span class="pre">DelegationOut</span></a></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py#L147-L239"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.delegate_stake_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit registration certificate and delegate a stake address to a pool.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.delegation.get_pool_id">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.delegation.</span></span><span class="sig-name descname"><span class="pre">get_pool_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addrs_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/delegation.py#L63-L70"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.delegation.get_pool_id" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return stake pool id.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.issues">
<span id="cardano-node-tests-tests-issues-module"></span><h2>cardano_node_tests.tests.issues module<a class="headerlink" href="#module-cardano_node_tests.tests.issues" title="Link to this heading">ÔÉÅ</a></h2>
</section>
<section id="module-cardano_node_tests.tests.kes">
<span id="cardano-node-tests-tests-kes-module"></span><h2>cardano_node_tests.tests.kes module<a class="headerlink" href="#module-cardano_node_tests.tests.kes" title="Link to this heading">ÔÉÅ</a></h2>
<p>Functionality for KES key used in multiple tests modules.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.KesScenarios">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.kes.</span></span><span class="sig-name descname"><span class="pre">KesScenarios</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/kes.py#L19-L23"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.KesScenarios" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.KesScenarios.ALL_INVALID">
<span class="sig-name descname"><span class="pre">ALL_INVALID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'all_invalid'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/kes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.KesScenarios.ALL_INVALID" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.KesScenarios.ALL_VALID">
<span class="sig-name descname"><span class="pre">ALL_VALID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'all_valid'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/kes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.KesScenarios.ALL_VALID" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.KesScenarios.INVALID_COUNTERS">
<span class="sig-name descname"><span class="pre">INVALID_COUNTERS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'invalid_counters'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/kes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.KesScenarios.INVALID_COUNTERS" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.KesScenarios.INVALID_KES_PERIOD">
<span class="sig-name descname"><span class="pre">INVALID_KES_PERIOD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'invalid_kes_period'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/kes.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.KesScenarios.INVALID_KES_PERIOD" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.check_kes_period_info_result">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.kes.</span></span><span class="sig-name descname"><span class="pre">check_kes_period_info_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kes_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_start_kes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/kes.py#L26-L189"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.check_kes_period_info_result" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check output <cite>kes-period-info</cite> command.</p>
<p>When <cite>pool_num</cite> is specified, prometheus metrics are checked.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.finish_on_errors">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.kes.</span></span><span class="sig-name descname"><span class="pre">finish_on_errors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/kes.py#L215-L225"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.finish_on_errors" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Fail or Xfail the test if there are errors.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.kes.get_xfails">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.kes.</span></span><span class="sig-name descname"><span class="pre">get_xfails</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">errors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.blockers.GH" title="cardano_node_tests.utils.blockers.GH"><span class="pre">GH</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/kes.py#L192-L212"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.kes.get_xfails" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get xfail issues.</p>
<p>Either all errors can Xfail, or none of them can. There can be only one outcome of a test,
so if there are errors that can‚Äôt be Xfailed, the test must fail.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.plutus_common">
<span id="cardano-node-tests-tests-plutus-common-module"></span><h2>cardano_node_tests.tests.plutus_common module<a class="headerlink" href="#module-cardano_node_tests.tests.plutus_common" title="Link to this heading">ÔÉÅ</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ExecutionCost">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">ExecutionCost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">per_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_cost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py#L87-L91"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ExecutionCost.fixed_cost">
<span class="sig-name descname"><span class="pre">fixed_cost</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ExecutionCost.fixed_cost" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ExecutionCost.per_space">
<span class="sig-name descname"><span class="pre">per_space</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ExecutionCost.per_space" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ExecutionCost.per_time">
<span class="sig-name descname"><span class="pre">per_time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ExecutionCost.per_time" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">PlutusOp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">script_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pathlib._local.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datum_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib._local.Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datum_cbor_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib._local.Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datum_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redeemer_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib._local.Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redeemer_cbor_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib._local.Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redeemer_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_cost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">cardano_node_tests.tests.plutus_common.ExecutionCost</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py#L642-L651"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.datum_cbor_file">
<span class="sig-name descname"><span class="pre">datum_cbor_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.datum_cbor_file" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.datum_file">
<span class="sig-name descname"><span class="pre">datum_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.datum_file" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.datum_value">
<span class="sig-name descname"><span class="pre">datum_value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.datum_value" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.execution_cost">
<span class="sig-name descname"><span class="pre">execution_cost</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.execution_cost" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_cbor_file">
<span class="sig-name descname"><span class="pre">redeemer_cbor_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_cbor_file" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_file">
<span class="sig-name descname"><span class="pre">redeemer_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_file" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_value">
<span class="sig-name descname"><span class="pre">redeemer_value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.redeemer_value" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusOp.script_file">
<span class="sig-name descname"><span class="pre">script_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusOp.script_file" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusScriptData">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">PlutusScriptData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">script_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pathlib._local.Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_cost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">cardano_node_tests.tests.plutus_common.ExecutionCost</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py#L159-L163"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusScriptData" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusScriptData.execution_cost">
<span class="sig-name descname"><span class="pre">execution_cost</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusScriptData.execution_cost" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusScriptData.script_file">
<span class="sig-name descname"><span class="pre">script_file</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Path</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusScriptData.script_file" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.PlutusScriptData.script_type">
<span class="sig-name descname"><span class="pre">script_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.PlutusScriptData.script_type" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ScriptCost">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">ScriptCost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collateral</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_collateral</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py#L654-L658"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ScriptCost" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ScriptCost.collateral">
<span class="sig-name descname"><span class="pre">collateral</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ScriptCost.collateral" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ScriptCost.fee">
<span class="sig-name descname"><span class="pre">fee</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ScriptCost.fee" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.ScriptCost.min_collateral">
<span class="sig-name descname"><span class="pre">min_collateral</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.ScriptCost.min_collateral" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.check_plutus_costs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">check_plutus_costs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plutus_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_costs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frac</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.15</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py#L661-L695"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.check_plutus_costs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check plutus transaction cost.</p>
<p>units: the time is in picoseconds and the space is in bytes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.check_return_collateral">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">check_return_collateral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TxRawOutput</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py#L776-L873"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.check_return_collateral" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check if collateral is returned on Plutus script failure.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.compute_cost">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">compute_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">execution_cost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collateral_fraction_offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ScriptCost" title="cardano_node_tests.tests.plutus_common.ScriptCost"><span class="pre">ScriptCost</span></a></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py#L707-L724"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.compute_cost" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Compute fee and collateral required for the Plutus script.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.create_script_context_w_blockers">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">create_script_context_w_blockers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redeemer_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py#L900-L928"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.create_script_context_w_blockers" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Run the <cite>create-script-context</cite> command (available in plutus-apps).</p>
<p>This variant of the <cite>create_script_context</cite> function catches known errors and fails the test
with a blocker issue.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.get_cost_per_unit">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">get_cost_per_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.ExecutionCost" title="cardano_node_tests.tests.plutus_common.ExecutionCost"><span class="pre">ExecutionCost</span></a></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py#L698-L704"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.get_cost_per_unit" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get execution cost per unit in Lovelace.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.txout_factory">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">txout_factory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plutus_op</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cardano_node_tests.tests.plutus_common.PlutusOp" title="cardano_node_tests.tests.plutus_common.PlutusOp"><span class="pre">PlutusOp</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">coin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'lovelace'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embed_datum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inline_datum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">TxOut</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py#L727-L773"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.txout_factory" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create <cite>TxOut</cite> object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.plutus_common.xfail_on_secp_error">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.plutus_common.</span></span><span class="sig-name descname"><span class="pre">xfail_on_secp_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/plutus_common.py#L876-L897"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.plutus_common.xfail_on_secp_error" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Xfail a test based on error message when using SECP functions.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.reqs_conway">
<span id="cardano-node-tests-tests-reqs-conway-module"></span><h2>cardano_node_tests.tests.reqs_conway module<a class="headerlink" href="#module-cardano_node_tests.tests.reqs_conway" title="Link to this heading">ÔÉÅ</a></h2>
<p>Conway User Stories.</p>
</section>
<section id="module-cardano_node_tests.tests.test_addr_registration">
<span id="cardano-node-tests-tests-test-addr-registration-module"></span><h2>cardano_node_tests.tests.test_addr_registration module<a class="headerlink" href="#module-cardano_node_tests.tests.test_addr_registration" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for stake address registration.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.TestNegative">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_addr_registration.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L516-L815"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.TestNegative" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.TestNegative.test_deregister_not_registered_addr">
<span class="sig-name descname"><span class="pre">test_deregister_not_registered_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L591-L664"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.TestNegative.test_deregister_not_registered_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Deregister not registered stake address.</p>
<p>Uses parametrized build method (build, build-raw, or build-estimate).</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create stake address but do not register it</p></li>
<li><p>Generate stake address deregistration certificate for unregistered address</p></li>
<li><p>Attempt to build/submit transaction to deregister unregistered stake address</p></li>
<li><p>Check that transaction fails with StakeKeyNotRegisteredDELEG error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.TestNegative.test_incomplete_multisig">
<span class="sig-name descname"><span class="pre">test_incomplete_multisig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issue</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L666-L815"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.TestNegative.test_incomplete_multisig" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to register a multisig stake address while missing either a script or an skey.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create a multisig script to be used as stake credentials</p></li>
<li><p>Create stake address registration certificate</p></li>
<li><p>Create a Tx for the registration certificate</p></li>
<li><p>Scenario1: Build a Tx with the registration certificate, without passing the the script
to the transaction build command</p></li>
<li><p>Scenario 2: One skey is missing when witnesing the Tx</p></li>
<li><p>Incrementally sign the Tx and submit the registration certificate</p></li>
<li><p>Check the expected failure</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.TestNegative.test_register_addr_with_wrong_key">
<span class="sig-name descname"><span class="pre">test_register_addr_with_wrong_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L548-L589"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.TestNegative.test_register_addr_with_wrong_key" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to register stake address using wrong payment skey.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create stake address registration certificate</p></li>
<li><p>Attempt to submit registration transaction signed with wrong payment skey</p></li>
<li><p>Check that transaction submission fails with MissingVKeyWitnessesUTXOW error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.TestNegative.test_registration_cert_with_wrong_key">
<span class="sig-name descname"><span class="pre">test_registration_cert_with_wrong_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L519-L546"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.TestNegative.test_registration_cert_with_wrong_key" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to generate stake address registration certificate using wrong stake vkey.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Attempt to generate stake address registration certificate using payment vkey instead of
stake vkey</p></li>
<li><p>Check that certificate generation fails with expected error about wrong key type</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.TestRegisterAddr">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_addr_registration.</span></span><span class="sig-name descname"><span class="pre">TestRegisterAddr</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L54-L513"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.TestRegisterAddr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for stake address registration and deregistration.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.TestRegisterAddr.test_addr_registration_certificate_order">
<span class="sig-name descname"><span class="pre">test_addr_registration_certificate_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L240-L338"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.TestRegisterAddr.test_addr_registration_certificate_order" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit (de)registration certificates in single TX and check that the order matter.</p>
<ul class="simple">
<li><p>Create stake address registration cert</p></li>
<li><p>Create stake address deregistration cert</p></li>
<li><p>Register, deregister, register, deregister and register stake address in single TX</p></li>
<li><p>Check that the address is registered</p></li>
<li><p>Check that the balance for source address was correctly updated and that key deposit
was needed</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.TestRegisterAddr.test_addr_registration_deregistration">
<span class="sig-name descname"><span class="pre">test_addr_registration_deregistration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L160-L238"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.TestRegisterAddr.test_addr_registration_deregistration" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit registration and deregistration certificates in single TX.</p>
<ul class="simple">
<li><p>Create stake address registration cert</p></li>
<li><p>Create stake address deregistration cert</p></li>
<li><p>Register and deregister stake address in single TX</p></li>
<li><p>Check that the balance for source address was correctly updated and that key deposit
was not needed</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.TestRegisterAddr.test_deregister_registered">
<span class="sig-name descname"><span class="pre">test_deregister_registered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L57-L158"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.TestRegisterAddr.test_deregister_registered" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Deregister a registered stake address.</p>
<ul class="simple">
<li><p>Create stake address registration cert</p></li>
<li><p>Register and stake address</p></li>
<li><p>Create stake address deregistration cert</p></li>
<li><p>Deregister stake address</p></li>
<li><p>Check that the balance for source address was correctly updated</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.TestRegisterAddr.test_multisig_deregister_registered">
<span class="sig-name descname"><span class="pre">test_multisig_deregister_registered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L340-L513"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.TestRegisterAddr.test_multisig_deregister_registered" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Deregister a registered multisig stake address.</p>
<ul class="simple">
<li><p>Create a multisig script to be used as stake credentials</p></li>
<li><p>Create stake address registration certificate</p></li>
<li><p>Create a Tx for the registration certificate</p></li>
<li><p>Incrementally sign the Tx and submit the registration certificate</p></li>
<li><p>Check that the address is registered</p></li>
<li><p>Create stake address deregistration certificate</p></li>
<li><p>Create a Tx for the deregistration certificate</p></li>
<li><p>Incrementally sign the Tx and submit the deregistration certificate</p></li>
<li><p>Check that the address is no longer registered</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.pool_users">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_addr_registration.</span></span><span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L23-L37"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.pool_users" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_addr_registration.pool_users_disposable">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_addr_registration.</span></span><span class="sig-name descname"><span class="pre">pool_users_disposable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_addr_registration.py#L40-L51"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_addr_registration.pool_users_disposable" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create function scoped pool users.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_blocks">
<span id="cardano-node-tests-tests-test-blocks-module"></span><h2>cardano_node_tests.tests.test_blocks module<a class="headerlink" href="#module-cardano_node_tests.tests.test_blocks" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for blocks production.</p>
<p>Other block production checks may be present in <cite>test_staking.py</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestCollectData">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_blocks.</span></span><span class="sig-name descname"><span class="pre">TestCollectData</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py#L253-L403"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestCollectData" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for collecting data about blocks production.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestCollectData.block_production_db">
<span class="sig-name descname"><span class="pre">block_production_db</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">Connection</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py#L275-L280"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestCollectData.block_production_db" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Open block production db.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestCollectData.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py#L259-L273"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestCollectData.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestCollectData.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">during</span> <span class="pre">block-production</span> <span class="pre">testing'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestCollectData.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestCollectData.test_block_production">
<span class="sig-name descname"><span class="pre">test_block_production</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_production_db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Connection</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py#L282-L403"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestCollectData.test_block_production" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Record number of blocks produced by each pool over multiple epochs.</p>
<ul>
<li><p>Register and delegate a stake address to every pool</p></li>
<li><p>Collect block production data over multiple epochs</p>
<blockquote>
<div><ul class="simple">
<li><p>Each epoch save ledger state</p></li>
<li><p>Each epoch save block production data to sqlite db</p></li>
<li><p>Transfer funds between multiple addresses to create activity</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestDynamicBlockProd">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_blocks.</span></span><span class="sig-name descname"><span class="pre">TestDynamicBlockProd</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py#L406-L593"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestDynamicBlockProd" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for P2P dynamic block production.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestDynamicBlockProd.backup_node_name">
<span class="sig-name descname"><span class="pre">backup_node_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'pool2'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestDynamicBlockProd.backup_node_name" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestDynamicBlockProd.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py#L444-L458"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestDynamicBlockProd.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestDynamicBlockProd.producing_node_name">
<span class="sig-name descname"><span class="pre">producing_node_name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'pool1'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestDynamicBlockProd.producing_node_name" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestDynamicBlockProd.reconf_for_dynamic">
<span class="sig-name descname"><span class="pre">reconf_for_dynamic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py#L412-L442"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestDynamicBlockProd.reconf_for_dynamic" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Reconfigure cluster for dynamic block production.</p>
<p>Reconfigure nodeX to be backup block production node for nodeY.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestDynamicBlockProd.test_dynamic_block_production">
<span class="sig-name descname"><span class="pre">test_dynamic_block_production</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py#L460-L593"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestDynamicBlockProd.test_dynamic_block_production" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check dynamic block production.</p>
<ul class="simple">
<li><p>Check that blocks are produced by both nodeX and nodeY pools</p></li>
<li><p>Reconfigure a nodeX to be non-producing backup node for nodeY pool</p></li>
<li><p>Terminate nodeY and send SIGHUP to nodeX so it starts producing blocks on behalf of nodeY</p></li>
<li><p>Check that nodeX has replaced nodeY and is producing blocks on its behalf</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestLeadershipSchedule">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_blocks.</span></span><span class="sig-name descname"><span class="pre">TestLeadershipSchedule</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py#L36-L250"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestLeadershipSchedule" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli leadership-schedule.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestLeadershipSchedule.test_pool_blocks">
<span class="sig-name descname"><span class="pre">test_pool_blocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_epoch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py#L39-L204"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestLeadershipSchedule.test_pool_blocks" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that blocks were forged according to leadership schedule.</p>
<ul class="simple">
<li><p>Query leadership schedule for selected pool for current epoch or next epoch</p></li>
<li><p>Wait for epoch that comes after the queried epoch</p></li>
<li><p>Get info about forged blocks in queried epoch for the selected pool</p></li>
<li><p>Compare leadership schedule with blocks that were actually forged</p></li>
<li><p>Compare log records with ledger state dump</p></li>
<li><p>(optional) Check forged blocks in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_blocks.TestLeadershipSchedule.test_unstable_stake_distribution">
<span class="sig-name descname"><span class="pre">test_unstable_stake_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_blocks.py#L206-L250"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_blocks.TestLeadershipSchedule.test_unstable_stake_distribution" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to query leadership schedule for next epoch when stake distribution is unstable.</p>
<p>Expect failure.</p>
<p>Test that querying leadership schedule fails when stake distribution is not yet stable for
next epoch. Stable stake distribution is only available in last 300 slots of current epoch.</p>
<ul class="simple">
<li><p>Wait for epoch interval where stake distribution for next epoch is unstable (before last
300 slots of current epoch)</p></li>
<li><p>Attempt to query leadership schedule for next epoch using pool VRF and cold keys</p></li>
<li><p>Check that query fails with error message about unstable stake distribution</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_chain_transactions">
<span id="cardano-node-tests-tests-test-chain-transactions-module"></span><h2>cardano_node_tests.tests.test_chain_transactions module<a class="headerlink" href="#module-cardano_node_tests.tests.test_chain_transactions" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for transactions chaining.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_chain_transactions.TestTxChaining">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_chain_transactions.</span></span><span class="sig-name descname"><span class="pre">TestTxChaining</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_chain_transactions.py#L95-L200"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_chain_transactions.TestTxChaining" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_chain_transactions.TestTxChaining.cluster">
<span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_chain_transactions.py#L96-L100"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_chain_transactions.TestTxChaining.cluster" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_chain_transactions.TestTxChaining.test_tx_chaining">
<span class="sig-name descname"><span class="pre">test_tx_chaining</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_chain_transactions.py#L102-L200"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_chain_transactions.TestTxChaining.test_tx_chaining" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test transaction chaining with 1000 dependent transactions in mempool.</p>
<p>Submit Txs one by one without waiting for them to appear on ledger and use output of one
Tx as input for the next Tx. As a result, Txs are using inputs that don‚Äôt exist on ledger
yet. Node needs to lookup the Tx in mempool and correctly chain the dependent transactions.</p>
<ul class="simple">
<li><p>Create payment address with 205 ADA</p></li>
<li><p>Generate 1000 signed transactions where each uses output of previous transaction</p></li>
<li><p>Submit all transactions to mempool without waiting for ledger confirmation</p></li>
<li><p>Verify node can chain dependent transactions through mempool lookups</p></li>
<li><p>Check balances after all transactions are processed</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_cli">
<span id="cardano-node-tests-tests-test-cli-module"></span><h2>cardano_node_tests.tests.test_cli module<a class="headerlink" href="#module-cardano_node_tests.tests.test_cli" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for cardano-cli that doesn‚Äôt fit into any other test file.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressBuild">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestAddressBuild</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L526-L733"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressBuild" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli address build.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressBuild.test_address_build">
<span class="sig-name descname"><span class="pre">test_address_build</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L529-L612"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressBuild.test_address_build" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Build payment addresses with different input combinations.</p>
<p>Test parametrized across payment credential types (vkey, vkey_file, script_file) and
stake credential types (None, vkey, vkey_file, script_file, address).</p>
<ul class="simple">
<li><p>Load golden payment and stake verification keys and script files</p></li>
<li><p>Build payment address using specified payment credential type (parameter)</p></li>
<li><p>Optionally include stake credential using specified type (parameter)</p></li>
<li><p>Verify generated address matches one of expected address formats</p></li>
<li><p>Check address type varies based on stake credential (payment-only or base address)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressBuild.test_invalid_payment_info">
<span class="sig-name descname"><span class="pre">test_invalid_payment_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L614-L667"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressBuild.test_invalid_payment_info" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to use ‚Äòaddress build‚Äô with invalid payment information (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressBuild.test_invalid_stake_info">
<span class="sig-name descname"><span class="pre">test_invalid_stake_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L669-L733"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressBuild.test_invalid_stake_info" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to use ‚Äòaddress build‚Äô with invalid stake address information (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestAddressInfo</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L356-L523"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli address info.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_payment">
<span class="sig-name descname"><span class="pre">test_address_info_payment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_gen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L359-L392"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_payment" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Retrieve and verify payment address information.</p>
<p>Test parametrized with static and dynamically generated payment addresses.</p>
<ul class="simple">
<li><p>Use static payment address or generate new payment address (addr_gen parameter)</p></li>
<li><p>Execute <cite>cardano-cli address info</cite> command</p></li>
<li><p>Verify address field matches input address</p></li>
<li><p>Verify era is ‚Äúshelley‚Äù</p></li>
<li><p>Verify encoding is ‚Äúbech32‚Äù</p></li>
<li><p>Verify type is ‚Äúpayment‚Äù</p></li>
<li><p>For static address, verify base16 encoding matches expected value</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_payment_with_outfile">
<span class="sig-name descname"><span class="pre">test_address_info_payment_with_outfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L473-L506"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_payment_with_outfile" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Compare payment address info with and without outfile provided.</p>
<p>Test that address info produces identical output when written to stdout via ‚Äìout-file
compared to default stdout output.</p>
<ul class="simple">
<li><p>Execute <cite>cardano-cli address info</cite> without ‚Äìout-file argument</p></li>
<li><p>Parse JSON output from stdout</p></li>
<li><p>Execute <cite>cardano-cli address info ‚Äìout-file /dev/stdout</cite></p></li>
<li><p>Parse JSON output from stdout with ‚Äìout-file</p></li>
<li><p>Verify both outputs are identical</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_script">
<span class="sig-name descname"><span class="pre">test_address_info_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L429-L471"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_script" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Retrieve and verify script address information.</p>
<p>Test that address info correctly identifies script addresses.</p>
<ul class="simple">
<li><p>Generate payment address and keys</p></li>
<li><p>Create multisig script using payment verification key</p></li>
<li><p>Generate script address from multisig script</p></li>
<li><p>Execute <cite>cardano-cli address info</cite> command for script address</p></li>
<li><p>Verify address field matches input address</p></li>
<li><p>Verify era is ‚Äúshelley‚Äù</p></li>
<li><p>Verify encoding is ‚Äúbech32‚Äù</p></li>
<li><p>Verify type is ‚Äúpayment‚Äù (script addresses have payment type)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_stake">
<span class="sig-name descname"><span class="pre">test_address_info_stake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_gen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L394-L427"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_stake" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Retrieve and verify stake address information.</p>
<p>Test parametrized with static and dynamically generated stake addresses.</p>
<ul class="simple">
<li><p>Use static stake address or generate new stake address (addr_gen parameter)</p></li>
<li><p>Execute <cite>cardano-cli address info</cite> command</p></li>
<li><p>Verify address field matches input address</p></li>
<li><p>Verify era is ‚Äúshelley‚Äù</p></li>
<li><p>Verify encoding is ‚Äúbech32‚Äù</p></li>
<li><p>Verify type is ‚Äústake‚Äù</p></li>
<li><p>For static address, verify base16 encoding matches expected value</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_with_invalid_address">
<span class="sig-name descname"><span class="pre">test_address_info_with_invalid_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L508-L523"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressInfo.test_address_info_with_invalid_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to use ‚Äòaddress info‚Äô with invalid address (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressKeyHash">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestAddressKeyHash</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L736-L804"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressKeyHash" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli address key-hash.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressKeyHash.test_invalid_verification_key">
<span class="sig-name descname"><span class="pre">test_invalid_verification_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L773-L804"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressKeyHash.test_invalid_verification_key" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to use <cite>address key-hash</cite> with invalid verification key (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAddressKeyHash.test_valid_verification_key">
<span class="sig-name descname"><span class="pre">test_valid_verification_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L739-L771"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAddressKeyHash.test_valid_verification_key" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Compute payment verification key hash from valid key.</p>
<p>Test parametrized with vkey (bech32 string) and vkey_file (file path) input options.</p>
<ul class="simple">
<li><p>Load golden payment verification key file</p></li>
<li><p>Convert to bech32 format if option is ‚Äúvkey‚Äù</p></li>
<li><p>Execute <cite>cardano-cli address key-hash</cite> command with specified input option</p></li>
<li><p>Verify computed hash matches expected golden hash value</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestAdvancedQueries</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1150-L1483"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic sanity tests for advanced cardano-cli query commands.</p>
<p>The <cite>query leadership-schedule</cite> is handled by more complex tests <cite>TestLeadershipSchedule</cite>
as it requires complex setup.
For <cite>query protocol-state</cite> see <cite>test_protocol_state_keys</cite> smoke test.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.pool_ids">
<span class="sig-name descname"><span class="pre">pool_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1331-L1336"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.pool_ids" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_ledger_state">
<span class="sig-name descname"><span class="pre">test_ledger_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1338-L1359"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_ledger_state" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query ledger state and validate structure.</p>
<p>Test that ledger-state query returns expected JSON structure containing epoch information.</p>
<ul class="simple">
<li><p>Execute <cite>cardano-cli query ledger-state</cite> command</p></li>
<li><p>Verify response contains expected ‚ÄúlastEpoch‚Äù field</p></li>
<li><p>Check that ledger state JSON can be parsed successfully</p></li>
<li><p>Handle known node issue 3859 for invalid numeric literals in JSON output</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_pool_params">
<span class="sig-name descname"><span class="pre">test_pool_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1401-L1422"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_pool_params" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query pool parameters and validate structure.</p>
<p>Test that pool-params query returns expected pool configuration fields.</p>
<ul class="simple">
<li><p>Get first available pool ID from cluster</p></li>
<li><p>Execute <cite>cardano-cli query pool-params</cite> command for pool</p></li>
<li><p>Verify response contains expected ‚Äúretiring‚Äù field</p></li>
<li><p>Check that pool parameters JSON can be parsed successfully</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_pool_state">
<span class="sig-name descname"><span class="pre">test_pool_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1466-L1483"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_pool_state" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query pool state and validate structure.</p>
<p>Test that pool-state query returns expected pool runtime state fields.</p>
<ul class="simple">
<li><p>Get first available pool ID from cluster</p></li>
<li><p>Execute <cite>cardano-cli query pool-state</cite> command for pool</p></li>
<li><p>Verify response contains expected ‚Äúretiring‚Äù field</p></li>
<li><p>Check that pool state can be retrieved successfully</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_stake_snapshot">
<span class="sig-name descname"><span class="pre">test_stake_snapshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1361-L1399"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_stake_snapshot" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query stake snapshot for pools and validate structure.</p>
<p>Test parametrized to query single pool, multiple pools, or all pools.
See also <cite>TestLedgerState.test_stake_snapshot</cite> for comprehensive ledger state validation.</p>
<ul class="simple">
<li><p>Get stake pool IDs from cluster</p></li>
<li><p>Execute <cite>cardano-cli query stake-snapshot</cite> with specified pool filter (option parameter)</p></li>
<li><p>Verify response contains expected snapshot fields (stakeMark, stakeSet, stakeGo)</p></li>
<li><p>Check pool stake totals match expected values</p></li>
<li><p>(optional) Validate stake distribution against db-sync for single_pool option</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_tx_mempool_info">
<span class="sig-name descname"><span class="pre">test_tx_mempool_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_out_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1424-L1464"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestAdvancedQueries.test_tx_mempool_info" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test ‚Äòquery tx-mempool info‚Äô.</p>
<ul class="simple">
<li><p>Check that the expected fields are returned</p></li>
<li><p>Check that the slot number returned is the last applied on the ledger plus one</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestCLI</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L35-L353"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_FILE">
<span class="sig-name descname"><span class="pre">TX_BODY_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx.body')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_FILE" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_FILE_CONWAY">
<span class="sig-name descname"><span class="pre">TX_BODY_FILE_CONWAY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx_conway.body')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_FILE_CONWAY" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_OUT_JSON">
<span class="sig-name descname"><span class="pre">TX_BODY_OUT_JSON</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx_body_json.out')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_BODY_OUT_JSON" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.TX_FILE">
<span class="sig-name descname"><span class="pre">TX_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx.signed')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_FILE" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.TX_OUT_JSON">
<span class="sig-name descname"><span class="pre">TX_OUT_JSON</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/test_tx_metadata_both_tx_json.out')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.TX_OUT_JSON" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_calculate_min_fee">
<span class="sig-name descname"><span class="pre">test_calculate_min_fee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L116-L164"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_calculate_min_fee" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Calculate minimum transaction fee using cardano-cli.</p>
<p>Test that transaction calculate-min-fee command returns reasonable fee value in Lovelace.</p>
<ul class="simple">
<li><p>Create protocol parameters file</p></li>
<li><p>Execute <cite>cardano-cli transaction calculate-min-fee</cite> command</p></li>
<li><p>Provide transaction body file, witness count, input/output counts</p></li>
<li><p>Check that calculated fee is below maximum expected threshold (172000 Lovelace)</p></li>
<li><p>Verify output format includes fee value and ‚ÄúLovelace‚Äù unit</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_ledger_peer_snapshot">
<span class="sig-name descname"><span class="pre">test_ledger_peer_snapshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L328-L353"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_ledger_peer_snapshot" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query ledger peer snapshot and validate structure.</p>
<p>Test that ledger peer snapshot command returns expected JSON structure with pool
stake information.</p>
<ul class="simple">
<li><p>Execute <cite>cardano-cli query ledger-peer-snapshot</cite> command</p></li>
<li><p>Verify response contains expected keys (bigLedgerPools, slotNo, version)</p></li>
<li><p>Check that bigLedgerPools is a list</p></li>
<li><p>Verify each pool entry contains relativeStake field if pools exist</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_protocol_mode">
<span class="sig-name descname"><span class="pre">test_protocol_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L44-L67"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_protocol_mode" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check the default protocol mode - command works even without specifying protocol mode.</p>
<p>Test that cardano-cli query commands work without explicitly specifying the protocol mode.</p>
<ul class="simple">
<li><p>Execute <cite>cardano-cli query utxo</cite> command without ‚Äìcardano-mode or ‚Äìbyron-mode flag</p></li>
<li><p>Use static testnet address for query</p></li>
<li><p>Verify command executes successfully without protocol mode argument</p></li>
<li><p>Check that default protocol mode is automatically applied</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_query_tip">
<span class="sig-name descname"><span class="pre">test_query_tip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L255-L326"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_query_tip" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query blockchain tip and validate output fields.</p>
<p>Test that query tip command returns expected fields with correct values and constraints.</p>
<ul class="simple">
<li><p>Execute <cite>cardano-cli query tip</cite> command</p></li>
<li><p>Check that output contains expected fields (block, epoch, era, hash, slot, syncProgress)</p></li>
<li><p>Check for optional fields slotInEpoch and slotsToEpochEnd (node 1.36.0+)</p></li>
<li><p>Verify slotInEpoch is never greater than epoch length</p></li>
<li><p>Verify slotsToEpochEnd matches difference between epoch length and slotInEpoch</p></li>
<li><p>Verify slot number is within valid range for current epoch</p></li>
<li><p>Verify era matches expected cluster era name</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_sign_tx_with_process_substitution">
<span class="sig-name descname"><span class="pre">test_sign_tx_with_process_substitution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L195-L217"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_sign_tx_with_process_substitution" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Sign transaction using signing key file via process substitution.</p>
<p>Test that cardano-cli accepts signing key file content via bash process substitution
instead of file path.</p>
<ul class="simple">
<li><p>Load signing key file content into bash variable</p></li>
<li><p>Execute <cite>cardano-cli transaction sign</cite> with process substitution for ‚Äìsigning-key-file</p></li>
<li><p>Verify command accepts process substitution syntax for key file</p></li>
<li><p>Check that transaction is signed successfully</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_toplevel_queries">
<span class="sig-name descname"><span class="pre">test_toplevel_queries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L69-L114"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_toplevel_queries" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Verify that query commands are accessible from top level cardano-cli.</p>
<p>Test parametrized across multiple query commands to ensure they are available in top-level
command structure rather than requiring era-specific paths.</p>
<ul class="simple">
<li><p>Execute <cite>cardano-cli query &lt;command&gt;</cite> without era prefix</p></li>
<li><p>Verify command is recognized (may fail with usage error if args missing)</p></li>
<li><p>Check that command does not produce ‚ÄúInvalid argument ‚Äòquery‚Äô‚Äù error</p></li>
<li><p>Verify usage message contains expected command name</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_tx_view">
<span class="sig-name descname"><span class="pre">test_tx_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L219-L253"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_tx_view" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>View transaction body and signed transaction in JSON format.</p>
<p>Test that transaction view command produces expected JSON output for both transaction
body and signed transaction files.</p>
<ul class="simple">
<li><p>Execute <cite>cardano-cli transaction view ‚Äìtx-body-file</cite> command</p></li>
<li><p>Check output includes redeemers and datums fields</p></li>
<li><p>Compare transaction body JSON output with golden file</p></li>
<li><p>Execute <cite>cardano-cli transaction view ‚Äìtx-file</cite> command for signed transaction</p></li>
<li><p>Compare signed transaction JSON output with golden file</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestCLI.test_txid_with_process_substitution">
<span class="sig-name descname"><span class="pre">test_txid_with_process_substitution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L166-L193"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestCLI.test_txid_with_process_substitution" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Extract transaction ID from transaction file using process substitution.</p>
<p>Test that cardano-cli accepts transaction file content via bash process substitution
instead of file path.</p>
<ul class="simple">
<li><p>Load transaction file content into bash variable</p></li>
<li><p>Execute <cite>cardano-cli transaction txid</cite> with process substitution &lt;(echo content)</p></li>
<li><p>Verify command accepts process substitution syntax</p></li>
<li><p>Check that transaction ID is extracted successfully</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestKey">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestKey</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L807-L895"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestKey" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli key.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestKey.test_non_extended_key_error">
<span class="sig-name descname"><span class="pre">test_non_extended_key_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L871-L895"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestKey.test_non_extended_key_error" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to get a non-extended verification key with a signing key file.</p>
<p>Expect failure. Should only allow extended verification key files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestKey.test_non_extended_key_valid">
<span class="sig-name descname"><span class="pre">test_non_extended_key_valid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L810-L843"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestKey.test_non_extended_key_valid" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Derive non-extended verification key from extended verification key.</p>
<p>Test that non-extended key derivation produces valid key that is prefix of extended key.</p>
<ul class="simple">
<li><p>Generate extended payment key pair</p></li>
<li><p>Extract extended verification key CBOR hex (excluding first 4 chars)</p></li>
<li><p>Execute <cite>cardano-cli key non-extended-key</cite> command with extended verification key file</p></li>
<li><p>Extract non-extended verification key CBOR hex</p></li>
<li><p>Verify extended key starts with non-extended key (non-extended is 32-byte prefix)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestKey.test_stake_non_extended_key">
<span class="sig-name descname"><span class="pre">test_stake_non_extended_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L845-L869"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestKey.test_stake_non_extended_key" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Derive stake non-extended key from stake extended key.</p>
<p>Test that stake non-extended key derivation works correctly with stake extended keys.</p>
<ul class="simple">
<li><p>Load golden stake extended verification key file</p></li>
<li><p>Execute <cite>cardano-cli key non-extended-key</cite> command with stake extended key file</p></li>
<li><p>Verify command succeeds (or handle known issue node_4914 if error occurs)</p></li>
<li><p>Check that non-extended stake key is generated successfully</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestPing">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestPing</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1486-L1721"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestPing" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for <cite>cardano-cli ping</cite>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestPing.test_ping_localhost">
<span class="sig-name descname"><span class="pre">test_ping_localhost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1489-L1540"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestPing.test_ping_localhost" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Ping local node using TCP host and port.</p>
<p>Test that cardano-cli ping command successfully connects to local node via TCP.</p>
<ul class="simple">
<li><p>Get pool1 or relay1 port from cluster instance configuration</p></li>
<li><p>Execute <cite>cardano-cli ping</cite> command with ‚Äìhost localhost and ‚Äìport</p></li>
<li><p>Send 5 ping requests with JSON output</p></li>
<li><p>Verify JSON response contains pongs array</p></li>
<li><p>Check that last pong has cookie value matching request count minus 1 (4)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestPing.test_ping_tip">
<span class="sig-name descname"><span class="pre">test_ping_tip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1613-L1661"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestPing.test_ping_tip" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query blockchain tip using cardano-cli ping command.</p>
<p>Test that ping ‚Äìtip flag returns current blockchain tip information.</p>
<ul class="simple">
<li><p>Get pool1 or relay1 port from cluster instance configuration</p></li>
<li><p>Execute <cite>cardano-cli ping ‚Äìtip</cite> command with ‚Äìhost and ‚Äìport</p></li>
<li><p>Parse JSON output and extract slotNo from last tip entry</p></li>
<li><p>Query current tip using standard query tip command</p></li>
<li><p>Verify ping tip slotNo is within 100 slots of cluster tip</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestPing.test_ping_unix_socket">
<span class="sig-name descname"><span class="pre">test_ping_unix_socket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1542-L1611"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestPing.test_ping_unix_socket" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Ping local node using Unix domain socket.</p>
<p>Test that cardano-cli ping command successfully connects to local node via Unix socket.</p>
<ul class="simple">
<li><p>Add log ignore rule for expected MuxUnknownMiniProtocol errors (ping protocol)</p></li>
<li><p>Execute <cite>cardano-cli ping</cite> command with ‚Äìunixsock and CARDANO_NODE_SOCKET_PATH</p></li>
<li><p>Send 5 ping requests with JSON output</p></li>
<li><p>Handle expected ‚ÄúUnix sockets only support queries‚Äù error on newer CLI versions</p></li>
<li><p>Verify JSON response contains pongs array</p></li>
<li><p>Check that last pong has cookie value matching request count minus 1 (4)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestPing.test_ping_version">
<span class="sig-name descname"><span class="pre">test_ping_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1663-L1721"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestPing.test_ping_version" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query node-to-node protocol version using cardano-cli ping.</p>
<p>Test that ping ‚Äìquery-versions returns protocol version information.</p>
<ul class="simple">
<li><p>Get pool1 or relay1 port from cluster instance configuration</p></li>
<li><p>Execute <cite>cardano-cli ping ‚Äìquery-versions</cite> command with ‚Äìhost and ‚Äìport</p></li>
<li><p>Handle expected UnknownVersionInRsp error when CLI and node versions mismatch</p></li>
<li><p>Verify output contains ‚ÄúNodeToNodeVersion‚Äù when versions match</p></li>
<li><p>Check for known issue network_5281 if versions match but error occurs</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQuerySlotNumber">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestQuerySlotNumber</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1724-L1801"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQuerySlotNumber" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for <cite>cardano-cli query slot-number</cite>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQuerySlotNumber.test_slot_number">
<span class="sig-name descname"><span class="pre">test_slot_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1727-L1754"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQuerySlotNumber.test_slot_number" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Convert UTC timestamp to slot number.</p>
<p>Test that slot-number query correctly converts current UTC timestamp to slot number.</p>
<ul class="simple">
<li><p>Get current UTC timestamp</p></li>
<li><p>Execute <cite>cardano-cli query slot-number</cite> command with timestamp</p></li>
<li><p>Wait for new block to ensure tip is up-to-date</p></li>
<li><p>Query current blockchain tip</p></li>
<li><p>Verify slot number is within valid range (not greater than total slots for epoch)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQuerySlotNumber.test_slot_number_invalid_format">
<span class="sig-name descname"><span class="pre">test_slot_number_invalid_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1756-L1777"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQuerySlotNumber.test_slot_number_invalid_format" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test <cite>query slot-number</cite> with a timestamp invalid format.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQuerySlotNumber.test_slot_number_out_of_range">
<span class="sig-name descname"><span class="pre">test_slot_number_out_of_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1779-L1801"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQuerySlotNumber.test_slot_number_out_of_range" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test <cite>query slot-number</cite> with a timestamp out of range.</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQueryUTxO">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestQueryUTxO</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L898-L1076"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQueryUTxO" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli query utxo.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQueryUTxO.test_address_invalid_data">
<span class="sig-name descname"><span class="pre">test_address_invalid_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1053-L1076"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQueryUTxO.test_address_invalid_data" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to use ‚Äòquery utxo‚Äô with invalid ‚Äòaddress‚Äô (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQueryUTxO.test_pretty_utxo">
<span class="sig-name descname"><span class="pre">test_pretty_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L923-L1015"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQueryUTxO.test_pretty_utxo" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Verify pretty-printed UTxO query output format.</p>
<p>Test that text-formatted UTxO output contains expected fields in correct order and format.</p>
<ul class="simple">
<li><p>Create source and destination payment addresses</p></li>
<li><p>Fund source address with 14 ADA (2 + 2.5 + 10 for fees)</p></li>
<li><p>Send 2 ADA and 2.5 ADA to destination address in single transaction</p></li>
<li><p>Execute <cite>cardano-cli query utxo ‚Äìoutput-text</cite> for destination address</p></li>
<li><p>Verify output contains expected columns (TxHash, TxIx, Amount)</p></li>
<li><p>Check transaction ID, indices (0, 1), amounts, and TxOutDatumNone match expectations</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQueryUTxO.test_tx_in_invalid_data">
<span class="sig-name descname"><span class="pre">test_tx_in_invalid_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invalid_param</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1017-L1051"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQueryUTxO.test_tx_in_invalid_data" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to use ‚Äòquery utxo‚Äô with invalid ‚Äòtx-in‚Äô (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestQueryUTxO.test_whole_utxo">
<span class="sig-name descname"><span class="pre">test_whole_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L901-L921"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestQueryUTxO.test_whole_utxo" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query entire UTxO set from blockchain.</p>
<p>Test that whole-utxo query returns complete UTxO set on local cluster without errors.</p>
<ul class="simple">
<li><p>Execute <cite>cardano-cli query utxo ‚Äìwhole-utxo</cite> command</p></li>
<li><p>Verify command completes successfully</p></li>
<li><p>Check that entire UTxO set can be retrieved (may be large on mainnet)</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_cli.</span></span><span class="sig-name descname"><span class="pre">TestStakeAddressKeyHash</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1079-L1147"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for cardano-cli stake-address key-hash.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash.test_invalid_verification_key">
<span class="sig-name descname"><span class="pre">test_invalid_verification_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1116-L1147"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash.test_invalid_verification_key" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to use <cite>stake-address key-hash</cite> with invalid verification key (property-based test).</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash.test_valid_verification_key">
<span class="sig-name descname"><span class="pre">test_valid_verification_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_cli.py#L1082-L1114"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_cli.TestStakeAddressKeyHash.test_valid_verification_key" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Compute stake verification key hash from valid key.</p>
<p>Test parametrized with vkey (bech32 string) and vkey_file (file path) input options.</p>
<ul class="simple">
<li><p>Load golden stake verification key file</p></li>
<li><p>Convert to bech32 format if option is ‚Äúvkey‚Äù</p></li>
<li><p>Execute <cite>cardano-cli stake-address key-hash</cite> command with specified input option</p></li>
<li><p>Verify computed hash matches expected golden hash value</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_configuration">
<span id="cardano-node-tests-tests-test-configuration-module"></span><h2>cardano_node_tests.tests.test_configuration module<a class="headerlink" href="#module-cardano_node_tests.tests.test_configuration" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for node configuration.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.TestBasic">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">TestBasic</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_configuration.py#L128-L179"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for node configuration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.TestBasic.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='noop',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='noop',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_configuration.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.TestBasic.test_epoch_length">
<span class="sig-name descname"><span class="pre">test_epoch_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_epoch_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_configuration.py#L137-L157"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic.test_epoch_length" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test the <em>epochLength</em> configuration.</p>
<p>Test that custom epochLength parameter is correctly applied and epoch boundaries are
respected.</p>
<ul class="simple">
<li><p>Modify genesis spec to set epochLength to 1500 slots</p></li>
<li><p>Start cluster with modified configuration</p></li>
<li><p>Check that cluster slot length is 0.2 seconds (default)</p></li>
<li><p>Check that cluster epoch length is 1500 slots</p></li>
<li><p>Wait until end of current epoch</p></li>
<li><p>Check that epoch number increments correctly at epoch boundary</p></li>
<li><p>Verify slot count resets to 0 at epoch boundary</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.TestBasic.test_slot_length">
<span class="sig-name descname"><span class="pre">test_slot_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_slot_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_configuration.py#L159-L179"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.TestBasic.test_slot_length" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test the <em>slotLength</em> configuration.</p>
<p>Test that custom slotLength parameter is correctly applied and epoch boundaries are
respected.</p>
<ul class="simple">
<li><p>Modify genesis spec to set slotLength to 0.3 seconds</p></li>
<li><p>Start cluster with modified configuration</p></li>
<li><p>Check that cluster slot length is 0.3 seconds</p></li>
<li><p>Check that cluster epoch length is 1000 slots (default)</p></li>
<li><p>Wait until end of current epoch</p></li>
<li><p>Check that epoch number increments correctly at epoch boundary</p></li>
<li><p>Verify slot count resets to 0 at epoch boundary</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.check_epoch_length">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">check_epoch_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_configuration.py#L104-L125"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.check_epoch_length" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.cluster_epoch_length">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">cluster_epoch_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">epoch_length_start_cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_configuration.py#L80-L89"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.cluster_epoch_length" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.cluster_slot_length">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">cluster_slot_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">slot_length_start_cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_configuration.py#L92-L101"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.cluster_slot_length" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.epoch_length_start_cluster">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">epoch_length_start_cluster</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_configuration.py#L22-L48"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.epoch_length_start_cluster" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Update <em>epochLength</em> to 1200.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_configuration.slot_length_start_cluster">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_configuration.</span></span><span class="sig-name descname"><span class="pre">slot_length_start_cluster</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_configuration.py#L51-L77"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_configuration.slot_length_start_cluster" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Update <em>slotLength</em> to 0.3.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_dbsync">
<span id="cardano-node-tests-tests-test-dbsync-module"></span><h2>cardano_node_tests.tests.test_dbsync module<a class="headerlink" href="#module-cardano_node_tests.tests.test_dbsync" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for db-sync.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_dbsync.</span></span><span class="sig-name descname"><span class="pre">TestDBSync</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync.py#L34-L437"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>General db-sync tests.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.DBSYNC_TABLES">
<span class="sig-name descname"><span class="pre">DBSYNC_TABLES</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Final</span><span class="p"><span class="pre">[</span></span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'ada_pots',</span> <span class="pre">'block',</span> <span class="pre">'collateral_tx_in',</span> <span class="pre">'collateral_tx_out',</span> <span class="pre">'committee',</span> <span class="pre">'committee_de_registration',</span> <span class="pre">'committee_hash',</span> <span class="pre">'committee_member',</span> <span class="pre">'committee_registration',</span> <span class="pre">'constitution',</span> <span class="pre">'cost_model',</span> <span class="pre">'datum',</span> <span class="pre">'delegation',</span> <span class="pre">'delegation_vote',</span> <span class="pre">'delisted_pool',</span> <span class="pre">'drep_distr',</span> <span class="pre">'drep_hash',</span> <span class="pre">'drep_registration',</span> <span class="pre">'epoch',</span> <span class="pre">'epoch_param',</span> <span class="pre">'epoch_stake',</span> <span class="pre">'epoch_stake_progress',</span> <span class="pre">'epoch_state',</span> <span class="pre">'epoch_sync_time',</span> <span class="pre">'extra_key_witness',</span> <span class="pre">'extra_migrations',</span> <span class="pre">'gov_action_proposal',</span> <span class="pre">'ma_tx_mint',</span> <span class="pre">'ma_tx_out',</span> <span class="pre">'meta',</span> <span class="pre">'multi_asset',</span> <span class="pre">'off_chain_pool_data',</span> <span class="pre">'off_chain_pool_fetch_error',</span> <span class="pre">'off_chain_vote_author',</span> <span class="pre">'off_chain_vote_data',</span> <span class="pre">'off_chain_vote_drep_data',</span> <span class="pre">'off_chain_vote_external_update',</span> <span class="pre">'off_chain_vote_fetch_error',</span> <span class="pre">'off_chain_vote_gov_action_data',</span> <span class="pre">'off_chain_vote_reference',</span> <span class="pre">'param_proposal',</span> <span class="pre">'pool_hash',</span> <span class="pre">'pool_metadata_ref',</span> <span class="pre">'pool_owner',</span> <span class="pre">'pool_relay',</span> <span class="pre">'pool_retire',</span> <span class="pre">'pool_update',</span> <span class="pre">'pot_transfer',</span> <span class="pre">'redeemer',</span> <span class="pre">'redeemer_data',</span> <span class="pre">'reference_tx_in',</span> <span class="pre">'reserve',</span> <span class="pre">'reserved_pool_ticker',</span> <span class="pre">'reward',</span> <span class="pre">'reward_rest',</span> <span class="pre">'schema_version',</span> <span class="pre">'script',</span> <span class="pre">'slot_leader',</span> <span class="pre">'stake_address',</span> <span class="pre">'stake_deregistration',</span> <span class="pre">'stake_registration',</span> <span class="pre">'treasury',</span> <span class="pre">'treasury_withdrawal',</span> <span class="pre">'tx',</span> <span class="pre">'tx_in',</span> <span class="pre">'tx_metadata',</span> <span class="pre">'tx_out',</span> <span class="pre">'voting_anchor',</span> <span class="pre">'voting_procedure',</span> <span class="pre">'withdrawal'}</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.DBSYNC_TABLES" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_blocks">
<span class="sig-name descname"><span class="pre">test_blocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync.py#L129-L268"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_blocks" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check expected values in the <cite>block</cite> table in db-sync.</p>
<p>Test db-sync block table data integrity by validating field values and relationships
across 50 epochs of block records.</p>
<ul class="simple">
<li><p>Query current tip, block number, and epoch from cluster</p></li>
<li><p>Query block records from db-sync for last 50 epochs (epoch_from to current)</p></li>
<li><p>For each consecutive block pair, validate:</p>
<ul>
<li><p>id increases monotonically (rec.id &gt; prev_rec.id)</p></li>
<li><p>epoch_no is non-negative and increases monotonically</p></li>
<li><p>epoch_no changes by at most 1 between consecutive blocks</p></li>
<li><p>slot_no is non-negative and increases monotonically</p></li>
<li><p>epoch_slot_no is non-negative and increases within same epoch</p></li>
<li><p>block_no increments by exactly 1 between consecutive blocks</p></li>
<li><p>previous_id points to previous record‚Äôs id</p></li>
</ul>
</li>
<li><p>Check that last block_no in db-sync is within 1 of node‚Äôs block_no</p></li>
<li><p>Verify protocol version matches expected values</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_cost_model">
<span class="sig-name descname"><span class="pre">test_cost_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync.py#L270-L319"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_cost_model" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check expected values in the <cite>cost_model</cite> table in db-sync.</p>
<p>Test db-sync Plutus cost model records match protocol parameters. Runs only in
eras &gt; Alonzo where Plutus cost models are active.</p>
<ul class="simple">
<li><p>Query current epoch number</p></li>
<li><p>Query cost models from db-sync for current epoch</p></li>
<li><p>If cost models not available, wait for next epoch and retry</p></li>
<li><p>Query protocol parameters from node for comparison</p></li>
<li><p>Extract PlutusV1, PlutusV2, PlutusV3 cost models from protocol params</p></li>
<li><p>Compare db-sync cost model records with protocol parameter cost models</p></li>
<li><p>Verify cost model values match between db-sync and node</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_epoch">
<span class="sig-name descname"><span class="pre">test_epoch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync.py#L386-L437"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_epoch" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check expected values in the <cite>epoch</cite> table in db-sync.</p>
<p>Test db-sync epoch table data consistency by comparing aggregated counts with
block table data. Skip if running in epoch 0.</p>
<ul class="simple">
<li><p>Query current epoch from cluster</p></li>
<li><p>Use previous epoch for validation (current - 1) if not in epoch 0</p></li>
<li><p>Skip test if in epoch 0</p></li>
<li><p>Query all blocks for the target epoch from block table</p></li>
<li><p>Count blocks and transactions from block table records</p></li>
<li><p>Query epoch summary from epoch table for same epoch</p></li>
<li><p>Count blocks and transactions from epoch table records</p></li>
<li><p>Verify block count matches between block table and epoch table</p></li>
<li><p>Verify transaction count matches between block table and epoch table</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_reconnect_dbsync">
<span class="sig-name descname"><span class="pre">test_reconnect_dbsync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync.py#L321-L384"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_reconnect_dbsync" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that db-sync reconnects to the node after the node is restarted.</p>
<ul class="simple">
<li><p>Restart all nodes of the running cluster</p></li>
<li><p>Submit a transaction</p></li>
<li><p>Check that the transaction is present on dbsync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSync.test_table_names">
<span class="sig-name descname"><span class="pre">test_table_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync.py#L110-L127"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSync.test_table_names" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that all the expected tables are present in db-sync.</p>
<p>Test db-sync database schema by verifying all expected tables exist.</p>
<ul class="simple">
<li><p>Query db-sync database for list of all table names</p></li>
<li><p>Check that DBSYNC_TABLES set is a subset of actual table names</p></li>
<li><p>Verify all expected core tables are present (block, tx, tx_out, etc.)</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSyncSnapshot">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_dbsync.</span></span><span class="sig-name descname"><span class="pre">TestDBSyncSnapshot</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync.py#L440-L489"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSyncSnapshot" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for db-sync snapshot availability and freshness.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync.TestDBSyncSnapshot.test_latest_snapshot_freshness">
<span class="sig-name descname"><span class="pre">test_latest_snapshot_freshness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync.py#L443-L489"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync.TestDBSyncSnapshot.test_latest_snapshot_freshness" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that the latest db-sync snapshot is not older than 5 days.</p>
<p>This test uses the S3 REST API to query the Cardano mainnet snapshot repository
and verifies that the most recent snapshot is fresh.</p>
<ul class="simple">
<li><p>Initialize DBSyncSnapshotService to access S3 snapshot repository</p></li>
<li><p>Query S3 API to find latest db-sync version available</p></li>
<li><p>Get latest snapshot file for that version from S3</p></li>
<li><p>Log snapshot details (name, last modified date, size in GB)</p></li>
<li><p>Calculate current UTC time and 5-days-ago threshold</p></li>
<li><p>Verify snapshot last_modified date is within 5 days</p></li>
<li><p>Fail if snapshot is older than 5 days with detailed age information</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_dbsync_config">
<span id="cardano-node-tests-tests-test-dbsync-config-module"></span><h2>cardano_node_tests.tests.test_dbsync_config module<a class="headerlink" href="#module-cardano_node_tests.tests.test_dbsync_config" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for basic DB-Sync configuration options.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.ColumnCondition">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_dbsync_config.</span></span><span class="sig-name descname"><span class="pre">ColumnCondition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py#L41-L45"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.ColumnCondition" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">StrEnum</span></code></p>
<p>Enum for column-level db-sync condition checks.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.ColumnCondition.IS_NULL">
<span class="sig-name descname"><span class="pre">IS_NULL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'column_condition:IS</span> <span class="pre">NULL'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.ColumnCondition.IS_NULL" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.ColumnCondition.ZERO">
<span class="sig-name descname"><span class="pre">ZERO</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'column_condition:=0'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.ColumnCondition.ZERO" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.TableCondition">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_dbsync_config.</span></span><span class="sig-name descname"><span class="pre">TableCondition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py#L32-L38"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.TableCondition" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">StrEnum</span></code></p>
<p>Enum for table-level db-sync state conditions.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.TableCondition.EMPTY">
<span class="sig-name descname"><span class="pre">EMPTY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'empty'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.TableCondition.EMPTY" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.TableCondition.EXISTS">
<span class="sig-name descname"><span class="pre">EXISTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'exists'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.TableCondition.EXISTS" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.TableCondition.NOT_EMPTY">
<span class="sig-name descname"><span class="pre">NOT_EMPTY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'not_empty'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.TableCondition.NOT_EMPTY" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.TableCondition.NOT_EXISTS">
<span class="sig-name descname"><span class="pre">NOT_EXISTS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'not_exists'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.TableCondition.NOT_EXISTS" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.TestDBSyncConfig">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_dbsync_config.</span></span><span class="sig-name descname"><span class="pre">TestDBSyncConfig</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py#L155-L320"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.TestDBSyncConfig" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for DB-Sync Config.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.TestDBSyncConfig.get_subtests">
<span class="sig-name descname"><span class="pre">get_subtests</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py#L159-L290"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.TestDBSyncConfig.get_subtests" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get the DB-Sync Config scenarios.</p>
<p>The scenarios are executed as subtests in the <cite>test_dbsync_config</cite> test.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.TestDBSyncConfig.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='order',</span> <span class="pre">args=(-1,),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.TestDBSyncConfig.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.TestDBSyncConfig.test_dbsync_config">
<span class="sig-name descname"><span class="pre">test_dbsync_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_sync_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.dbsync_service_manager.DBSyncManager" title="cardano_node_tests.utils.dbsync_service_manager.DBSyncManager"><span class="pre">DBSyncManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">subtests</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubTests</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py#L292-L320"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.TestDBSyncConfig.test_dbsync_config" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test DB-Sync configuration options using multiple subtests.</p>
<p>Verifies that different DB-Sync configuration settings correctly control table population
and data insertion behavior. Each subtest modifies the configuration, restarts DB-Sync,
and validates the expected database state.</p>
<ul class="simple">
<li><p>Test <cite>tx_out</cite> option (enable/disable modes with various settings)</p></li>
<li><p>Verify address, tx_in, tx_out, and ma_tx_out tables respond to tx_out configuration</p></li>
<li><p>Test <cite>governance</cite> option (enable/disable)</p></li>
<li><p>Verify all governance-related tables populate when enabled and clear when disabled</p></li>
<li><p>Test <cite>tx_cbor</cite> option (enable/disable)</p></li>
<li><p>Verify tx_cbor table populates when enabled and clears when disabled</p></li>
<li><p>Test <cite>multi_asset</cite> option (enable/disable)</p></li>
<li><p>Verify multi_asset table populates when enabled and clears when disabled</p></li>
<li><p>Restore original DB-Sync configuration after all subtests complete</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.check_dbsync_state">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_dbsync_config.</span></span><span class="sig-name descname"><span class="pre">check_dbsync_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expected_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.dbsync_service_manager.Table" title="cardano_node_tests.utils.dbsync_service_manager.Table"><span class="pre">Table</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.test_dbsync_config.TableCondition" title="cardano_node_tests.tests.test_dbsync_config.TableCondition"><span class="pre">TableCondition</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.test_dbsync_config.ColumnCondition" title="cardano_node_tests.tests.test_dbsync_config.ColumnCondition"><span class="pre">ColumnCondition</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py#L71-L125"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.check_dbsync_state" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check the state of db-sync tables and columns against expected conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>expected_state</strong> ‚Äì <p>Dictionary specifying conditions to verify where:</p>
<ul>
<li><p>Key format:</p>
<blockquote>
<div><ul class="simple">
<li><p>‚Äùtable‚Äù for table-level checks</p></li>
<li><p>‚Äùtable.column‚Äù for column-level checks</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Value format:</p>
<blockquote>
<div><ul class="simple">
<li><p>TableCondition enum values for table-level checks</p></li>
<li><p>ColumnCondition enum values for column-level checks</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all conditions match, False otherwise</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_dbsync_config.db_sync_manager">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_dbsync_config.</span></span><span class="sig-name descname"><span class="pre">db_sync_manager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.dbsync_service_manager.DBSyncManager" title="cardano_node_tests.utils.dbsync_service_manager.DBSyncManager"><span class="pre">DBSyncManager</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_dbsync_config.py#L128-L152"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_dbsync_config.db_sync_manager" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Provide db-sync manager on a singleton cluster.</p>
<p>Creates and returns a DBSyncManager instance with locked cluster resources
to ensure exclusive access during testing.</p>
<p>Returns db-sync configuration to its original state after testing is finished.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_delegation">
<span id="cardano-node-tests-tests-test-delegation-module"></span><h2>cardano_node_tests.tests.test_delegation module<a class="headerlink" href="#module-cardano_node_tests.tests.test_delegation" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for stake address delegation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">TestDelegateAddr</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L131-L1021"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for stake address delegation.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_delegation_deregistration">
<span class="sig-name descname"><span class="pre">test_addr_delegation_deregistration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake_cert</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L881-L1021"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_addr_delegation_deregistration" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit delegation and deregistration certificates in single TX.</p>
<ul class="simple">
<li><p>Create stake address registration cert</p></li>
<li><p>Create stake address deregistration cert</p></li>
<li><p>Register stake address</p></li>
<li><p>Create stake address delegation cert</p></li>
<li><p>Delegate and deregister stake address in single TX</p></li>
<li><p>Check that the balance for source address was correctly updated and that the key
deposit was returned</p></li>
<li><p>Check that the stake address was NOT delegated</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_multisig">
<span class="sig-name descname"><span class="pre">test_delegate_multisig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_pool_and_rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L567-L741"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_multisig" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Delegate and deregister multisig stake address.</p>
<p>Test delegation and deregistration of a stake address that uses a multisig script as
stake credentials. All required signers must sign the transactions.</p>
<ul class="simple">
<li><p>Create 5 stake key pairs</p></li>
<li><p>Create multisig script requiring all signatures (all type)</p></li>
<li><p>Create payment address using multisig script as stake credentials</p></li>
<li><p>Create script stake address using multisig script</p></li>
<li><p>Fund payment address</p></li>
<li><p>Generate stake address registration and delegation certificates</p></li>
<li><p>Sign and submit registration and delegation transaction with all required signatures</p></li>
<li><p>Check that the stake address is registered and delegated to pool</p></li>
<li><p>Wait 4 epochs for first reward</p></li>
<li><p>Attempt to deregister stake address with rewards - expect failure</p></li>
<li><p>Withdraw rewards to payment address and deregister stake address</p></li>
<li><p>Check that the key deposit was returned and rewards withdrawn</p></li>
<li><p>Check that the stake address is no longer delegated</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_pool_id">
<span class="sig-name descname"><span class="pre">test_delegate_using_pool_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L134-L182"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_pool_id" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit registration certificate and delegate to pool using pool id.</p>
<p>Uses parametrized build method (build or build-raw).</p>
<ul class="simple">
<li><p>Create payment and stake address</p></li>
<li><p>Fund payment address</p></li>
<li><p>Generate stake address registration and delegation certificates using pool id</p></li>
<li><p>Submit registration and delegation certificates in single transaction</p></li>
<li><p>Check that the stake address was delegated to the expected pool</p></li>
<li><p>Check that the stake address is active and registered</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_vkey">
<span class="sig-name descname"><span class="pre">test_delegate_using_vkey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L184-L233"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_delegate_using_vkey" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit registration certificate and delegate to pool using cold vkey.</p>
<p>Uses parametrized build method (build or build-raw). Delegates using pool cold vkey file
instead of pool id.</p>
<ul class="simple">
<li><p>Create payment and stake address</p></li>
<li><p>Fund payment address</p></li>
<li><p>Generate stake address registration and delegation certificates using pool cold vkey</p></li>
<li><p>Submit registration and delegation certificates in single transaction</p></li>
<li><p>Check that the stake address was delegated to the expected pool</p></li>
<li><p>Check that the stake address is active and registered</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_deregister_delegated">
<span class="sig-name descname"><span class="pre">test_deregister_delegated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_pool_and_rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L399-L565"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_deregister_delegated" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Deregister a delegated stake address.</p>
<ul class="simple">
<li><p>Create two payment addresses that share single stake address</p></li>
<li><p>Register and delegate the stake address to pool</p></li>
<li><p>Attempt to deregister the stake address - deregistration is expected to fail
because there are rewards in the stake address</p></li>
<li><p>Withdraw rewards to payment address and deregister stake address</p></li>
<li><p>Check that the key deposit was returned and rewards withdrawn</p></li>
<li><p>Check that the stake address is no longer delegated</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_multi_delegation">
<span class="sig-name descname"><span class="pre">test_multi_delegation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_two_pools</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L235-L397"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_multi_delegation" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Delegate multiple stake addresses that share the same payment keys to multiple pools.</p>
<p>Test that multiple stake addresses using the same payment key can be delegated to different
pools and all receive rewards independently.</p>
<ul class="simple">
<li><p>Create 1 payment vkey/skey key pair</p></li>
<li><p>Create 4 stake vkey/skey key pairs</p></li>
<li><p>Create 4 payment addresses for each combination of payment_vkey/stake_vkey</p></li>
<li><p>Fund the payment addresses</p></li>
<li><p>Generate stake address registration certificates for all 4 stake addresses</p></li>
<li><p>Generate delegation certificates for the stake addresses (alternating between 2 pools)</p></li>
<li><p>Submit registration and delegation certificates in single transaction</p></li>
<li><p>Check that all stake addresses are delegated to their respective pools</p></li>
<li><p>Check that the balance for source address was correctly updated</p></li>
<li><p>Wait 4 epochs for first rewards</p></li>
<li><p>Check that all stake addresses received rewards from their respective pools</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_undelegate">
<span class="sig-name descname"><span class="pre">test_undelegate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_pool_and_rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L743-L879"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestDelegateAddr.test_undelegate" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Undelegate stake address.</p>
<ul>
<li><p>Submit registration certificate and delegate to pool</p></li>
<li><p>Wait for first reward</p></li>
<li><p>Undelegate stake address:</p>
<blockquote>
<div><ul class="simple">
<li><p>Withdraw rewards to payment address</p></li>
<li><p>Deregister stake address</p></li>
<li><p>Re-register stake address</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Check that the key deposit was not returned</p></li>
<li><p>Check that rewards were withdrawn</p></li>
<li><p>Check that the stake address is still registered</p></li>
<li><p>Check that the stake address is no longer delegated</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L1024-L1318"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_addr_with_wrong_key">
<span class="sig-name descname"><span class="pre">test_delegate_addr_with_wrong_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L1061-L1115"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_addr_with_wrong_key" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to delegate stake address using wrong payment skey.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create and register stake address</p></li>
<li><p>Generate stake address delegation certificate</p></li>
<li><p>Attempt to submit delegation transaction signed with wrong payment skey</p></li>
<li><p>Check that transaction submission fails with MissingVKeyWitnessesUTXOW error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_deregistered_addr">
<span class="sig-name descname"><span class="pre">test_delegate_deregistered_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L1177-L1255"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_deregistered_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to delegate deregistered stake address.</p>
<p>Expect failure.</p>
<p>Uses parametrized build method (build or build-raw).</p>
<ul class="simple">
<li><p>Create and register stake address</p></li>
<li><p>Deregister the stake address</p></li>
<li><p>Generate stake address delegation certificate for deregistered address</p></li>
<li><p>Attempt to submit delegation transaction for deregistered stake address</p></li>
<li><p>Check that transaction fails with StakeDelegationImpossibleDELEG or
StakeKeyNotRegisteredDELEG error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_unknown_addr">
<span class="sig-name descname"><span class="pre">test_delegate_unknown_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L1117-L1175"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegate_unknown_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to delegate unknown stake address.</p>
<p>Expect failure.</p>
<p>Uses parametrized build method (build or build-raw).</p>
<ul class="simple">
<li><p>Create stake address but do not register it</p></li>
<li><p>Generate stake address delegation certificate for unregistered address</p></li>
<li><p>Attempt to submit delegation transaction for unknown stake address</p></li>
<li><p>Check that transaction fails with StakeDelegationImpossibleDELEG or
StakeKeyNotRegisteredDELEG error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegatee_not_registered">
<span class="sig-name descname"><span class="pre">test_delegatee_not_registered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L1257-L1318"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegatee_not_registered" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to delegate stake address to unregistered pool.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Create and register stake address</p></li>
<li><p>Generate pool cold keys and certificate but do not register the pool</p></li>
<li><p>Generate stake address delegation certificate using unregistered pool cold vkey</p></li>
<li><p>Attempt to submit delegation transaction to unregistered pool</p></li>
<li><p>Check that transaction fails with DelegateeNotRegisteredDELEG or
DelegateeStakePoolNotRegisteredDELEG error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.TestNegative.test_delegation_cert_with_wrong_key">
<span class="sig-name descname"><span class="pre">test_delegation_cert_with_wrong_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users_cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L1027-L1059"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.TestNegative.test_delegation_cert_with_wrong_key" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to generate stake address delegation certificate using wrong stake vkey.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Attempt to generate stake address delegation certificate using payment vkey instead of
stake vkey</p></li>
<li><p>Check that certificate generation fails with expected error</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.cluster_and_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">cluster_and_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L22-L26"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.cluster_and_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.cluster_and_pool_and_rewards">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">cluster_and_pool_and_rewards</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L29-L35"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.cluster_and_pool_and_rewards" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.cluster_and_two_pools">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">cluster_and_two_pools</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L38-L59"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.cluster_and_two_pools" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return instance of <cite>clusterlib.ClusterLib</cite> and two pools.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.pool_users">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L62-L76"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.pool_users" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.pool_users_cluster_and_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">pool_users_cluster_and_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L93-L113"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.pool_users_cluster_and_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create pool users using <cite>cluster_and_pool</cite> fixture.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The cached addresses can be used only for payments, not for delegation!
The pool can be different every time the fixture is called.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.pool_users_disposable">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">pool_users_disposable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L79-L90"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.pool_users_disposable" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create function scoped pool users.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_delegation.pool_users_disposable_cluster_and_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_delegation.</span></span><span class="sig-name descname"><span class="pre">pool_users_disposable_cluster_and_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_delegation.py#L116-L128"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_delegation.pool_users_disposable_cluster_and_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create function scoped pool users using <cite>cluster_and_pool</cite> fixture.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_env_network_id">
<span id="cardano-node-tests-tests-test-env-network-id-module"></span><h2>cardano_node_tests.tests.test_env_network_id module<a class="headerlink" href="#module-cardano_node_tests.tests.test_env_network_id" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for <cite>CARDANO_NODE_NETWORK_ID</cite> environment variable.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_env_network_id.</span></span><span class="sig-name descname"><span class="pre">TestNegativeNetworkIdEnv</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L284-L548"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Negative tests for <cite>CARDANO_NODE_NETWORK_ID</cite>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_build_transfer_funds">
<span class="sig-name descname"><span class="pre">test_neg_build_transfer_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L493-L548"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_build_transfer_funds" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Build transfer transaction with incorrect network configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_NETWORK_ID env variable and/or
‚Äìtestnet-magic argument are missing or contain wrong values.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create 2 payment addresses and fund first address</p></li>
<li><p>Set CARDANO_NODE_NETWORK_ID to wrong value or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìtestnet-magic to wrong value or remove it (arg_scenario parameter)</p></li>
<li><p>Attempt to build transaction sending 1.5 ADA from source to destination address</p></li>
<li><p>Check that transaction build fails with expected error message</p></li>
<li><p>Verify error is HandshakeError when network magic mismatch</p></li>
<li><p>Verify error is ‚ÄúMissing: (‚Äìmainnet | ‚Äìtestnet-magic NATURAL)‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_query_pool_state">
<span class="sig-name descname"><span class="pre">test_neg_query_pool_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L415-L452"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_query_pool_state" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query pool state with incorrect network configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_NETWORK_ID env variable and/or
‚Äìtestnet-magic argument are missing or contain wrong values.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_NETWORK_ID to wrong value or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìtestnet-magic to wrong value or remove it (arg_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query pool-state</cite> command for specific pool ID</p></li>
<li><p>Check that command fails with expected error message</p></li>
<li><p>Verify error is HandshakeError when network magic mismatch</p></li>
<li><p>Verify error is ‚ÄúMissing: (‚Äìmainnet | ‚Äìtestnet-magic NATURAL)‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_query_protocol_params">
<span class="sig-name descname"><span class="pre">test_neg_query_protocol_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L376-L413"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_query_protocol_params" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query protocol parameters with incorrect network configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_NETWORK_ID env variable and/or
‚Äìtestnet-magic argument are missing or contain wrong values.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_NETWORK_ID to wrong value or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìtestnet-magic to wrong value or remove it (arg_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query protocol-parameters</cite> command</p></li>
<li><p>Check that command fails with expected error message</p></li>
<li><p>Verify error is HandshakeError when network magic mismatch</p></li>
<li><p>Verify error is ‚ÄúMissing: (‚Äìmainnet | ‚Äìtestnet-magic NATURAL)‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_query_protocol_state">
<span class="sig-name descname"><span class="pre">test_neg_query_protocol_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L297-L335"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_query_protocol_state" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query protocol state with incorrect network configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_NETWORK_ID env variable and/or
‚Äìtestnet-magic argument are missing or contain wrong values.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_NETWORK_ID to wrong value or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìtestnet-magic to wrong value or remove it (arg_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query protocol-state</cite> command</p></li>
<li><p>Check that command fails with expected error message</p></li>
<li><p>Verify error is HandshakeError when network magic mismatch</p></li>
<li><p>Verify error is ‚ÄúMissing: (‚Äìmainnet | ‚Äìtestnet-magic NATURAL)‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_query_stake_addr_info">
<span class="sig-name descname"><span class="pre">test_neg_query_stake_addr_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L454-L491"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_query_stake_addr_info" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query stake address info with incorrect network configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_NETWORK_ID env variable and/or
‚Äìtestnet-magic argument are missing or contain wrong values.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_NETWORK_ID to wrong value or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìtestnet-magic to wrong value or remove it (arg_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query stake-address-info</cite> command for specific stake address</p></li>
<li><p>Check that command fails with expected error message</p></li>
<li><p>Verify error is HandshakeError when network magic mismatch</p></li>
<li><p>Verify error is ‚ÄúMissing: (‚Äìmainnet | ‚Äìtestnet-magic NATURAL)‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_query_stake_distribution">
<span class="sig-name descname"><span class="pre">test_neg_query_stake_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L337-L374"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNegativeNetworkIdEnv.test_neg_query_stake_distribution" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query stake distribution with incorrect network configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_NETWORK_ID env variable and/or
‚Äìtestnet-magic argument are missing or contain wrong values.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_NETWORK_ID to wrong value or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìtestnet-magic to wrong value or remove it (arg_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query stake-distribution</cite> command</p></li>
<li><p>Check that command fails with expected error message</p></li>
<li><p>Verify error is HandshakeError when network magic mismatch</p></li>
<li><p>Verify error is ‚ÄúMissing: (‚Äìmainnet | ‚Äìtestnet-magic NATURAL)‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_env_network_id.</span></span><span class="sig-name descname"><span class="pre">TestNetworkIdEnv</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L113-L281"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for <cite>CARDANO_NODE_NETWORK_ID</cite>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_build_transfer_funds">
<span class="sig-name descname"><span class="pre">test_build_transfer_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L232-L281"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_build_transfer_funds" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds to payment address.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Send funds from 1 source address to 1 destination address</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_query_pool_state">
<span class="sig-name descname"><span class="pre">test_query_pool_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L188-L208"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_query_pool_state" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query pool state using CARDANO_NODE_NETWORK_ID environment variable.</p>
<p>Test that cardano-cli can query pool state when network is specified via
CARDANO_NODE_NETWORK_ID env variable instead of ‚Äìtestnet-magic argument.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_NETWORK_ID environment variable to network magic</p></li>
<li><p>Remove ‚Äìtestnet-magic argument from cardano-cli commands</p></li>
<li><p>Execute <cite>cardano-cli query pool-state</cite> command for specific pool ID</p></li>
<li><p>Verify query succeeds without ‚Äìtestnet-magic argument</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_query_protocol_params">
<span class="sig-name descname"><span class="pre">test_query_protocol_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L164-L186"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_query_protocol_params" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query protocol parameters using CARDANO_NODE_NETWORK_ID environment variable.</p>
<p>Test that cardano-cli can query protocol parameters when network is specified via
CARDANO_NODE_NETWORK_ID env variable instead of ‚Äìtestnet-magic argument.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_NETWORK_ID environment variable to network magic</p></li>
<li><p>Remove ‚Äìtestnet-magic argument from cardano-cli commands</p></li>
<li><p>Execute <cite>cardano-cli query protocol-parameters</cite> command</p></li>
<li><p>Check that parameters contain protocolVersion field</p></li>
<li><p>Verify query succeeds without ‚Äìtestnet-magic argument</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_query_protocol_state">
<span class="sig-name descname"><span class="pre">test_query_protocol_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L116-L138"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_query_protocol_state" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query protocol state using CARDANO_NODE_NETWORK_ID environment variable.</p>
<p>Test that cardano-cli can query protocol state when network is specified via
CARDANO_NODE_NETWORK_ID env variable instead of ‚Äìtestnet-magic argument.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_NETWORK_ID environment variable to network magic</p></li>
<li><p>Remove ‚Äìtestnet-magic argument from cardano-cli commands</p></li>
<li><p>Execute <cite>cardano-cli query protocol-state</cite> command</p></li>
<li><p>Check that protocol state contains lastSlot field</p></li>
<li><p>Verify query succeeds without ‚Äìtestnet-magic argument</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_query_stake_addr_info">
<span class="sig-name descname"><span class="pre">test_query_stake_addr_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L210-L230"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_query_stake_addr_info" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query stake address info using CARDANO_NODE_NETWORK_ID environment variable.</p>
<p>Test that cardano-cli can query stake address info when network is specified via
CARDANO_NODE_NETWORK_ID env variable instead of ‚Äìtestnet-magic argument.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_NETWORK_ID environment variable to network magic</p></li>
<li><p>Remove ‚Äìtestnet-magic argument from cardano-cli commands</p></li>
<li><p>Execute <cite>cardano-cli query stake-address-info</cite> command for specific stake address</p></li>
<li><p>Verify query succeeds without ‚Äìtestnet-magic argument</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_query_stake_distribution">
<span class="sig-name descname"><span class="pre">test_query_stake_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L140-L162"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.TestNetworkIdEnv.test_query_stake_distribution" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query stake distribution using CARDANO_NODE_NETWORK_ID environment variable.</p>
<p>Test that cardano-cli can query stake distribution when network is specified via
CARDANO_NODE_NETWORK_ID env variable instead of ‚Äìtestnet-magic argument.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_NETWORK_ID environment variable to network magic</p></li>
<li><p>Remove ‚Äìtestnet-magic argument from cardano-cli commands</p></li>
<li><p>Execute <cite>cardano-cli query stake-distribution</cite> command</p></li>
<li><p>Check that distribution contains pool IDs starting with ‚Äúpool‚Äù</p></li>
<li><p>Verify query succeeds without ‚Äìtestnet-magic argument</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_env_network_id.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_no_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L94-L110"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.set_network_id_env">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_env_network_id.</span></span><span class="sig-name descname"><span class="pre">set_network_id_env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L79-L91"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.set_network_id_env" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Set <cite>CARDANO_NODE_NETWORK_ID</cite> and prevent <cite>cardano-cli</cite> from using <cite>‚Äìtestnet-magic</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_env_network_id.skip_on_no_env">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_env_network_id.</span></span><span class="sig-name descname"><span class="pre">skip_on_no_env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_network_id_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_env_network_id.py#L65-L76"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_env_network_id.skip_on_no_env" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Skip test if <cite>CARDANO_NODE_NETWORK_ID</cite> is not available.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_kes">
<span id="cardano-node-tests-tests-test-kes-module"></span><h2>cardano_node_tests.tests.test_kes module<a class="headerlink" href="#module-cardano_node_tests.tests.test_kes" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for KES period.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_kes.</span></span><span class="sig-name descname"><span class="pre">TestKES</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_kes.py#L125-L861"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for KES period.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES.test_expired_kes">
<span class="sig-name descname"><span class="pre">test_expired_kes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_kes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_kes.py#L128-L347"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_expired_kes" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test expired KES.</p>
<ul class="simple">
<li><p>Start local cluster instance configured with short KES period and low number of key
evolutions, so KES expires soon on all pools</p></li>
<li><p>Refresh opcert on 2 of the 3 pools, so KES doesn‚Äôt expire on those 2 pools and
the pools keep forging blocks</p></li>
<li><p>Wait for KES expiration on the selected pool</p></li>
<li><p>Check that the pool with expired KES didn‚Äôt forge blocks in an epoch that followed after
KES expiration</p></li>
<li><p>Check KES period info command with an operational certificate with an expired KES</p></li>
<li><p>Check KES period info command with operational certificates with a valid KES</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES.test_negative_kes_period_arg">
<span class="sig-name descname"><span class="pre">test_negative_kes_period_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_kes.py#L823-L861"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_negative_kes_period_arg" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to generate new operational certificate with a negative value for <cite>‚Äìkes-period</cite>.</p>
<p>Test that operational certificate generation fails when ‚Äìkes-period is set to a
negative value. Expect failure.</p>
<ul class="simple">
<li><p>Get pool KES verification key, cold signing key, and counter file from pool2</p></li>
<li><p>Attempt to generate operational certificate with ‚Äìkes-period set to -100</p></li>
<li><p>Check that generation fails with ‚ÄúKES_PERIOD must not be less than 0‚Äù error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES.test_no_kes_period_arg">
<span class="sig-name descname"><span class="pre">test_no_kes_period_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_kes.py#L779-L821"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_no_kes_period_arg" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to generate new operational certificate without specifying the <cite>‚Äìkes-period</cite>.</p>
<p>Test that operational certificate generation fails when required <cite>‚Äìkes-period</cite> argument
is not provided. Expect failure.</p>
<ul class="simple">
<li><p>Get pool KES verification key, cold signing key, and counter file from pool2</p></li>
<li><p>Attempt to execute <cite>cardano-cli node issue-op-cert</cite> without ‚Äìkes-period argument</p></li>
<li><p>Check that command fails with ‚ÄúMissing: ‚Äìkes-period NATURAL‚Äù error</p></li>
<li><p>Verify operational certificate file was not created</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES.test_opcert_invalid_kes_period">
<span class="sig-name descname"><span class="pre">test_opcert_invalid_kes_period</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_kes.py#L349-L601"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_opcert_invalid_kes_period" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Start a stake pool with an operational certificate created with invalid <cite>‚Äìkes-period</cite>.</p>
<ul>
<li><p>Generate new operational certificate with <cite>‚Äìkes-period</cite> in the future</p></li>
<li><p>Restart the node with the new operational certificate</p></li>
<li><p>Check that the pool is not forging any blocks</p></li>
<li><p>If network era &gt; Alonzo</p>
<blockquote>
<div><ul class="simple">
<li><p>Generate new operational certificate with valid <cite>‚Äìkes-period</cite>, but counter value +2
from last used operational certificate</p></li>
<li><p>Restart the node</p></li>
<li><p>Check that the pool is not forging any blocks</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Generate new operational certificate with valid <cite>‚Äìkes-period</cite> and restart the node</p></li>
<li><p>Check that the pool is forging blocks again</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.TestKES.test_update_valid_opcert">
<span class="sig-name descname"><span class="pre">test_update_valid_opcert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_kes.py#L603-L777"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.TestKES.test_update_valid_opcert" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Update a valid operational certificate with another valid operational certificate.</p>
<ul class="simple">
<li><p>Generate new operational certificate with valid <cite>‚Äìkes-period</cite></p></li>
<li><p>Copy new operational certificate to the node</p></li>
<li><p>Stop the node so the corresponding pool is not forging new blocks</p></li>
<li><p>Check <cite>kes-period-info</cite> while the pool is not forging blocks</p></li>
<li><p>Start the node with the new operational certificate</p></li>
<li><p>Check that the pool is forging blocks again</p></li>
<li><p>Check that metrics reported by <cite>kes-period-info</cite> got updated once the pool started
forging blocks again</p></li>
<li><p>Check <cite>kes-period-info</cite> with the old (replaced) operational certificate</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.cluster_kes">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_kes.</span></span><span class="sig-name descname"><span class="pre">cluster_kes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">short_kes_start_cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_kes.py#L71-L80"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.cluster_kes" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_kes.short_kes_start_cluster">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_kes.</span></span><span class="sig-name descname"><span class="pre">short_kes_start_cluster</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_kes.py#L37-L68"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_kes.short_kes_start_cluster" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Update <em>slotsPerKESPeriod</em> and <em>maxKESEvolutions</em>.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_ledger_state">
<span id="cardano-node-tests-tests-test-ledger-state-module"></span><h2>cardano_node_tests.tests.test_ledger_state module<a class="headerlink" href="#module-cardano_node_tests.tests.test_ledger_state" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for ledger state.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_ledger_state.TestLedgerState">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_ledger_state.</span></span><span class="sig-name descname"><span class="pre">TestLedgerState</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_ledger_state.py#L33-L291"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_ledger_state.TestLedgerState" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for ledger state.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_ledger_state.TestLedgerState.test_stake_snapshot">
<span class="sig-name descname"><span class="pre">test_stake_snapshot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_ledger_state.py#L36-L291"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_ledger_state.TestLedgerState.test_stake_snapshot" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test the <cite>stake-snapshot</cite> and <cite>ledger-state</cite> commands and ledger state values.</p>
<p>Test stake snapshot consistency by comparing ledger state data with stake-snapshot
command output for all three stake snapshots (mark, set, go).</p>
<ul class="simple">
<li><p>Wait for epoch interval (5 seconds into epoch) to ensure stable state</p></li>
<li><p>Get list of stake pool IDs from cluster</p></li>
<li><p>Skip if no pools available or too many pools (&gt;200) on testnet</p></li>
<li><p>Query ledger state using <cite>query ledger-state</cite> command</p></li>
<li><p>Save ledger state to file for analysis</p></li>
<li><p>Extract stake snapshots (pstakeMark, pstakeSet, pstakeGo) from ledger state</p></li>
<li><p>For each snapshot, extract stake address hashes and delegations to pools</p></li>
<li><p>For each pool with delegations:</p>
<ul>
<li><p>Calculate total stake from ledger state for each snapshot (mark, set, go)</p></li>
<li><p>Query stake snapshot using <cite>query stake-snapshot</cite> command</p></li>
<li><p>Compare ledger state totals with stake-snapshot command output</p></li>
<li><p>Verify stake amounts match between ledger state and stake-snapshot</p></li>
</ul>
</li>
<li><p>Verify ledger state has expected top-level keys</p></li>
<li><p>Check that all delegated stake addresses are accounted for</p></li>
<li><p>Verify total active stake matches sum of individual pool stakes</p></li>
<li><p>Save all validation data to pickle file if errors found</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_metrics">
<span id="cardano-node-tests-tests-test-metrics-module"></span><h2>cardano_node_tests.tests.test_metrics module<a class="headerlink" href="#module-cardano_node_tests.tests.test_metrics" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for Prometheus and EKG metrics.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestEKG">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_metrics.</span></span><span class="sig-name descname"><span class="pre">TestEKG</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_metrics.py#L136-L164"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestEKG" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>EKG metrics tests.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestEKG.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_metrics.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestEKG.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestEKG.test_available_metrics">
<span class="sig-name descname"><span class="pre">test_available_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wait_epochs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_metrics.py#L140-L164"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestEKG.test_available_metrics" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test that available EKG metrics matches the expected schema.</p>
<p>Test EKG (Event-driven Key-value) metrics endpoint to verify metrics conform to
expected Pydantic model schema.</p>
<ul class="simple">
<li><p>Wait for epoch &gt;= 4 to ensure stable metrics</p></li>
<li><p>Get EKG port for pool1 from cluster configuration</p></li>
<li><p>Fetch metrics from EKG HTTP endpoint (GET / with Accept: application/json header)</p></li>
<li><p>Parse JSON response containing EKG metrics</p></li>
<li><p>Validate response against Pydantic Model schema</p></li>
<li><p>Check that all required fields are present and have correct types</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestPrometheus">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_metrics.</span></span><span class="sig-name descname"><span class="pre">TestPrometheus</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_metrics.py#L44-L133"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestPrometheus" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Prometheus metrics tests.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestPrometheus.EXPECTED_METRICS">
<span class="sig-name descname"><span class="pre">EXPECTED_METRICS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Final</span><span class="p"><span class="pre">[</span></span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'cardano_node_metrics_Forge_adopted_int',</span> <span class="pre">'cardano_node_metrics_Forge_forge_about_to_lead_int',</span> <span class="pre">'cardano_node_metrics_Forge_forged_int',</span> <span class="pre">'cardano_node_metrics_Forge_node_is_leader_int',</span> <span class="pre">'cardano_node_metrics_Forge_node_not_leader_int',</span> <span class="pre">'cardano_node_metrics_Mem_resident_int',</span> <span class="pre">'cardano_node_metrics_RTS_gcLiveBytes_int',</span> <span class="pre">'cardano_node_metrics_RTS_gcMajorNum_int',</span> <span class="pre">'cardano_node_metrics_RTS_gcMinorNum_int',</span> <span class="pre">'cardano_node_metrics_RTS_gcticks_int',</span> <span class="pre">'cardano_node_metrics_RTS_mutticks_int',</span> <span class="pre">'cardano_node_metrics_Stat_cputicks_int',</span> <span class="pre">'cardano_node_metrics_Stat_threads_int',</span> <span class="pre">'cardano_node_metrics_blockNum_int',</span> <span class="pre">'cardano_node_metrics_blocksForgedNum_int',</span> <span class="pre">'cardano_node_metrics_currentKESPeriod_int',</span> <span class="pre">'cardano_node_metrics_delegMapSize_int',</span> <span class="pre">'cardano_node_metrics_density_real',</span> <span class="pre">'cardano_node_metrics_epoch_int',</span> <span class="pre">'cardano_node_metrics_mempoolBytes_int',</span> <span class="pre">'cardano_node_metrics_myBlocksUncoupled_int',</span> <span class="pre">'cardano_node_metrics_nodeIsLeaderNum_int',</span> <span class="pre">'cardano_node_metrics_nodeStartTime_int',</span> <span class="pre">'cardano_node_metrics_operationalCertificateExpiryKESPeriod_int',</span> <span class="pre">'cardano_node_metrics_operationalCertificateStartKESPeriod_int',</span> <span class="pre">'cardano_node_metrics_remainingKESPeriods_int',</span> <span class="pre">'cardano_node_metrics_served_header_counter_int',</span> <span class="pre">'cardano_node_metrics_slotInEpoch_int',</span> <span class="pre">'cardano_node_metrics_slotNum_int',</span> <span class="pre">'cardano_node_metrics_txsInMempool_int',</span> <span class="pre">'cardano_node_metrics_txsProcessedNum_int',</span> <span class="pre">'cardano_node_metrics_utxoSize_int',</span> <span class="pre">'ekg_server_timestamp_ms',</span> <span class="pre">'rts_gc_bytes_allocated',</span> <span class="pre">'rts_gc_bytes_copied',</span> <span class="pre">'rts_gc_cpu_ms',</span> <span class="pre">'rts_gc_cumulative_bytes_used',</span> <span class="pre">'rts_gc_current_bytes_slop',</span> <span class="pre">'rts_gc_current_bytes_used',</span> <span class="pre">'rts_gc_gc_cpu_ms',</span> <span class="pre">'rts_gc_gc_wall_ms',</span> <span class="pre">'rts_gc_init_cpu_ms',</span> <span class="pre">'rts_gc_init_wall_ms',</span> <span class="pre">'rts_gc_max_bytes_slop',</span> <span class="pre">'rts_gc_max_bytes_used',</span> <span class="pre">'rts_gc_mutator_cpu_ms',</span> <span class="pre">'rts_gc_mutator_wall_ms',</span> <span class="pre">'rts_gc_num_bytes_usage_samples',</span> <span class="pre">'rts_gc_num_gcs',</span> <span class="pre">'rts_gc_par_avg_bytes_copied',</span> <span class="pre">'rts_gc_par_max_bytes_copied',</span> <span class="pre">'rts_gc_par_tot_bytes_copied',</span> <span class="pre">'rts_gc_peak_megabytes_allocated',</span> <span class="pre">'rts_gc_wall_ms'}</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_metrics.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestPrometheus.EXPECTED_METRICS" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestPrometheus.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_metrics.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestPrometheus.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.TestPrometheus.test_available_metrics">
<span class="sig-name descname"><span class="pre">test_available_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wait_epochs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_metrics.py#L105-L133"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.TestPrometheus.test_available_metrics" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test that list of available Prometheus metrics equals list of expected metrics.</p>
<p>Test Prometheus metrics endpoint to verify all expected metrics are exposed and
no unexpected metrics are present.</p>
<ul class="simple">
<li><p>Wait for epoch &gt;= 4 to ensure stable metrics</p></li>
<li><p>Get Prometheus port for pool1 from cluster configuration</p></li>
<li><p>Fetch metrics from Prometheus HTTP endpoint (GET /metrics)</p></li>
<li><p>Parse metrics response text into individual metric names</p></li>
<li><p>Extract metric keys from response</p></li>
<li><p>Compare available metrics set with EXPECTED_METRICS set</p></li>
<li><p>Verify exact match (no missing or extra metrics)</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.get_ekg_metrics">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_metrics.</span></span><span class="sig-name descname"><span class="pre">get_ekg_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_metrics.py#L36-L41"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.get_ekg_metrics" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.get_prometheus_metrics">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_metrics.</span></span><span class="sig-name descname"><span class="pre">get_prometheus_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_metrics.py#L30-L33"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.get_prometheus_metrics" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_metrics.wait_epochs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_metrics.</span></span><span class="sig-name descname"><span class="pre">wait_epochs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_metrics.py#L24-L27"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_metrics.wait_epochs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Make sure we are not checking metrics in epoch &lt; 4.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_mir_certs">
<span id="cardano-node-tests-tests-test-mir-certs-module"></span><h2>cardano_node_tests.tests.test_mir_certs module<a class="headerlink" href="#module-cardano_node_tests.tests.test_mir_certs" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for MIR certificates.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">TestMIRCerts</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L112-L1053"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for MIR certificates.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_pay_stake_addr_from">
<span class="sig-name descname"><span class="pre">test_build_pay_stake_addr_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registered_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L545-L642"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_pay_stake_addr_from" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from the reserves or treasury pot to stake address.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Generate an MIR certificate</p></li>
<li><p>Submit a TX with the MIR certificate</p></li>
<li><p>Check that the expected amount was added to the stake address reward account</p></li>
<li><p>(optional) Check transaction in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_transfer_to_reserves">
<span class="sig-name descname"><span class="pre">test_build_transfer_to_reserves</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L366-L453"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_transfer_to_reserves" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from the treasury pot to the reserves pot.</p>
<p>Test transferring funds between protocol pots using MIR certificate.
Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Generate MIR certificate for transferring 1000000000000 lovelace to reserves</p></li>
<li><p>Build transaction using <cite>transaction build</cite> with MIR certificate</p></li>
<li><p>Sign transaction with genesis delegate keys</p></li>
<li><p>Submit transaction at the beginning of an epoch</p></li>
<li><p>Check that source address balance is correct after fee deduction</p></li>
<li><p>Check <cite>transaction view</cite> command output</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_transfer_to_treasury">
<span class="sig-name descname"><span class="pre">test_build_transfer_to_treasury</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L196-L283"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_build_transfer_to_treasury" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from the reserves pot to the treasury pot.</p>
<p>Test transferring funds between protocol pots using MIR certificate.
Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Generate MIR certificate for transferring 10000000000000 lovelace to treasury</p></li>
<li><p>Build transaction using <cite>transaction build</cite> with MIR certificate</p></li>
<li><p>Sign transaction with genesis delegate keys</p></li>
<li><p>Submit transaction at the beginning of an epoch</p></li>
<li><p>Check that source address balance is correct after fee deduction</p></li>
<li><p>Check <cite>transaction view</cite> command output</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_multi_stake_addrs">
<span class="sig-name descname"><span class="pre">test_pay_multi_stake_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registered_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L776-L917"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_multi_stake_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from the reserves and treasury pots to multiple stake addresses in single TX.</p>
<ul class="simple">
<li><p>Generate an MIR certificates for transferring from treasury for each stake address</p></li>
<li><p>Generate an MIR certificates for transferring from reserves for each stake address</p></li>
<li><p>Submit a TX with all the MIR certificates generated in previous steps</p></li>
<li><p>Check that the expected amount was added to all stake address reward accounts</p></li>
<li><p>(optional) Check transaction in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_stake_addr_from">
<span class="sig-name descname"><span class="pre">test_pay_stake_addr_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registered_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L455-L543"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_stake_addr_from" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from the reserves or treasury pot to stake address.</p>
<ul class="simple">
<li><p>Generate an MIR certificate</p></li>
<li><p>Submit a TX with the MIR certificate</p></li>
<li><p>Check that the expected amount was added to the stake address reward account</p></li>
<li><p>(optional) Check transaction in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_stake_addr_from_both">
<span class="sig-name descname"><span class="pre">test_pay_stake_addr_from_both</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registered_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L644-L774"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_stake_addr_from_both" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from the reserves and treasury pots to stake address.</p>
<ul class="simple">
<li><p>Generate an MIR certificate for transferring from treasury</p></li>
<li><p>Generate an MIR certificate for transferring from reserves</p></li>
<li><p>Submit a TX with the treasury MIR certificate</p></li>
<li><p>In the same epoch as the previous TX, submit a TX with the reserves MIR certificate</p></li>
<li><p>Check that the expected amount was added to the stake address reward account</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_unregistered_stake_addr_from">
<span class="sig-name descname"><span class="pre">test_pay_unregistered_stake_addr_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_history</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L919-L1053"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_pay_unregistered_stake_addr_from" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from the reserves or treasury pot to unregistered stake address.</p>
<ul>
<li><p>Generate an MIR certificate</p></li>
<li><p>If a stake address should be known on blockchain:</p>
<blockquote>
<div><ul class="simple">
<li><p>Register the stake address</p></li>
<li><p>If transferring funds from treasury, deregister the stake address
BEFORE submitting the TX</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Submit a TX with the MIR certificate</p></li>
<li><p>If a stake address should be known on blockchain and if transferring funds from reserves,
deregister the stake address AFTER submitting the TX</p></li>
<li><p>Check that the amount was NOT added to the stake address reward account</p></li>
<li><p>(optional) Check transaction in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_transfer_to_reserves">
<span class="sig-name descname"><span class="pre">test_transfer_to_reserves</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L285-L364"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_transfer_to_reserves" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from the treasury pot to the reserves pot.</p>
<p>Test transferring funds between protocol pots using MIR certificate. Uses
<cite>cardano-cli transaction build-raw</cite>. Expected to fail when Era &lt; Alonzo.</p>
<ul class="simple">
<li><p>Generate MIR certificate for transferring 1000000000000 lovelace to reserves</p></li>
<li><p>Submit transaction with MIR certificate signed by genesis delegate keys</p></li>
<li><p>Submit transaction at the beginning of an epoch</p></li>
<li><p>Check that source address balance is correct after fee deduction</p></li>
<li><p>Check <cite>transaction view</cite> command output</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_transfer_to_treasury">
<span class="sig-name descname"><span class="pre">test_transfer_to_treasury</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_hf_shortcut</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L115-L194"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestMIRCerts.test_transfer_to_treasury" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from the reserves pot to the treasury pot.</p>
<p>Test transferring funds between protocol pots using MIR certificate. Uses
<cite>cardano-cli transaction build-raw</cite>. Expected to fail when Era &lt; Alonzo.</p>
<ul class="simple">
<li><p>Generate MIR certificate for transferring 10000000000000 lovelace to treasury</p></li>
<li><p>Submit transaction with MIR certificate signed by genesis delegate keys</p></li>
<li><p>Submit transaction at the beginning of an epoch</p></li>
<li><p>Check that source address balance is correct after fee deduction</p></li>
<li><p>Check <cite>transaction view</cite> command output</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestNegativeMIRCerts">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">TestNegativeMIRCerts</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L1056-L1106"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestNegativeMIRCerts" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Negative tests for MIR certificates.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.TestNegativeMIRCerts.test_exceed_pay_stake_addr_from">
<span class="sig-name descname"><span class="pre">test_exceed_pay_stake_addr_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registered_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L1059-L1106"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.TestNegativeMIRCerts.test_exceed_pay_stake_addr_from" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send more funds than available from the reserves or treasury pot to stake address.</p>
<p>Expect failure.</p>
<ul class="simple">
<li><p>Generate an MIR certificate</p></li>
<li><p>Submit a TX with the MIR certificate</p></li>
<li><p>Check that submitting the transaction fails with an expected error</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.cluster_pots">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">cluster_pots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L47-L56"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.cluster_pots" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.pool_users">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L59-L73"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.pool_users" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create pool user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.registered_users">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">registered_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L76-L97"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.registered_users" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Register pool user‚Äôs stake address.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mir_certs.skip_on_hf_shortcut">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mir_certs.</span></span><span class="sig-name descname"><span class="pre">skip_on_hf_shortcut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mir_certs.py#L100-L109"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mir_certs.skip_on_hf_shortcut" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Skip test if HF shortcut is used.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_mnemonic">
<span id="cardano-node-tests-tests-test-mnemonic-module"></span><h2>cardano_node_tests.tests.test_mnemonic module<a class="headerlink" href="#module-cardano_node_tests.tests.test_mnemonic" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for deriving keys from a mnemonic sentence.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">BadMnemonicCase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_bytes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'file'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'empty_file'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'no_read_perm'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'directory'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'broken_symlink'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'symlink_loop'</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L68-L83"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A single non-compliant mnemonic-file test case.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase.content_bytes">
<span class="sig-name descname"><span class="pre">content_bytes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase.content_bytes" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase.kind">
<span class="sig-name descname"><span class="pre">kind</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'file'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'empty_file'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'no_read_perm'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'directory'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'broken_symlink'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'symlink_loop'</span></span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase.kind" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase.name" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.TestMnemonic">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">TestMnemonic</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L292-L448"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.TestMnemonic" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for mnemonic sentence.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.TestMnemonic.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.TestMnemonic.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.TestMnemonic.test_derive_account_key_number_property">
<span class="sig-name descname"><span class="pre">test_derive_account_key_number_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">KeyType</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L406-L448"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.TestMnemonic.test_derive_account_key_number_property" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test that <cite>derive-from-mnemonic</cite> accepts any valid account_number in [0, 2^31-1].</p>
<p>Test key derivation with boundary values for account_number to ensure full range
of valid account numbers is supported. For payment/stake keys, pass the same value
as key_number, otherwise omit key_number.</p>
<ul class="simple">
<li><p>Use golden mnemonic file (24 words)</p></li>
<li><p>Derive key using parametrized key type</p></li>
<li><p>Use parametrized account_number (property-based test covering 0 to 2^31-1)</p></li>
<li><p>For payment/stake keys, set key_number to same value as account_number</p></li>
<li><p>For other key types (DRep, CC), omit key_number parameter</p></li>
<li><p>Verify derived key file exists</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.TestMnemonic.test_gen_and_deriv">
<span class="sig-name descname"><span class="pre">test_gen_and_deriv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">12</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">15</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">18</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">21</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">24</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">KeyType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OutputFormat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L296-L348"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.TestMnemonic.test_gen_and_deriv" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test generating mnemonic and deriving keys from mnemonic.</p>
<p>Test mnemonic generation and key derivation with various parameters using
<cite>generate-mnemonic</cite> and <cite>derive-from-mnemonic</cite> commands.</p>
<ul class="simple">
<li><p>Generate mnemonic of parametrized size (12, 15, 18, 21, or 24 words)</p></li>
<li><p>Output mnemonic to file or stdout based on parametrization</p></li>
<li><p>Check that generated mnemonic has expected word count</p></li>
<li><p>Derive key from mnemonic using parametrized key type (payment, stake, DRep, etc.)</p></li>
<li><p>Use parametrized output format (bech32, hex, text-envelope)</p></li>
<li><p>Use parametrized account number and key number (path_num: 0 or 2^31-1)</p></li>
<li><p>Verify derived key file exists</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.TestMnemonic.test_golden_deriv">
<span class="sig-name descname"><span class="pre">test_golden_deriv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">12</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">15</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">18</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">21</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">24</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">KeyType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">OutputFormat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L350-L404"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.TestMnemonic.test_golden_deriv" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test deriving keys from mnemonic using golden files.</p>
<p>Test key derivation against known golden mnemonic files to ensure consistent
key generation across different parameters.</p>
<ul class="simple">
<li><p>Use golden mnemonic file of parametrized size (12, 15, 18, 21, or 24 words)</p></li>
<li><p>Derive key using parametrized key type (payment, stake, DRep, CC cold, CC hot)</p></li>
<li><p>Use parametrized output format (bech32, hex, text-envelope)</p></li>
<li><p>Use parametrized account number (path_num: 0 or 2^31-1)</p></li>
<li><p>Verify derived key file exists</p></li>
<li><p>Compare derived key against expected golden output file</p></li>
<li><p>Check that derived key matches expected value from golden file</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">TestNegativeMnemonic</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L451-L574"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests with invalid arguments.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic.test_gen_invalid_size">
<span class="sig-name descname"><span class="pre">test_gen_invalid_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L462-L484"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic.test_gen_invalid_size" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test generating a mnemonic with an invalid size.</p>
<p>Test that mnemonic generation fails when size is not one of the allowed values
(12, 15, 18, 21, 24). Uses Hypothesis property-based testing. Expect failure.</p>
<ul class="simple">
<li><p>Attempt to generate mnemonic with invalid size (any integer except 12,15,18,21,24)</p></li>
<li><p>Check that generation fails with ‚ÄúInvalid mnemonic size‚Äù error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic.test_reject_invalid_account_or_key_number">
<span class="sig-name descname"><span class="pre">test_reject_invalid_account_or_key_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">KeyType</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L521-L574"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic.test_reject_invalid_account_or_key_number" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Property: derive_from_mnemonic rejects out-of-range or non-int account/key numbers.</p>
<p>Test that key derivation fails when account_number or key_number is invalid
(out of range or wrong type). Uses Hypothesis property-based testing. Expect failure.</p>
<ul class="simple">
<li><p>Use golden mnemonic file (24 words)</p></li>
<li><p>Attempt to derive key using invalid account_number or key_number value</p></li>
<li><p>Invalid values: negative integers, integers &gt;= 2^31, floats, strings, objects</p></li>
<li><p>Check that derivation fails with appropriate error (CLIError or ValueError/TypeError)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic.test_rejects_noncompliant_mnemonics">
<span class="sig-name descname"><span class="pre">test_rejects_noncompliant_mnemonics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmp_case_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L486-L519"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic.test_rejects_noncompliant_mnemonics" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test that the CLI wrapper rejects malformed mnemonic files.</p>
<p>Test key derivation failure with various invalid mnemonic file formats using
Hypothesis property-based testing. Expect failure.</p>
<ul class="simple">
<li><p>Generate malformed mnemonic file (invalid cases from Hypothesis strategy)</p></li>
<li><p>Attempt to derive key from malformed mnemonic file</p></li>
<li><p>Check that derivation fails with error about reading mnemonic file or
converting mnemonic into a key</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic.tmp_case_path">
<span class="sig-name descname"><span class="pre">tmp_case_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L455-L460"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.TestNegativeMnemonic.tmp_case_path" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.broken_symlink_case">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">broken_symlink_case</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase" title="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase"><span class="pre">BadMnemonicCase</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L234-L237"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.broken_symlink_case" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.directory_case">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">directory_case</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase" title="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase"><span class="pre">BadMnemonicCase</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L228-L231"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.directory_case" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.empty_file_case">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">empty_file_case</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase" title="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase"><span class="pre">BadMnemonicCase</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L218-L219"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.empty_file_case" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.encoding_garbage_files">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">encoding_garbage_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase" title="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase"><span class="pre">BadMnemonicCase</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.encoding_garbage_files" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Binary junk, odd encodings, NULs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.join_with_weirdness">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">join_with_weirdness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokens</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.join_with_weirdness" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Join tokens with odd/mixed separators and optional leading/trailing clutter.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.maybe_reencode">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">maybe_reencode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L143-L152"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.maybe_reencode" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return bytes in various encodings and with potential binary junk.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.no_read_perm_case">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">no_read_perm_case</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase" title="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase"><span class="pre">BadMnemonicCase</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L222-L225"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.no_read_perm_case" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.separator_mess_files">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">separator_mess_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase" title="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase"><span class="pre">BadMnemonicCase</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.separator_mess_files" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Only separators/newlines/tabs/comma issues (often two+ separators between words).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.symlink_loop_case">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">symlink_loop_case</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase" title="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase"><span class="pre">BadMnemonicCase</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py#L240-L241"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.symlink_loop_case" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.unknown_word_files">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">unknown_word_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase" title="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase"><span class="pre">BadMnemonicCase</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.unknown_word_files" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Produce allowed word count, but at least one token is not a valid BIP39 word.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.word_sequence">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">word_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_invalid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.word_sequence" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Build a list of tokens of a specific count.</p>
<p>If ensure_invalid=True, inject at least one invalid token.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_mnemonic.wrong_count_files">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_mnemonic.</span></span><span class="sig-name descname"><span class="pre">wrong_count_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">SearchStrategy</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_mnemonic.BadMnemonicCase" title="cardano_node_tests.tests.test_mnemonic.BadMnemonicCase"><span class="pre">BadMnemonicCase</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_mnemonic.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_mnemonic.wrong_count_files" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Wrong number of words (not in {12, 15, 18, 21, 24}).</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_native_tokens">
<span id="cardano-node-tests-tests-test-native-tokens-module"></span><h2>cardano_node_tests.tests.test_native_tokens module<a class="headerlink" href="#module-cardano_node_tests.tests.test_native_tokens" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for native tokens.</p>
<ul class="simple">
<li><p>Minting</p></li>
<li><p>Burning</p></li>
<li><p>Locking</p></li>
<li><p>Transactions</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestCLITxOutSyntax</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L2500-L2640"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests of syntax for specifying muti-asset values and txouts.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax.test_multiasset_txouts_syntax">
<span class="sig-name descname"><span class="pre">test_multiasset_txouts_syntax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L2504-L2640"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestCLITxOutSyntax.test_multiasset_txouts_syntax" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test syntax for specifying multi-asset values and txouts via CLI.</p>
<p>Test it by minting one token and burning the same token in single transaction.</p>
<ul class="simple">
<li><p>Create a script</p></li>
<li><p>Specify amount to mint and amount to burn in the same transaction</p></li>
<li><p>Assemble CLI arguments for <cite>transaction build</cite> and test syntax for multi-asset values
and txouts</p></li>
<li><p>Build Tx body using the assembled CLI arguments, sign and submit the Tx</p></li>
<li><p>Check that the expected amount was minted (to_mint_amount - to_burn_amount)</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestMinting</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L133-L1199"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting and burning tokens.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'native</span> <span class="pre">tokens</span> <span class="pre">are</span> <span class="pre">available</span> <span class="pre">only</span> <span class="pre">in</span> <span class="pre">Mary+</span> <span class="pre">eras'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_sign">
<span class="sig-name descname"><span class="pre">test_bundle_minting_and_burning_sign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simple_script_policyid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokens_db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L863-L1013"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_sign" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting and burning multiple different tokens that are in single bundle.</p>
<p>Sign the TX using skeys.</p>
<ul class="simple">
<li><p>Mint several tokens using a single script</p></li>
<li><p>Burn the minted tokens</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_witnesses">
<span class="sig-name descname"><span class="pre">test_bundle_minting_and_burning_witnesses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multisig_script_policyid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokens_db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L708-L861"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_bundle_minting_and_burning_witnesses" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting and burning multiple different tokens that are in single bundle.</p>
<p>Sign the TX using witnesses.</p>
<ul class="simple">
<li><p>Mint several tokens using a single script</p></li>
<li><p>Burn the minted tokens</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_sign">
<span class="sig-name descname"><span class="pre">test_minting_and_burning_sign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aname_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L243-L336"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_sign" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting and burning of tokens, sign the transaction using skeys.</p>
<ul class="simple">
<li><p>Mint 2 tokens - one identified by policyid + asset name
and one identified by just policyid</p></li>
<li><p>Burn the minted tokens</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_witnesses">
<span class="sig-name descname"><span class="pre">test_minting_and_burning_witnesses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aname_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L137-L241"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_burning_witnesses" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting and burning of tokens, sign the transaction using witnesses.</p>
<ul class="simple">
<li><p>Mint 2 tokens - one identified by policyid + asset name
and one identified by just policyid</p></li>
<li><p>Burn the minted tokens</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>Check output of the <cite>transaction view</cite> command</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_partial_burning">
<span class="sig-name descname"><span class="pre">test_minting_and_partial_burning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1015-L1112"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_and_partial_burning" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting and partial burning of tokens.</p>
<ul class="simple">
<li><p>Mint a token</p></li>
<li><p>Burn part of the minted token, check the expected amount</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_diff_tokens_single_tx">
<span class="sig-name descname"><span class="pre">test_minting_burning_diff_tokens_single_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L462-L574"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_diff_tokens_single_tx" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting one token and burning other token in single transaction.</p>
<p>Sign transactions using skeys.</p>
<ul class="simple">
<li><p>Create a script</p></li>
<li><p>1st TX - mint first token</p></li>
<li><p>2nd TX - mint second token, burn first token</p></li>
<li><p>3rd TX - burn second token</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_same_token_single_tx">
<span class="sig-name descname"><span class="pre">test_minting_burning_same_token_single_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L576-L706"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_burning_same_token_single_tx" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting one token and burning the same token in single transaction.</p>
<p>Sign transactions using skeys.</p>
<ul class="simple">
<li><p>Create a script</p></li>
<li><p>Specify amount to mint and amount to burn in the same transaction</p></li>
<li><p>Check that the expected amount was minted (to_mint_amount - to_burn_amount)</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_multiple_scripts">
<span class="sig-name descname"><span class="pre">test_minting_multiple_scripts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L338-L460"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_multiple_scripts" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting of tokens using several different scripts in single transaction.</p>
<ul class="simple">
<li><p>Create tokens issuers</p></li>
<li><p>Create a script for each issuer</p></li>
<li><p>Mint 2 tokens with each script - one identified by policyid + asset name
and one identified by just policyid. The minting is done in single transaction,
the transaction is signed using skeys.</p></li>
<li><p>Check that the tokens were minted</p></li>
<li><p>Burn the minted tokens</p></li>
<li><p>Check that the tokens were burnt</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_unicode_asset_name">
<span class="sig-name descname"><span class="pre">test_minting_unicode_asset_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1114-L1199"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestMinting.test_minting_unicode_asset_name" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting and burning of token with unicode non-ascii chars in its asset name.</p>
<p>Tests <a class="reference external" href="https://github.com/IntersectMBO/cardano-node/issues/2337">https://github.com/IntersectMBO/cardano-node/issues/2337</a></p>
<ul class="simple">
<li><p>Mint a token that has non-ascii characters in its asset name</p></li>
<li><p>Burn the minted token</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestNegative">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L2338-L2497"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestNegative" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Negative tests for minting tokens.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestNegative.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'native</span> <span class="pre">tokens</span> <span class="pre">are</span> <span class="pre">available</span> <span class="pre">only</span> <span class="pre">in</span> <span class="pre">Mary+</span> <span class="pre">eras'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestNegative.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestNegative.test_long_name">
<span class="sig-name descname"><span class="pre">test_long_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simple_script_policyid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L2393-L2446"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestNegative.test_long_name" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create token with asset name that is longer than allowed.</p>
<p>The name can also contain characters that are not allowed. Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestNegative.test_minting_amount_above_the_allowed">
<span class="sig-name descname"><span class="pre">test_minting_amount_above_the_allowed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simple_script_policyid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L2448-L2497"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestNegative.test_minting_amount_above_the_allowed" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting a token amount above the maximum allowed.</p>
<p>Test that token minting fails when the amount exceeds the maximum allowed value for
native tokens. Uses Hypothesis property-based testing. Expect failure.</p>
<ul class="simple">
<li><p>Create native token with amount above MAX_TOKEN_AMOUNT (generated by Hypothesis)</p></li>
<li><p>Get simple script and policy ID from fixture</p></li>
<li><p>Attempt to mint token with excessive amount</p></li>
<li><p>Check that minting fails with ‚Äúthe number exceeds the max bound‚Äù error</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestPolicies</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1202-L1744"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for minting and burning tokens using minting policies.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'native</span> <span class="pre">tokens</span> <span class="pre">are</span> <span class="pre">available</span> <span class="pre">only</span> <span class="pre">in</span> <span class="pre">Mary+</span> <span class="pre">eras'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_future">
<span class="sig-name descname"><span class="pre">test_policy_after_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1585-L1671"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_future" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting tokens with time-locking policy requiring future slot.</p>
<p>Test that tokens cannot be minted when the ‚Äúafter‚Äù slot constraint is in the future
and transaction validity intervals don‚Äôt satisfy or violate the policy. Expect failure.</p>
<ul class="simple">
<li><p>Create multisig script with ‚Äúafter slot‚Äù constraint set to future slot (current + 10000)</p></li>
<li><p>Generate policy ID from script</p></li>
<li><p>Create 5 different native tokens under same policy</p></li>
<li><p>Attempt to mint with valid range (invalid-before at future slot, invalid-hereafter
future slot + 100) - fails because slot is in the future (OutsideValidityIntervalUTxO)</p></li>
<li><p>Attempt to mint with invalid range (invalid-before 1, invalid-hereafter at future
slot) - fails because ‚Äúafter‚Äù constraint not met (ScriptWitnessNotValidatingUTXOW)</p></li>
<li><p>Verify tokens were not minted</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_past">
<span class="sig-name descname"><span class="pre">test_policy_after_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1673-L1744"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_after_past" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting tokens with time-locking policy requiring already-passed slot.</p>
<p>Test that tokens cannot be minted when the ‚Äúafter‚Äù slot constraint references a past
slot and the transaction validity interval violates the constraint. Expect failure.</p>
<ul class="simple">
<li><p>Create multisig script with ‚Äúafter slot‚Äù constraint set to past slot (current - 1)</p></li>
<li><p>Generate policy ID from script</p></li>
<li><p>Create 5 different native tokens under same policy</p></li>
<li><p>Attempt to mint with invalid-before 1 and invalid-hereafter at past slot</p></li>
<li><p>Verify minting fails with ScriptWitnessNotValidatingUTXOW error</p></li>
<li><p>Verify tokens were not minted</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_future">
<span class="sig-name descname"><span class="pre">test_policy_before_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1510-L1583"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_future" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Attempt to mint tokens when transaction validity violates ‚Äúbefore‚Äù policy constraint.</p>
<p>Test that minting fails when the time-locking policy ‚Äúbefore‚Äù constraint is violated
because transaction invalid-hereafter is after the policy threshold.</p>
<ul class="simple">
<li><p>Create multisig script with ‚Äúbefore slot N‚Äù where N is far future (current + 10000)</p></li>
<li><p>Generate policy ID from script</p></li>
<li><p>Create 5 native tokens under this policy</p></li>
<li><p>Attempt to mint with invalid-hereafter after the threshold slot</p></li>
<li><p>Verify minting fails with ScriptWitnessNotValidatingUTXOW error (policy not satisfied)</p></li>
<li><p>Check that tokens were not minted</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_past">
<span class="sig-name descname"><span class="pre">test_policy_before_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1420-L1508"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_policy_before_past" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Attempt to mint tokens when ‚Äúbefore‚Äù slot constraint is already in the past.</p>
<p>Test that minting fails when the time-locking policy ‚Äúbefore‚Äù constraint cannot be
satisfied because the threshold slot is in the past.</p>
<ul class="simple">
<li><p>Create multisig script with ‚Äúbefore slot N‚Äù where N is current slot - 1 (past)</p></li>
<li><p>Generate policy ID from script</p></li>
<li><p>Create 5 native tokens under this policy</p></li>
<li><p>Attempt to mint with invalid-hereafter matching the past slot</p></li>
<li><p>Verify minting fails with OutsideValidityIntervalUTxO error</p></li>
<li><p>Attempt to mint with invalid-hereafter after the past slot</p></li>
<li><p>Verify minting fails with ScriptWitnessNotValidatingUTXOW error</p></li>
<li><p>Check that tokens were not minted</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_after">
<span class="sig-name descname"><span class="pre">test_valid_policy_after</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1206-L1310"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_after" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Mint and burn native tokens with time-locking policy requiring slot after threshold.</p>
<p>Test that tokens can be minted and burned when transaction validity interval satisfies
the ‚Äúafter‚Äù slot constraint in the minting policy script.</p>
<ul class="simple">
<li><p>Create multisig script with ‚Äúafter slot 100‚Äù time-locking constraint</p></li>
<li><p>Generate policy ID from script</p></li>
<li><p>Create 5 different native tokens under same policy</p></li>
<li><p>Mint tokens with invalid-before set to slot 100 (satisfies ‚Äúafter‚Äù constraint)</p></li>
<li><p>Check tokens were minted at expected address</p></li>
<li><p>Burn tokens with same time constraint</p></li>
<li><p>Check tokens were burned</p></li>
<li><p>Verify transaction fees are within expected range</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_before">
<span class="sig-name descname"><span class="pre">test_valid_policy_before</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1312-L1418"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestPolicies.test_valid_policy_before" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Mint and burn native tokens with time-locking policy requiring slot before threshold.</p>
<p>Test that tokens can be minted and burned when transaction validity interval satisfies
the ‚Äúbefore‚Äù slot constraint in the minting policy script.</p>
<ul class="simple">
<li><p>Create multisig script with ‚Äúbefore slot N‚Äù time-locking constraint (future slot)</p></li>
<li><p>Generate policy ID from script</p></li>
<li><p>Create 5 different native tokens under same policy</p></li>
<li><p>Mint tokens with invalid-hereafter before the threshold (satisfies ‚Äúbefore‚Äù constraint)</p></li>
<li><p>Check tokens were minted at expected address</p></li>
<li><p>Burn tokens with same time constraint</p></li>
<li><p>Check tokens were burned</p></li>
<li><p>Verify transaction fees are within expected range</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestReferenceUTxO</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L2643-L2844"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Simple Scripts V1 and V2 on reference UTxOs.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Babbage+</span> <span class="pre">TX'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO.test_script_reference_utxo">
<span class="sig-name descname"><span class="pre">test_script_reference_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L2650-L2844"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestReferenceUTxO.test_script_reference_utxo" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test minting and burning a token using reference script.</p>
<p>Mint and burn token in the same transaction
Sign transactions using skeys.</p>
<ul class="simple">
<li><p>Create a Simple Script</p></li>
<li><p>Create a reference UTxO with the script</p></li>
<li><p>Specify amount to mint and amount to burn in the same transaction</p></li>
<li><p>Check that the expected amount was minted (to_mint_amount - to_burn_amount)</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">TestTransfer</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1749-L2335"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for transferring tokens.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.NEW_TOKENS_NUM">
<span class="sig-name descname"><span class="pre">NEW_TOKENS_NUM</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">20000000</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.NEW_TOKENS_NUM" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.new_token">
<span class="sig-name descname"><span class="pre">new_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.NativeTokenRec" title="cardano_node_tests.utils.clusterlib_utils.NativeTokenRec"><span class="pre">NativeTokenRec</span></a></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1772-L1800"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.new_token" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1755-L1770"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'native</span> <span class="pre">tokens</span> <span class="pre">are</span> <span class="pre">available</span> <span class="pre">only</span> <span class="pre">in</span> <span class="pre">Mary+</span> <span class="pre">eras'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_invalid_token_amount">
<span class="sig-name descname"><span class="pre">test_transfer_invalid_token_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.NativeTokenRec" title="cardano_node_tests.utils.clusterlib_utils.NativeTokenRec"><span class="pre">NativeTokenRec</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L2224-L2335"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_invalid_token_amount" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test sending an invalid amount of tokens to payment address.</p>
<p>Test that transactions fail when attempting to send more tokens than available or
negative token amounts, depending on the transaction build method. Expect failure.</p>
<ul class="simple">
<li><p>Create transaction output with invalid token amount (negative or exceeds balance)</p></li>
<li><p>Attempt to build/send transaction using parametrized build method</p></li>
<li><p>Check that transaction build/submission fails with appropriate error</p></li>
<li><p>For build method: error about unbalanced assets or illegal value</p></li>
<li><p>For build-raw method: error ValueNotConservedUTxO on submission</p></li>
<li><p>For build-estimate method: error about unbalanced assets or illegal value</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_multiple_tokens">
<span class="sig-name descname"><span class="pre">test_transfer_multiple_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.NativeTokenRec" title="cardano_node_tests.utils.clusterlib_utils.NativeTokenRec"><span class="pre">NativeTokenRec</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1955-L2151"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_multiple_tokens" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test sending multiple different tokens to payment addresses.</p>
<ul class="simple">
<li><p>Send multiple different tokens from 1 source address to 2 destination addresses</p></li>
<li><p>Check expected token balances for both source and destination addresses for each token</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_no_ada">
<span class="sig-name descname"><span class="pre">test_transfer_no_ada</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.NativeTokenRec" title="cardano_node_tests.utils.clusterlib_utils.NativeTokenRec"><span class="pre">NativeTokenRec</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L2153-L2222"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_no_ada" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create an UTxO with just native tokens, no ADA. Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_tokens">
<span class="sig-name descname"><span class="pre">test_transfer_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.clusterlib_utils.NativeTokenRec" title="cardano_node_tests.utils.clusterlib_utils.NativeTokenRec"><span class="pre">NativeTokenRec</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L1802-L1953"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.TestTransfer.test_transfer_tokens" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test sending tokens to payment address.</p>
<ul class="simple">
<li><p>Send tokens from 1 source address to 1 destination address</p></li>
<li><p>Check expected token balances for both source and destination addresses</p></li>
<li><p>Check fees in Lovelace</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.issuers_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">issuers_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L75-L89"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.issuers_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new issuers addresses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.multisig_script_policyid">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">multisig_script_policyid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L113-L130"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.multisig_script_policyid" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return multisig script and it‚Äôs PolicyId.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_native_tokens.simple_script_policyid">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_native_tokens.</span></span><span class="sig-name descname"><span class="pre">simple_script_policyid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">issuers_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_native_tokens.py#L92-L110"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_native_tokens.simple_script_policyid" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return script and its PolicyId.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_node_upgrade">
<span id="cardano-node-tests-tests-test-node-upgrade-module"></span><h2>cardano_node_tests.tests.test_node_upgrade module<a class="headerlink" href="#module-cardano_node_tests.tests.test_node_upgrade" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for node upgrade.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestSetup">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_node_upgrade.</span></span><span class="sig-name descname"><span class="pre">TestSetup</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_node_upgrade.py#L67-L303"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestSetup" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for setting up cardano network before and during upgrade testing.</p>
<p>Special tests that run outside of normal test run.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestSetup.pool_user_singleton">
<span class="sig-name descname"><span class="pre">pool_user_singleton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">PoolUser</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_node_upgrade.py#L73-L85"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestSetup.pool_user_singleton" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create a pool user for singleton.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestSetup.test_hardfork">
<span class="sig-name descname"><span class="pre">test_hardfork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PoolUser</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_node_upgrade.py#L156-L303"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestSetup.test_hardfork" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test hard fork.</p>
<p>Test protocol version hard fork using governance action after node upgrade. Runs only
on step 3 of upgrade testing sequence.</p>
<ul class="simple">
<li><p>Get current protocol version and calculate target version (current + 1)</p></li>
<li><p>Skip if already at LAST_KNOWN_PROTOCOL_VERSION</p></li>
<li><p>Check that ExperimentalHardForksEnabled is true in node config</p></li>
<li><p>Get default governance data (DReps, committee members, pools)</p></li>
<li><p>Wait for any delayed ratification to complete</p></li>
<li><p>Create hardfork governance action with target protocol version</p></li>
<li><p>Submit hardfork action transaction</p></li>
<li><p>Vote on hardfork action (Constitutional Committee, DReps, SPOs)</p></li>
<li><p>Wait for ratification</p></li>
<li><p>Wait for enactment epoch</p></li>
<li><p>Verify protocol version changed to target version</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestSetup.test_ignore_log_errors">
<span class="sig-name descname"><span class="pre">test_ignore_log_errors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_node_upgrade.py#L87-L119"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestSetup.test_ignore_log_errors" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Ignore selected errors in log right after node upgrade.</p>
<p>Test setup to ignore expected errors in node logs after upgrading from pre-UTxO-HD
releases. UTxO-HD was added in node 10.4.1.</p>
<ul class="simple">
<li><p>Check if upgraded node version is &lt; 10.5.0</p></li>
<li><p>If upgrading from pre-UTxO-HD release (node &lt; 10.5.0):</p>
<ul>
<li><p>Add log ignore rule for ChainDB warning about invalid snapshot</p></li>
<li><p>Ignore ‚ÄúMetadataFileDoesNotExist‚Äù error in stdout logs</p></li>
</ul>
</li>
<li><p>This prevents false test failures from expected upgrade-related log messages</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestSetup.test_update_cost_models">
<span class="sig-name descname"><span class="pre">test_update_cost_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_user_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PoolUser</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_node_upgrade.py#L121-L154"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestSetup.test_update_cost_models" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test cost model update.</p>
<p>Test updating Plutus cost models after node upgrade. Runs only on step 2 of upgrade
testing sequence.</p>
<ul class="simple">
<li><p>Load cost model proposal from JSON file (PlutusV2 and PlutusV3 models)</p></li>
<li><p>Get default governance data (DReps, committee members, pools)</p></li>
<li><p>Submit cost model update governance action</p></li>
<li><p>Vote and ratify the cost model update</p></li>
<li><p>Wait for enactment</p></li>
<li><p>Verify updated cost models are active</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestUpgrade">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_node_upgrade.</span></span><span class="sig-name descname"><span class="pre">TestUpgrade</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_node_upgrade.py#L306-L514"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestUpgrade" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for node upgrade testing.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestUpgrade.test_prepare_tx">
<span class="sig-name descname"><span class="pre">test_prepare_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_node_upgrade.py#L309-L426"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestUpgrade.test_prepare_tx" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Prepare transactions that will be submitted in next steps of upgrade testing.</p>
<p>For testing that transaction created by previous node version and/or in previous era can
be submitted in next node version and/or next era. Runs on steps 1-2, creates
transactions for steps 2-3.</p>
<ul class="simple">
<li><p>Create simple transaction sending 2 ADA from source to destination address</p></li>
<li><p>Build transaction using parametrized method (build or build-raw)</p></li>
<li><p>For build method: use fee buffer of 1000000 lovelace</p></li>
<li><p>For build-raw method: calculate fee first, then build transaction</p></li>
<li><p>Sign transaction with source address signing key</p></li>
<li><p>Save either signed tx file or unsigned tx body file based on parametrization</p></li>
<li><p>Save to state directory for use in later upgrade testing steps</p></li>
<li><p>Verify saved file exists and has non-zero size</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.TestUpgrade.test_submit_tx">
<span class="sig-name descname"><span class="pre">test_submit_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_step</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_node_upgrade.py#L428-L514"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.TestUpgrade.test_submit_tx" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit transaction that was created by previous node version and/or in previous era.</p>
<p>Test cross-version/cross-era transaction compatibility by submitting transactions
created in earlier upgrade steps. Runs on steps 2-3.</p>
<ul class="simple">
<li><p>Locate transaction file created in previous step (from state directory)</p></li>
<li><p>Load signed tx file or unsigned tx body file based on parametrization</p></li>
<li><p>If loading tx body: sign the transaction body with appropriate signing keys</p></li>
<li><p>Submit the transaction to the upgraded node</p></li>
<li><p>Wait for transaction to be included in a block</p></li>
<li><p>Verify transaction was successfully submitted and processed</p></li>
<li><p>Check expected balances after transaction submission</p></li>
<li><p>Demonstrates backward compatibility of transaction format across versions/eras</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.payment_addr_locked">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_node_upgrade.</span></span><span class="sig-name descname"><span class="pre">payment_addr_locked</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AddressRecord</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_node_upgrade.py#L36-L48"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.payment_addr_locked" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_node_upgrade.payment_addrs_disposable">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_node_upgrade.</span></span><span class="sig-name descname"><span class="pre">payment_addrs_disposable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_node_upgrade.py#L51-L64"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_node_upgrade.payment_addrs_disposable" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new disposable payment addresses.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_pool_saturation">
<span id="cardano-node-tests-tests-test-pool-saturation-module"></span><h2>cardano_node_tests.tests.test_pool_saturation module<a class="headerlink" href="#module-cardano_node_tests.tests.test_pool_saturation" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests of effect of pool saturation on rewards and blocks production.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pool_saturation.</span></span><span class="sig-name descname"><span class="pre">PoolRecord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_dec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cardano_clusterlib.structs.PoolUser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delegation_out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cardano_node_tests.tests.delegation.DelegationOut" title="cardano_node_tests.tests.delegation.DelegationOut"><span class="pre">cardano_node_tests.tests.delegation.DelegationOut</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord" title="cardano_node_tests.tests.test_pool_saturation.RewardRecord"><span class="pre">cardano_node_tests.tests.test_pool_saturation.RewardRecord</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">owner_rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord" title="cardano_node_tests.tests.test_pool_saturation.RewardRecord"><span class="pre">cardano_node_tests.tests.test_pool_saturation.RewardRecord</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocks_forged</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saturation_amounts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py#L29-L39"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.blocks_forged">
<span class="sig-name descname"><span class="pre">blocks_forged</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.blocks_forged" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.delegation_out">
<span class="sig-name descname"><span class="pre">delegation_out</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cardano_node_tests.tests.delegation.DelegationOut" title="cardano_node_tests.tests.delegation.DelegationOut"><span class="pre">DelegationOut</span></a></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.delegation_out" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.id" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.id_dec">
<span class="sig-name descname"><span class="pre">id_dec</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.id_dec" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.name" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.owner_rewards">
<span class="sig-name descname"><span class="pre">owner_rewards</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord" title="cardano_node_tests.tests.test_pool_saturation.RewardRecord"><span class="pre">RewardRecord</span></a><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.owner_rewards" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.reward_addr">
<span class="sig-name descname"><span class="pre">reward_addr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">PoolUser</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.reward_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.saturation_amounts">
<span class="sig-name descname"><span class="pre">saturation_amounts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.saturation_amounts" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.PoolRecord.user_rewards">
<span class="sig-name descname"><span class="pre">user_rewards</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord" title="cardano_node_tests.tests.test_pool_saturation.RewardRecord"><span class="pre">RewardRecord</span></a><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.PoolRecord.user_rewards" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.RewardRecord">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pool_saturation.</span></span><span class="sig-name descname"><span class="pre">RewardRecord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epoch_no</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_total</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_per_epoch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake_total</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py#L21-L26"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.RewardRecord.epoch_no">
<span class="sig-name descname"><span class="pre">epoch_no</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord.epoch_no" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.RewardRecord.reward_per_epoch">
<span class="sig-name descname"><span class="pre">reward_per_epoch</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord.reward_per_epoch" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.RewardRecord.reward_total">
<span class="sig-name descname"><span class="pre">reward_total</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord.reward_total" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.RewardRecord.stake_total">
<span class="sig-name descname"><span class="pre">stake_total</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.RewardRecord.stake_total" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.TestPoolSaturation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pool_saturation.</span></span><span class="sig-name descname"><span class="pre">TestPoolSaturation</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py#L205-L511"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.TestPoolSaturation" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.TestPoolSaturation.test_oversaturated">
<span class="sig-name descname"><span class="pre">test_oversaturated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pools</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py#L206-L511"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.TestPoolSaturation.test_oversaturated" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check diminished rewards when stake pool is oversaturated.</p>
<p>The stake pool continues to operate normally and those who delegate to that pool receive
rewards, but the rewards are proportionally lower than those received from stake pool
that is not oversaturated.</p>
<ul class="simple">
<li><p>Register and delegate stake address in ‚Äúinit epoch‚Äù, for all available pools</p></li>
<li><p>In ‚Äúinit epoch‚Äù + 2, saturate all available pools (block distribution remains balanced
among pools)</p></li>
<li><p>In ‚Äúinit epoch‚Äù + 4, oversaturate one pool</p></li>
<li><p>In ‚Äúinit epoch‚Äù + 6, for all available pools, withdraw rewards and transfer funds
from delegated addresses so pools are no longer (over)saturated</p></li>
<li><p>While doing the steps above, collect rewards data for 10 epochs</p></li>
<li><p>Compare proportionality of rewards in epochs where pools were non-saturated,
saturated and oversaturated</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pool_saturation.cluster_lock_pools">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pool_saturation.</span></span><span class="sig-name descname"><span class="pre">cluster_lock_pools</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pool_saturation.py#L42-L48"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pool_saturation.cluster_lock_pools" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_pools">
<span id="cardano-node-tests-tests-test-pools-module"></span><h2>cardano_node_tests.tests.test_pools module<a class="headerlink" href="#module-cardano_node_tests.tests.test_pools" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for operations with stake pools.</p>
<ul class="simple">
<li><p>Pool registration</p></li>
<li><p>Pool deregistration</p></li>
<li><p>Pool update</p></li>
<li><p>Pool metadata</p></li>
<li><p>Pool reregistration</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pools.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2033-L2608"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Stake pool tests that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.gen_pool_registration_cert_data">
<span class="sig-name descname"><span class="pre">gen_pool_registration_cert_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyPair</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ColdKeyPair</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2064-L2088"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.gen_pool_registration_cert_data" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.pool_data">
<span class="sig-name descname"><span class="pre">pool_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">PoolData</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2054-L2062"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.pool_data" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.pool_users">
<span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2036-L2052"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.pool_users" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_deregistration_not_registered">
<span class="sig-name descname"><span class="pre">test_pool_deregistration_not_registered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PoolData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2261-L2302"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_deregistration_not_registered" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to deregister pool that is not registered.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_cold">
<span class="sig-name descname"><span class="pre">test_pool_registration_cert_wrong_cold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PoolData</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2119-L2146"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_cold" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to generate pool registration certificate using wrong Cold vkey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_stake">
<span class="sig-name descname"><span class="pre">test_pool_registration_cert_wrong_stake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PoolData</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2148-L2175"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_stake" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to generate pool registration certificate using wrong stake vkey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_vrf">
<span class="sig-name descname"><span class="pre">test_pool_registration_cert_wrong_vrf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PoolData</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2090-L2117"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_cert_wrong_vrf" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to generate pool registration certificate using wrong VRF key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_cold_skey">
<span class="sig-name descname"><span class="pre">test_pool_registration_missing_cold_skey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PoolData</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2177-L2218"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_cold_skey" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to register pool using transaction with missing Cold skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_payment_skey">
<span class="sig-name descname"><span class="pre">test_pool_registration_missing_payment_skey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PoolData</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2220-L2259"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_pool_registration_missing_payment_skey" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to register pool using transaction with missing payment skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_long_metadata_url">
<span class="sig-name descname"><span class="pre">test_stake_pool_long_metadata_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gen_pool_registration_cert_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">KeyPair</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ColdKeyPair</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2555-L2608"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_long_metadata_url" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create pool registration cert when the <em>metadata-url</em> is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_description">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_long_description</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2451-L2484"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_description" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create pool metadata hash when the <em>description</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_homepage">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_long_homepage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2523-L2553"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_homepage" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create pool metadata hash when the <em>homepage</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_name">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_long_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2416-L2449"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_name" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create pool metadata hash when the <em>name</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_ticker">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_long_ticker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2486-L2521"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_long_ticker" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create pool metadata hash when the <em>ticker</em> value is longer than allowed.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_description">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_no_description</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2332-L2358"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_description" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>description</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_homepage">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_no_homepage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2388-L2414"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_homepage" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>homepage</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_name">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_no_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2304-L2330"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_name" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>name</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_ticker">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata_no_ticker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2360-L2386"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestNegative.test_stake_pool_metadata_no_ticker" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create pool metadata hash when missing the <em>ticker</em> key.</p>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pools.</span></span><span class="sig-name descname"><span class="pre">TestPoolCost</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L1902-L2030"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for stake pool cost.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost.cluster_mincost">
<span class="sig-name descname"><span class="pre">cluster_mincost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_cost_start_cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L1907-L1917"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.cluster_mincost" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost.pool_owners_pbt">
<span class="sig-name descname"><span class="pre">pool_owners_pbt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_mincost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L1919-L1937"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.pool_owners_pbt" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create pool owners for property-based test.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='noop',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={}),</span> <span class="pre">Mark(name='noop',</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_cost">
<span class="sig-name descname"><span class="pre">test_stake_pool_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_mincost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subtests</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubTests</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L1984-L2030"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_cost" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create and register a stake pool with <em>pool cost</em> &gt;= <em>minPoolCost</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_low_cost">
<span class="sig-name descname"><span class="pre">test_stake_pool_low_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_mincost</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_owners_pbt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L1939-L1982"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolCost.test_stake_pool_low_cost" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to create and register a stake pool with pool cost lower than <em>minPoolCost</em>.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolVoteDeleg">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pools.</span></span><span class="sig-name descname"><span class="pre">TestPoolVoteDeleg</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2611-L2851"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolVoteDeleg" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for pool vote delegation to DRep.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolVoteDeleg.get_subtests">
<span class="sig-name descname"><span class="pre">get_subtests</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2729-L2837"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolVoteDeleg.get_subtests" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get pool vote delegation scenarios.</p>
<p>The scenarios are executed as subtests in the <cite>test_pool_delegation</cite> test.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolVoteDeleg.pools">
<span class="sig-name descname"><span class="pre">pools</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolCreationOutput</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2617-L2727"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolVoteDeleg.pools" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create pools for testing vote delegation scenarios.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolVoteDeleg.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Tx</span> <span class="pre">era</span> <span class="pre">&gt;=</span> <span class="pre">Conway'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolVoteDeleg.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestPoolVoteDeleg.test_pool_vote_delegation">
<span class="sig-name descname"><span class="pre">test_pool_vote_delegation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pools</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolCreationOutput</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subtests</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubTests</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L2839-L2851"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestPoolVoteDeleg.test_pool_vote_delegation" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test pool vote delegation scenarios.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pools.</span></span><span class="sig-name descname"><span class="pre">TestStakePool</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L698-L1896"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>General tests for stake pools.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_cancel_stake_pool_deregistration">
<span class="sig-name descname"><span class="pre">test_cancel_stake_pool_deregistration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testfile_temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L1247-L1398"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_cancel_stake_pool_deregistration" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Reregister a stake pool that is in course of being retired.</p>
<ul class="simple">
<li><p>Deregister stake pool in epoch + 2</p></li>
<li><p>Reregister the pool by resubmitting the pool registration certificate</p></li>
<li><p>Delegate stake address to pool again (the address is already registered)</p></li>
<li><p>Check that no additional pool deposit was used</p></li>
<li><p>Check that pool is still correctly setup</p></li>
<li><p>Check that the stake addresses is still delegated</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_create_stake_pool">
<span class="sig-name descname"><span class="pre">test_create_stake_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_of_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L873-L928"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_create_stake_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create and register a stake pool (without metadata).</p>
<p>Uses parametrized build method (build or build-raw) and number of pool owners (1 or 3).</p>
<ul class="simple">
<li><p>Create parametrized number of pool owner addresses</p></li>
<li><p>Fund first pool owner address with 900 ADA</p></li>
<li><p>Generate pool cold keys and VRF keys</p></li>
<li><p>Create pool registration certificate without metadata</p></li>
<li><p>Submit registration certificate with pool deposit</p></li>
<li><p>Check that pool was registered on chain with correct parameters</p></li>
<li><p>Check that pool deposit was deducted from payment address</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_deregister_stake_pool">
<span class="sig-name descname"><span class="pre">test_deregister_stake_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L930-L1077"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_deregister_stake_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Deregister stake pool.</p>
<p>Uses parametrized build method (build or build-raw).</p>
<ul class="simple">
<li><p>Create pool with metadata and 3 pool owners</p></li>
<li><p>Register and delegate stake addresses to the pool</p></li>
<li><p>Wait for pool to be registered and receive first rewards</p></li>
<li><p>Generate pool deregistration certificate for future epoch</p></li>
<li><p>Submit deregistration certificate</p></li>
<li><p>Wait for retirement epoch</p></li>
<li><p>Check that the pool was deregistered and no longer appears in stake distribution</p></li>
<li><p>Check that owner stake addresses are no longer delegated to the pool</p></li>
<li><p>Check that the pool deposit was returned to reward account</p></li>
<li><p>(optional) Check pool deregistration in db-sync</p></li>
<li><p>(optional) Check SMASH service delisted the pool</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_pool_registration_deregistration">
<span class="sig-name descname"><span class="pre">test_pool_registration_deregistration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L1801-L1896"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_pool_registration_deregistration" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send both pool registration and deregistration certificates in single TX.</p>
<ul class="simple">
<li><p>Create pool registration cert</p></li>
<li><p>Create pool deregistration cert</p></li>
<li><p>Register and deregister stake pool in single TX</p></li>
<li><p>Check that the pool deposit was NOT returned to reward account as the reward address
is not registered (deposit is lost)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_reregister_stake_pool">
<span class="sig-name descname"><span class="pre">test_reregister_stake_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testfile_temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L1079-L1245"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_reregister_stake_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Reregister stake pool after deregistration.</p>
<p>Test that a deregistered pool can be re-registered by resubmitting the pool registration
certificate. The stake address that was already registered does not need to pay deposit
again.</p>
<ul class="simple">
<li><p>Create and register pool with metadata</p></li>
<li><p>Delegate owner stake address to pool</p></li>
<li><p>Wait for retirement epoch and check pool is deregistered</p></li>
<li><p>Check that owner stake address is no longer delegated</p></li>
<li><p>Check that pool deposit was returned to reward account</p></li>
<li><p>Reregister the pool by resubmitting the original pool registration certificate</p></li>
<li><p>Delegate stake address to pool again (address is already registered, no new deposit)</p></li>
<li><p>Wait for pool to become active again</p></li>
<li><p>Check that pool was correctly registered on chain</p></li>
<li><p>Check that stake address was delegated to the pool</p></li>
<li><p>(optional) Check pool re-registration in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_sign_in_multiple_stages">
<span class="sig-name descname"><span class="pre">test_sign_in_multiple_stages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testfile_temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L1668-L1799"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_sign_in_multiple_stages" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create and register a stake pool with TX signed in multiple stages.</p>
<ul class="simple">
<li><p>Create stake pool registration cert</p></li>
<li><p>Create witness file for each signing key</p></li>
<li><p>Sign TX using witness files</p></li>
<li><p>Create and register pool</p></li>
<li><p>Check that the pool was correctly registered on chain</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_metadata">
<span class="sig-name descname"><span class="pre">test_stake_pool_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L701-L779"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_metadata" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create and register a stake pool with metadata.</p>
<p>Uses parametrized build method (build or build-raw).</p>
<ul class="simple">
<li><p>Create pool metadata JSON file with name, description, ticker, homepage</p></li>
<li><p>Generate pool metadata hash from metadata file</p></li>
<li><p>Create 3 pool owner addresses</p></li>
<li><p>Fund first pool owner address with 900 ADA</p></li>
<li><p>Generate pool cold keys and VRF keys</p></li>
<li><p>Create pool registration certificate with metadata URL and hash</p></li>
<li><p>Submit registration certificate and delegate owner stake address to pool</p></li>
<li><p>Check that pool was registered with correct parameters</p></li>
<li><p>Check that stake address was delegated to pool</p></li>
<li><p>Check <cite>transaction view</cite> command</p></li>
<li><p>(optional) Check pool off-chain metadata in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_not_avail_metadata">
<span class="sig-name descname"><span class="pre">test_stake_pool_not_avail_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L781-L871"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_stake_pool_not_avail_metadata" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create and register a stake pool with metadata file not available.</p>
<p>Test that pool registration succeeds even when metadata URL points to nonexistent location.</p>
<ul class="simple">
<li><p>Create pool metadata JSON file with pool details</p></li>
<li><p>Generate pool metadata hash from local file</p></li>
<li><p>Specify invalid metadata URL (file not actually hosted there)</p></li>
<li><p>Create pool owner address</p></li>
<li><p>Fund pool owner address with 900 ADA</p></li>
<li><p>Generate pool registration certificate with invalid metadata URL</p></li>
<li><p>Submit registration certificate and delegate owner stake address</p></li>
<li><p>Check that pool was registered despite invalid metadata URL</p></li>
<li><p>Check that stake address was delegated</p></li>
<li><p>(optional) Check db-sync records pool off-chain fetch error for invalid URL</p></li>
<li><p>(optional) Check SMASH service records pool error for invalid metadata</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_metadata">
<span class="sig-name descname"><span class="pre">test_update_stake_pool_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L1400-L1539"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_metadata" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Update stake pool metadata.</p>
<ul class="simple">
<li><p>Register pool</p></li>
<li><p>Update the pool metadata by resubmitting the pool registration certificate</p></li>
<li><p>Check that the pool metadata hash was correctly updated on chain</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_parameters">
<span class="sig-name descname"><span class="pre">test_update_stake_pool_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L1541-L1666"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.TestStakePool.test_update_stake_pool_parameters" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Update stake pool parameters.</p>
<ul class="simple">
<li><p>Register pool</p></li>
<li><p>Update the pool parameters by resubmitting the pool registration certificate</p></li>
<li><p>Check that the pool parameters were correctly updated on chain</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_pools.pool_cost_start_cluster">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_pools.</span></span><span class="sig-name descname"><span class="pre">pool_cost_start_cluster</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_pools.py#L45-L71"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_pools.pool_cost_start_cluster" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Update <em>minPoolCost</em> to 500.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_protocol">
<span id="cardano-node-tests-tests-test-protocol-module"></span><h2>cardano_node_tests.tests.test_protocol module<a class="headerlink" href="#module-cardano_node_tests.tests.test_protocol" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for protocol state and protocol parameters.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_protocol.TestProtocol">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_protocol.</span></span><span class="sig-name descname"><span class="pre">TestProtocol</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_protocol.py#L65-L148"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for protocol.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_protocol.TestProtocol.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'meant</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">with</span> <span class="pre">default</span> <span class="pre">era</span> <span class="pre">or</span> <span class="pre">higher,</span> <span class="pre">where</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">==</span> <span class="pre">Tx</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_protocol.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_params">
<span class="sig-name descname"><span class="pre">test_protocol_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_protocol.py#L126-L148"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_params" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check output of <cite>query protocol-parameters</cite>.</p>
<p>Test that protocol parameters query returns expected JSON structure with all required keys.</p>
<ul class="simple">
<li><p>Execute <cite>cardano-cli query protocol-parameters</cite> command</p></li>
<li><p>Check that output contains all expected Conway era protocol parameter keys including:
collateralPercentage, dRepDeposit, govActionDeposit, maxBlockBodySize, maxTxSize,
minPoolCost, stakeAddressDeposit, stakePoolDeposit, txFeeFixed, txFeePerByte,
utxoCostPerByte, and other protocol parameters</p></li>
<li><p>Verify no extra or missing keys in protocol parameters output</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_keys">
<span class="sig-name descname"><span class="pre">test_protocol_state_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_protocol.py#L69-L100"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_keys" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check output of <cite>query protocol-state</cite>.</p>
<p>Test that protocol state query returns expected JSON structure with all required keys.</p>
<ul class="simple">
<li><p>Execute <cite>cardano-cli query protocol-state</cite> command</p></li>
<li><p>Save raw output to file for debugging</p></li>
<li><p>Parse output as JSON</p></li>
<li><p>Check that output contains exactly the expected protocol state keys:
candidateNonce, epochNonce, evolvingNonce, labNonce, lastEpochBlockNonce, lastSlot,
oCertCounters</p></li>
<li><p>Verify no extra or missing keys in protocol state output</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_outfile">
<span class="sig-name descname"><span class="pre">test_protocol_state_outfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_protocol.py#L102-L124"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_protocol.TestProtocol.test_protocol_state_outfile" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check output file produced by <cite>query protocol-state</cite>.</p>
<p>Test that protocol state can be written to stdout and contains expected keys.</p>
<ul class="simple">
<li><p>Execute <cite>cardano-cli query protocol-state ‚Äìout-file /dev/stdout</cite> command</p></li>
<li><p>Parse stdout output as JSON</p></li>
<li><p>Check that output contains exactly the expected protocol state keys</p></li>
<li><p>Verify no extra or missing keys in protocol state output</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_reconnect">
<span id="cardano-node-tests-tests-test-reconnect-module"></span><h2>cardano_node_tests.tests.test_reconnect module<a class="headerlink" href="#module-cardano_node_tests.tests.test_reconnect" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for reconnect.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_reconnect.TestNodeReconnect">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_reconnect.</span></span><span class="sig-name descname"><span class="pre">TestNodeReconnect</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_reconnect.py#L28-L306"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_reconnect.TestNodeReconnect" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for nodes reconnect.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_reconnect.TestNodeReconnect.get_prometheus_metrics">
<span class="sig-name descname"><span class="pre">get_prometheus_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_reconnect.py#L137-L140"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_reconnect.TestNodeReconnect.get_prometheus_metrics" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_reconnect.TestNodeReconnect.node_get_tip">
<span class="sig-name descname"><span class="pre">node_get_tip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_reconnect.py#L72-L87"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_reconnect.TestNodeReconnect.node_get_tip" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query UTxO on given node.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_reconnect.TestNodeReconnect.node_query_utxo">
<span class="sig-name descname"><span class="pre">node_query_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_raw_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TxRawOutput</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_reconnect.py#L53-L70"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_reconnect.TestNodeReconnect.node_query_utxo" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query UTxO on given node.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_reconnect.TestNodeReconnect.node_submit_tx">
<span class="sig-name descname"><span class="pre">node_submit_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">TxRawOutput</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_reconnect.py#L89-L135"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_reconnect.TestNodeReconnect.node_submit_tx" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit transaction on given node.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_reconnect.TestNodeReconnect.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_reconnect.py#L36-L51"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_reconnect.TestNodeReconnect.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_reconnect.TestNodeReconnect.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">same</span> <span class="pre">cluster</span> <span class="pre">and</span> <span class="pre">Tx</span> <span class="pre">era'}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'not</span> <span class="pre">supposed</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">on</span> <span class="pre">long-running</span> <span class="pre">testnet'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_reconnect.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_reconnect.TestNodeReconnect.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_reconnect.TestNodeReconnect.test_metrics_reconnect">
<span class="sig-name descname"><span class="pre">test_metrics_reconnect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_reconnect.py#L240-L306"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_reconnect.TestNodeReconnect.test_metrics_reconnect" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test using metrics that node reconnects after it was restarted.</p>
<p>Test node reconnection after restart by validating Prometheus metrics indicating
successful peer connections. Performs 200 restart iterations to ensure reliability.</p>
<ul class="simple">
<li><p>Get Prometheus port for pool2 from cluster configuration</p></li>
<li><p>For each iteration (up to 200 restarts):</p>
<ul>
<li><p>Restart pool2 node with 5 second delay</p></li>
<li><p>Wait for node to sync with chain</p></li>
<li><p>Fetch Prometheus metrics from node HTTP endpoint</p></li>
<li><p>Parse metrics response into key-value pairs</p></li>
<li><p>Check inboundGovernor_hot metric &gt; 1 (active inbound connections)</p></li>
<li><p>Check peerSelection_cold metric == 0 (no cold peers)</p></li>
<li><p>Retry up to 10 times with 5 second delays if assertions fail</p></li>
<li><p>Fail test if metrics don‚Äôt match after 10 attempts</p></li>
</ul>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_reconnect.TestNodeReconnect.test_reconnect">
<span class="sig-name descname"><span class="pre">test_reconnect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_reconnect.py#L158-L238"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_reconnect.TestNodeReconnect.test_reconnect" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test that node reconnects after it was stopped.</p>
<ul class="simple">
<li><p>Stop the node2</p></li>
<li><p>Submit Tx number 1 on node1</p></li>
<li><p>Start the stopped node2</p></li>
<li><p>Submit a Tx number 2 on node2</p></li>
<li><p>Wait for 2 new blocks</p></li>
<li><p>Check that node1 knows about Tx number 2, and/or node2 knows about Tx number 1</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_rollback">
<span id="cardano-node-tests-tests-test-rollback-module"></span><h2>cardano_node_tests.tests.test_rollback module<a class="headerlink" href="#module-cardano_node_tests.tests.test_rollback" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for rollbacks.</p>
<p>In rollback tests, we split the cluster into two parts. We achieve this by changing topology
configuration.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_rollback.</span></span><span class="sig-name descname"><span class="pre">TestRollback</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py#L31-L477"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for rollbacks.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.backup_topology">
<span class="sig-name descname"><span class="pre">backup_topology</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py#L76-L89"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.backup_topology" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Backup the original topology files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.node_query_utxo">
<span class="sig-name descname"><span class="pre">node_query_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_raw_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TxRawOutput</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py#L111-L128"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.node_query_utxo" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query UTxO on given node.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.node_submit_tx">
<span class="sig-name descname"><span class="pre">node_submit_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">TxRawOutput</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py#L130-L157"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.node_submit_tx" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit transaction on given node.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.node_wait_for_block">
<span class="sig-name descname"><span class="pre">node_wait_for_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_no</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py#L159-L175"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.node_wait_for_block" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Wait for block number on given node.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py#L40-L55"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(True,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'`NUM_POOLS`</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">at</span> <span class="pre">least</span> <span class="pre">4'}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">same</span> <span class="pre">cluster</span> <span class="pre">and</span> <span class="pre">Tx</span> <span class="pre">era'}),</span> <span class="pre">Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'not</span> <span class="pre">supposed</span> <span class="pre">to</span> <span class="pre">run</span> <span class="pre">on</span> <span class="pre">long-running</span> <span class="pre">testnet'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.restore_cluster">
<span class="sig-name descname"><span class="pre">restore_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backup_topology</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py#L101-L109"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.restore_cluster" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Restore the original topology files == restore the cluster.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.split_cluster">
<span class="sig-name descname"><span class="pre">split_cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">split_topology_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py#L91-L99"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.split_cluster" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Use the split topology files == split the cluster.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.split_topology_dir">
<span class="sig-name descname"><span class="pre">split_topology_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py#L57-L74"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.split_topology_dir" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Return path to directory with split topology files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.test_consensus_reached">
<span class="sig-name descname"><span class="pre">test_consensus_reached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backup_topology</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_topology_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py#L177-L347"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.test_consensus_reached" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test that global consensus is reached after rollback.</p>
<p>The original cluster is split into two clusters, and before <cite>securityParam</cite>
number of blocks is produced, the original cluster topology gets restored.</p>
<ul class="simple">
<li><p>Submit Tx number 1</p></li>
<li><p>Split the cluster into two separate clusters</p></li>
<li><p>Check that the Tx number 1 exists on both clusters</p></li>
<li><p>Submit a Tx number 2 on the first cluster</p></li>
<li><p>Check that the Tx number 2 exists only on the first cluster</p></li>
<li><p>Submit a Tx number 3 on the second cluster</p></li>
<li><p>Check that the Tx number 3 exists only on the second cluster</p></li>
<li><p>Restore the cluster topology</p></li>
<li><p>Check that global consensus was restored</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_rollback.TestRollback.test_permanent_fork">
<span class="sig-name descname"><span class="pre">test_permanent_fork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backup_topology</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_topology_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_rollback.py#L349-L477"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_rollback.TestRollback.test_permanent_fork" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test that global consensus is NOT reached and the result is permanent fork.</p>
<p>The original cluster is split into two clusters, and after <cite>securityParam</cite>
number of blocks is produced, the original cluster topology gets restored.</p>
<ul class="simple">
<li><p>Submit Tx number 1</p></li>
<li><p>Split the cluster into two separate clusters</p></li>
<li><p>Submit a Tx number 2 on the first cluster</p></li>
<li><p>Submit a Tx number 3 on the second cluster</p></li>
<li><p>Wait until <cite>securityParam</cite> number of blocks is produced on both clusters</p></li>
<li><p>Restore the cluster topology</p></li>
<li><p>Check that global consensus was NOT restored</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_scripts">
<span id="cardano-node-tests-tests-test-scripts-module"></span><h2>cardano_node_tests.tests.test_scripts module<a class="headerlink" href="#module-cardano_node_tests.tests.test_scripts" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for multisig transactions and scripts.</p>
<ul class="simple">
<li><p>Multisig</p></li>
<li><p>Time locking</p></li>
<li><p>Auxiliary scripts</p></li>
<li><p>Reference UTxO</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestAuxiliaryScripts</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1827-L2064"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for auxiliary scripts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1834-L1849"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Allegra+</span> <span class="pre">TX'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_invalid">
<span class="sig-name descname"><span class="pre">test_tx_script_invalid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2015-L2064"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_invalid" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Build transaction with invalid auxiliary script.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_cbor">
<span class="sig-name descname"><span class="pre">test_tx_script_metadata_cbor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1908-L1964"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_cbor" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with auxiliary script and metadata CBOR.</p>
<p>Check that the auxiliary script is present in the TX body.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_json">
<span class="sig-name descname"><span class="pre">test_tx_script_metadata_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1851-L1906"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_metadata_json" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with auxiliary script and metadata JSON.</p>
<p>Check that the auxiliary script is present in the TX body.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_no_metadata">
<span class="sig-name descname"><span class="pre">test_tx_script_no_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1966-L2013"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestAuxiliaryScripts.test_tx_script_no_metadata" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with auxiliary script and no other metadata.</p>
<p>Check that the auxiliary script is present in the TX body.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestBasic</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L178-L874"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for multisig transactions.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L181-L196"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_all">
<span class="sig-name descname"><span class="pre">test_multisig_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L233-L306"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_all" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds to and from multisig script address using ‚Äúall‚Äù script type.</p>
<p>Test that transactions can lock funds at script address and spend them when all required
signatures are provided. Uses parametrized build and submit methods.</p>
<ul class="simple">
<li><p>Create multisig script requiring all payment verification keys to sign</p></li>
<li><p>Generate script address from multisig script</p></li>
<li><p>Send 2 ADA to script address from payment address</p></li>
<li><p>Check funds locked at script address</p></li>
<li><p>Spend funds from script address by providing all required signatures</p></li>
<li><p>Check funds transferred to destination address</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_any">
<span class="sig-name descname"><span class="pre">test_multisig_any</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L389-L501"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_any" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds using the <em>any</em> script.</p>
<ul class="simple">
<li><p>Send funds to script address</p></li>
<li><p>Send funds from script address using single witness</p></li>
<li><p>Send funds from script address using multiple witnesses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_atleast">
<span class="sig-name descname"><span class="pre">test_multisig_atleast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L503-L595"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_atleast" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds to and from multisig script address using ‚ÄúatLeast‚Äù script type.</p>
<p>Test that transactions can lock funds at script address and spend them when minimum
required number of signatures is provided. Uses parametrized build and submit methods.</p>
<ul class="simple">
<li><p>Create multisig script requiring at least M of N payment verification keys</p></li>
<li><p>Generate script address from multisig script</p></li>
<li><p>Send 2 ADA to script address from payment address</p></li>
<li><p>Check funds locked at script address</p></li>
<li><p>Spend funds from script address multiple times using different combinations of
signatures (always meeting minimum required)</p></li>
<li><p>Check funds transferred to destination address</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_empty_all">
<span class="sig-name descname"><span class="pre">test_multisig_empty_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L745-L807"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_empty_all" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from script address using the <em>all</em> script with zero skeys.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_no_required_atleast">
<span class="sig-name descname"><span class="pre">test_multisig_no_required_atleast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L809-L874"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_multisig_no_required_atleast" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from script address using the <em>atLeast</em> script with no required witnesses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_from_script_addr">
<span class="sig-name descname"><span class="pre">test_normal_tx_from_script_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L654-L743"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_from_script_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from script address using TX signed with skeys (not using witness files).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_to_script_addr">
<span class="sig-name descname"><span class="pre">test_normal_tx_to_script_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L597-L652"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_normal_tx_to_script_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds to script address using TX signed with skeys (not using witness files).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_script_addr_length">
<span class="sig-name descname"><span class="pre">test_script_addr_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L198-L231"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_script_addr_length" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Verify that multisig script address has correct length.</p>
<p>Test that script address length matches standard address length (28 bytes encoded).
Regression test for issue where script addresses were incorrectly 32 bytes.</p>
<ul class="simple">
<li><p>Create payment verification keys for multiple addresses</p></li>
<li><p>Create multisig script using ‚Äúall‚Äù script type with payment vkeys</p></li>
<li><p>Generate payment address from multisig script</p></li>
<li><p>Verify script address length equals standard payment address length</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestBasic.test_stake_keys_multisig_all">
<span class="sig-name descname"><span class="pre">test_stake_keys_multisig_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L308-L387"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestBasic.test_stake_keys_multisig_all" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds to and from multisig script address using stake keys for witnessing.</p>
<p>Test that transactions can use stake key signatures (instead of payment keys) to witness
spending from multisig script address. Uses parametrized build and submit methods.</p>
<ul class="simple">
<li><p>Generate stake key pairs for multisig script witnesses</p></li>
<li><p>Create multisig script using stake verification keys with ‚Äúall‚Äù script type</p></li>
<li><p>Generate payment script address from multisig script</p></li>
<li><p>Send 2 ADA to script address from payment address</p></li>
<li><p>Check funds locked at script address</p></li>
<li><p>Spend funds from script address by providing stake key signatures</p></li>
<li><p>Check funds transferred to destination address</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestCompatibility">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestCompatibility</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L3121-L3256"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestCompatibility" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for checking compatibility with previous Tx eras.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestCompatibility.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L3124-L3139"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestCompatibility.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestCompatibility.test_auxiliary_scripts">
<span class="sig-name descname"><span class="pre">test_auxiliary_scripts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L3210-L3256"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestCompatibility.test_auxiliary_scripts" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it is not possible to use auxiliary script in Shelley-era Tx.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestCompatibility.test_script_v2">
<span class="sig-name descname"><span class="pre">test_script_v2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L3141-L3208"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestCompatibility.test_script_v2" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it is not possible to use ‚ÄòSimpleScriptV2‚Äô in Shelley-era Tx.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestDatum">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestDatum</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2279-L2376"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestDatum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Simple Scripts V1 and V2 UTxOs with datum.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestDatum.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2286-L2301"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestDatum.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestDatum.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Alonzo+</span> <span class="pre">TX'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestDatum.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestDatum.test_script_utxo_datum">
<span class="sig-name descname"><span class="pre">test_script_utxo_datum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2303-L2376"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestDatum.test_script_utxo_datum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test creating UTxO with datum on Simple Scripts V1 and V2 address.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestIncrementalSigning">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestIncrementalSigning</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2067-L2276"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestIncrementalSigning" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for incremental signing.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestIncrementalSigning.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2070-L2085"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestIncrementalSigning.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestIncrementalSigning.test_incremental_signing">
<span class="sig-name descname"><span class="pre">test_incremental_signing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_is</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2087-L2276"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestIncrementalSigning.test_incremental_signing" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from script address using TX that is signed incrementally.</p>
<p>Test with Tx body created by both <cite>transaction build</cite> and <cite>transaction build-raw</cite>.
Test with Tx created by both <cite>transaction sign</cite> and <cite>transaction assemble</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNegative">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L877-L1077"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Transaction tests that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNegative.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L880-L895"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_all_missing_skey">
<span class="sig-name descname"><span class="pre">test_multisig_all_missing_skey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L897-L953"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_all_missing_skey" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds from script address using the <em>all</em> script, omit one skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_any_unlisted_skey">
<span class="sig-name descname"><span class="pre">test_multisig_any_unlisted_skey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L955-L1011"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_any_unlisted_skey" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds from script address using the <em>any</em> script with unlisted skey.</p>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_atleast_low_num_of_skeys">
<span class="sig-name descname"><span class="pre">test_multisig_atleast_low_num_of_skeys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1013-L1077"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNegative.test_multisig_atleast_low_num_of_skeys" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds from script address using the <em>atLeast</em> script.</p>
<p>Num of skeys &lt; required. Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestNested</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2688-L3118"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for nested scripts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2695-L2710"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Allegra+</span> <span class="pre">TX'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested.test_invalid">
<span class="sig-name descname"><span class="pre">test_invalid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2908-L3118"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested.test_invalid" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test scenarios where it‚Äôs NOT possible to spend from a script address.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested.test_nested_optional_all">
<span class="sig-name descname"><span class="pre">test_nested_optional_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2821-L2906"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested.test_nested_optional_all" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it is possible to not meet conditions in nested ‚Äúall‚Äù rule.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestNested.test_nested_script">
<span class="sig-name descname"><span class="pre">test_nested_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_top</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_nested</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2712-L2819"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestNested.test_nested_script" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it is possible to spend using a script with nested rules.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestReferenceUTxO">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestReferenceUTxO</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2379-L2685"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestReferenceUTxO" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for Simple Scripts V1 and V2 on reference UTxOs.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestReferenceUTxO.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2386-L2401"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestReferenceUTxO.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestReferenceUTxO.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Babbage+</span> <span class="pre">TX'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestReferenceUTxO.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestReferenceUTxO.test_script_reference_utxo">
<span class="sig-name descname"><span class="pre">test_script_reference_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2403-L2575"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestReferenceUTxO.test_script_reference_utxo" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds from script address where script is on reference UTxO.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestReferenceUTxO.test_spend_reference_script">
<span class="sig-name descname"><span class="pre">test_spend_reference_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L2577-L2685"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestReferenceUTxO.test_spend_reference_script" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test spending a UTxO that holds a reference script.</p>
<ul class="simple">
<li><p>Create a Tx output with reference script (reference script UTxO)</p></li>
<li><p>Spend the reference UTxO</p></li>
<li><p>Check that the UTxO was spent</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">TestTimeLocking</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1080-L1824"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for time locking.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.SCRIPT_AMOUNT">
<span class="sig-name descname"><span class="pre">SCRIPT_AMOUNT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2000000</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.SCRIPT_AMOUNT" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_after_slot_in_future">
<span class="sig-name descname"><span class="pre">fund_script_after_slot_in_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1199-L1222"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_after_slot_in_future" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create and fund script address with ‚Äúafter‚Äù slot in the future.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_after_slot_in_past">
<span class="sig-name descname"><span class="pre">fund_script_after_slot_in_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1224-L1247"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_after_slot_in_past" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create and fund script address with ‚Äúafter‚Äù slot in the past.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_before_slot_in_future">
<span class="sig-name descname"><span class="pre">fund_script_before_slot_in_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1174-L1197"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_before_slot_in_future" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create and fund script address with ‚Äúbefore‚Äù slot in the future.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_before_slot_in_past">
<span class="sig-name descname"><span class="pre">fund_script_before_slot_in_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1149-L1172"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.fund_script_before_slot_in_past" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create and fund script address with ‚Äúbefore‚Äù slot in the past.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1132-L1147"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'runs</span> <span class="pre">only</span> <span class="pre">with</span> <span class="pre">Allegra+</span> <span class="pre">TX'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_future">
<span class="sig-name descname"><span class="pre">test_after_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_after_slot_in_future</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1686-L1763"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_future" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it‚Äôs NOT possible to spend from the script address.</p>
<p>The ‚Äúafter‚Äù slot is in the future and the given range is invalid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_past">
<span class="sig-name descname"><span class="pre">test_after_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_after_slot_in_past</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1765-L1824"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_after_past" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it‚Äôs NOT possible to spend from the script address.</p>
<p>The ‚Äúafter‚Äù slot is in the past.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_future">
<span class="sig-name descname"><span class="pre">test_before_future</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_before_slot_in_future</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1628-L1684"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_future" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it‚Äôs NOT possible to spend from the script address.</p>
<p>The ‚Äúbefore‚Äù slot is in the future and the given range is invalid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_past">
<span class="sig-name descname"><span class="pre">test_before_past</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fund_script_before_slot_in_past</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">TxRawOutput</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1549-L1626"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_before_past" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it‚Äôs NOT possible to spend from the script address.</p>
<p>The ‚Äúbefore‚Äù slot is in the past.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_after">
<span class="sig-name descname"><span class="pre">test_script_after</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_tx_validity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1249-L1323"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_after" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it is possible to spend from script address after given slot.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_before">
<span class="sig-name descname"><span class="pre">test_script_before</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_tx_validity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1325-L1397"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_script_before" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it is possible to spend from script address before given slot.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_tx_missing_validity">
<span class="sig-name descname"><span class="pre">test_tx_missing_validity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slot_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1399-L1470"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_tx_missing_validity" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it is NOT possible to spend from script address.</p>
<p>The transaction validity interval is not specified.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.TestTimeLocking.test_tx_negative_validity">
<span class="sig-name descname"><span class="pre">test_tx_negative_validity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L1472-L1547"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.TestTimeLocking.test_tx_negative_validity" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that it is NOT possible to spend from script address when validity is negative.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_scripts.multisig_tx">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_scripts.</span></span><span class="sig-name descname"><span class="pre">multisig_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_skey_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multisig_script</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">script_utxos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invalid_hereafter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invalid_before</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">SubmitMethods.CLI</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">BuildMethods.BUILD_RAW</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">TxRawOutput</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_scripts.py#L43-L175"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_scripts.multisig_tx" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Build and submit multisig transaction.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_smash">
<span id="cardano-node-tests-tests-test-smash-module"></span><h2>cardano_node_tests.tests.test_smash module<a class="headerlink" href="#module-cardano_node_tests.tests.test_smash" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for basic SMASH operations.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_smash.TestBasicSmash">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_smash.</span></span><span class="sig-name descname"><span class="pre">TestBasicSmash</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_smash.py#L53-L279"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_smash.TestBasicSmash" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Basic tests for SMASH service.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_smash.TestBasicSmash.locked_pool">
<span class="sig-name descname"><span class="pre">locked_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.dbsync_types.PoolDataRecord" title="cardano_node_tests.utils.dbsync_types.PoolDataRecord"><span class="pre">PoolDataRecord</span></a></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_smash.py#L56-L70"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_smash.TestBasicSmash.locked_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get id of locked pool from cluster_lock_pool fixture.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_smash.TestBasicSmash.smash">
<span class="sig-name descname"><span class="pre">smash</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.smash_utils.SmashClient" title="cardano_node_tests.utils.smash_utils.SmashClient"><span class="pre">SmashClient</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_smash.py#L72-L80"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_smash.TestBasicSmash.smash" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create SMASH client.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_smash.TestBasicSmash.test_delist_pool">
<span class="sig-name descname"><span class="pre">test_delist_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locked_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.dbsync_types.PoolDataRecord" title="cardano_node_tests.utils.dbsync_types.PoolDataRecord"><span class="pre">PoolDataRecord</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">smash</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.smash_utils.SmashClient" title="cardano_node_tests.utils.smash_utils.SmashClient"><span class="pre">SmashClient</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">worker_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_smash.py#L124-L188"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_smash.TestBasicSmash.test_delist_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test delisting a pool from SMASH.</p>
<p>Test pool delisting functionality and verify delisted pools cannot be queried.</p>
<ul class="simple">
<li><p>Get pool ID from locked pool fixture</p></li>
<li><p>Register cleanup function to re-enlist pool after test</p></li>
<li><p>Delist the pool using SMASH API</p></li>
<li><p>Verify delist response contains correct pool ID</p></li>
<li><p>Attempt to fetch metadata for delisted pool</p></li>
<li><p>Check that fetch fails with HTTP 403 Forbidden and ‚ÄúPool is delisted‚Äù message</p></li>
<li><p>Add log ignore rule for expected ‚ÄúDelisted pool already exists!‚Äù error</p></li>
<li><p>Attempt to re-delist already delisted pool</p></li>
<li><p>Verify re-delist fails with HTTP 400 Bad Request and DbInsertError</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_smash.TestBasicSmash.test_enlist_pool">
<span class="sig-name descname"><span class="pre">test_enlist_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locked_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.dbsync_types.PoolDataRecord" title="cardano_node_tests.utils.dbsync_types.PoolDataRecord"><span class="pre">PoolDataRecord</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">smash</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.smash_utils.SmashClient" title="cardano_node_tests.utils.smash_utils.SmashClient"><span class="pre">SmashClient</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_smash.py#L190-L238"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_smash.TestBasicSmash.test_enlist_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test enlisting a pool in SMASH.</p>
<p>Test pool enlisting functionality after delisting and verify enlisted pools can be queried.</p>
<ul class="simple">
<li><p>Get pool ID from locked pool fixture</p></li>
<li><p>Attempt to enlist already enlisted pool</p></li>
<li><p>Verify enlist fails with HTTP 404 Not Found and ‚ÄúRecordDoesNotExist‚Äù error</p></li>
<li><p>Delist the pool to prepare for enlist test</p></li>
<li><p>Verify delisted pool cannot be queried (HTTP 403 Forbidden)</p></li>
<li><p>Enlist the delisted pool</p></li>
<li><p>Verify enlist response contains correct pool ID</p></li>
<li><p>Fetch metadata for newly enlisted pool</p></li>
<li><p>Verify metadata retrieval succeeds for enlisted pool</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_smash.TestBasicSmash.test_fetch_pool_metadata">
<span class="sig-name descname"><span class="pre">test_fetch_pool_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locked_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.dbsync_types.PoolDataRecord" title="cardano_node_tests.utils.dbsync_types.PoolDataRecord"><span class="pre">PoolDataRecord</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">smash</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.smash_utils.SmashClient" title="cardano_node_tests.utils.smash_utils.SmashClient"><span class="pre">SmashClient</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_smash.py#L82-L122"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_smash.TestBasicSmash.test_fetch_pool_metadata" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test fetching pool metadata from SMASH.</p>
<p>Test retrieval of off-chain pool metadata from SMASH server and verify it matches
db-sync records.</p>
<ul class="simple">
<li><p>Get pool ID from locked pool fixture</p></li>
<li><p>Query off-chain pool metadata from db-sync (retry with timeout for availability)</p></li>
<li><p>Extract expected metadata fields (name, description, ticker, homepage)</p></li>
<li><p>Fetch pool metadata from SMASH using pool ID and metadata hash</p></li>
<li><p>Verify SMASH metadata matches db-sync metadata exactly</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_smash.TestBasicSmash.test_reserve_ticker">
<span class="sig-name descname"><span class="pre">test_reserve_ticker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smash</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.utils.html#cardano_node_tests.utils.smash_utils.SmashClient" title="cardano_node_tests.utils.smash_utils.SmashClient"><span class="pre">SmashClient</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FixtureRequest</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_smash.py#L240-L279"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_smash.TestBasicSmash.test_reserve_ticker" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test reserving a ticker for a pool in SMASH.</p>
<p>Test ticker reservation functionality and verify duplicate reservations are rejected.</p>
<ul class="simple">
<li><p>Select random pool ID from cluster</p></li>
<li><p>Register cleanup function to delete reserved tickers after test completion</p></li>
<li><p>Reserve 3-character random ticker for the pool</p></li>
<li><p>Verify reservation response contains correct ticker name</p></li>
<li><p>Attempt to reserve already-taken ticker for same pool</p></li>
<li><p>Verify re-reservation fails with HTTP 400 Bad Request and TickerAlreadyReserved error</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_smash.check_request_error">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_smash.</span></span><span class="sig-name descname"><span class="pre">check_request_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">err</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">RequestException</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_status</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">HTTPStatus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_smash.py#L29-L50"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_smash.check_request_error" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Assert expected HTTP errors in requests, handling both JSON and text responses.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_socket_path">
<span id="cardano-node-tests-tests-test-socket-path-module"></span><h2>cardano_node_tests.tests.test_socket_path module<a class="headerlink" href="#module-cardano_node_tests.tests.test_socket_path" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for <cite>‚Äìsocket-path</cite> CLI argument.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_socket_path.</span></span><span class="sig-name descname"><span class="pre">TestNegativeSocketPath</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L314-L549"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Negative tests for <cite>cardano-cli ‚Ä¶ ‚Äìsocket-path</cite>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_build_transfer_funds">
<span class="sig-name descname"><span class="pre">test_neg_build_transfer_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">socket_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L497-L549"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_build_transfer_funds" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Build transfer transaction with incorrect socket path configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_SOCKET_PATH env variable and/or
‚Äìsocket-path argument are missing or contain wrong values.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Create 2 payment addresses and fund first address</p></li>
<li><p>Set CARDANO_NODE_SOCKET_PATH to wrong path or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìsocket-path to wrong path or remove it (socket_scenario parameter)</p></li>
<li><p>Attempt to build transaction sending 1.5 ADA from source to destination address</p></li>
<li><p>Check that transaction build fails with expected error message</p></li>
<li><p>Verify error is ‚ÄúNetwork.Socket.connect‚Äù when socket path is wrong</p></li>
<li><p>Verify error is ‚ÄúMissing: ‚Äìsocket-path SOCKET_PATH‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_query_pool_state">
<span class="sig-name descname"><span class="pre">test_neg_query_pool_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">socket_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L425-L459"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_query_pool_state" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query pool state with incorrect socket path configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_SOCKET_PATH env variable and/or
‚Äìsocket-path argument are missing or contain wrong values.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_SOCKET_PATH to wrong path or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìsocket-path to wrong path or remove it (socket_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query pool-state</cite> command for specific pool ID</p></li>
<li><p>Check that command fails with expected error message</p></li>
<li><p>Verify error is ‚ÄúNetwork.Socket.connect‚Äù when socket path is wrong</p></li>
<li><p>Verify error is ‚ÄúMissing: ‚Äìsocket-path SOCKET_PATH‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_query_protocol_params">
<span class="sig-name descname"><span class="pre">test_neg_query_protocol_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">socket_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L389-L423"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_query_protocol_params" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query protocol parameters with incorrect socket path configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_SOCKET_PATH env variable and/or
‚Äìsocket-path argument are missing or contain wrong values.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_SOCKET_PATH to wrong path or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìsocket-path to wrong path or remove it (socket_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query protocol-parameters</cite> command</p></li>
<li><p>Check that command fails with expected error message</p></li>
<li><p>Verify error is ‚ÄúNetwork.Socket.connect‚Äù when socket path is wrong</p></li>
<li><p>Verify error is ‚ÄúMissing: ‚Äìsocket-path SOCKET_PATH‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_query_protocol_state">
<span class="sig-name descname"><span class="pre">test_neg_query_protocol_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">socket_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L317-L351"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_query_protocol_state" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query protocol state with incorrect socket path configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_SOCKET_PATH env variable and/or
‚Äìsocket-path argument are missing or contain wrong values.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_SOCKET_PATH to wrong path or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìsocket-path to wrong path or remove it (socket_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query protocol-state</cite> command</p></li>
<li><p>Check that command fails with expected error message</p></li>
<li><p>Verify error is ‚ÄúNetwork.Socket.connect‚Äù when socket path is wrong</p></li>
<li><p>Verify error is ‚ÄúMissing: ‚Äìsocket-path SOCKET_PATH‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_query_stake_addr_info">
<span class="sig-name descname"><span class="pre">test_neg_query_stake_addr_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">socket_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L461-L495"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_query_stake_addr_info" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query stake address info with incorrect socket path configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_SOCKET_PATH env variable and/or
‚Äìsocket-path argument are missing or contain wrong values.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_SOCKET_PATH to wrong path or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìsocket-path to wrong path or remove it (socket_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query stake-address-info</cite> command for specific stake address</p></li>
<li><p>Check that command fails with expected error message</p></li>
<li><p>Verify error is ‚ÄúNetwork.Socket.connect‚Äù when socket path is wrong</p></li>
<li><p>Verify error is ‚ÄúMissing: ‚Äìsocket-path SOCKET_PATH‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_query_stake_distribution">
<span class="sig-name descname"><span class="pre">test_neg_query_stake_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">socket_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L353-L387"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestNegativeSocketPath.test_neg_query_stake_distribution" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query stake distribution with incorrect socket path configuration.</p>
<p>Test parametrized scenarios where CARDANO_NODE_SOCKET_PATH env variable and/or
‚Äìsocket-path argument are missing or contain wrong values.</p>
<ul class="simple">
<li><p>Set CARDANO_NODE_SOCKET_PATH to wrong path or remove it (env_scenario parameter)</p></li>
<li><p>Set ‚Äìsocket-path to wrong path or remove it (socket_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query stake-distribution</cite> command</p></li>
<li><p>Check that command fails with expected error message</p></li>
<li><p>Verify error is ‚ÄúNetwork.Socket.connect‚Äù when socket path is wrong</p></li>
<li><p>Verify error is ‚ÄúMissing: ‚Äìsocket-path SOCKET_PATH‚Äù when both missing</p></li>
</ul>
<p>Expect failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestSocketPath">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_socket_path.</span></span><span class="sig-name descname"><span class="pre">TestSocketPath</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L106-L311"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestSocketPath" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for <cite>cardano-cli ‚Ä¶ ‚Äìsocket-path</cite>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestSocketPath.test_build_transfer_funds">
<span class="sig-name descname"><span class="pre">test_build_transfer_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L250-L311"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestSocketPath.test_build_transfer_funds" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds to payment address.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Send funds from 1 source address to 1 destination address</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestSocketPath.test_query_pool_state">
<span class="sig-name descname"><span class="pre">test_query_pool_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L196-L221"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestSocketPath.test_query_pool_state" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query pool state using ‚Äìsocket-path CLI argument.</p>
<p>Test that cardano-cli can query pool state when socket path is specified via
‚Äìsocket-path argument instead of CARDANO_NODE_SOCKET_PATH env variable.</p>
<ul class="simple">
<li><p>Unset CARDANO_NODE_SOCKET_PATH environment variable</p></li>
<li><p>Set socket path via ‚Äìsocket-path CLI argument</p></li>
<li><p>Optionally set wrong or remove socket path (env_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query pool-state</cite> command for specific pool ID</p></li>
<li><p>Verify query succeeds with ‚Äìsocket-path argument</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestSocketPath.test_query_protocol_params">
<span class="sig-name descname"><span class="pre">test_query_protocol_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L167-L194"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestSocketPath.test_query_protocol_params" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query protocol parameters using ‚Äìsocket-path CLI argument.</p>
<p>Test that cardano-cli can query protocol parameters when socket path is specified via
‚Äìsocket-path argument instead of CARDANO_NODE_SOCKET_PATH env variable.</p>
<ul class="simple">
<li><p>Unset CARDANO_NODE_SOCKET_PATH environment variable</p></li>
<li><p>Set socket path via ‚Äìsocket-path CLI argument</p></li>
<li><p>Optionally set wrong or remove socket path (env_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query protocol-parameters</cite> command</p></li>
<li><p>Check that parameters contain protocolVersion field</p></li>
<li><p>Verify query succeeds with ‚Äìsocket-path argument</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestSocketPath.test_query_protocol_state">
<span class="sig-name descname"><span class="pre">test_query_protocol_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L109-L136"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestSocketPath.test_query_protocol_state" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query protocol state using ‚Äìsocket-path CLI argument.</p>
<p>Test that cardano-cli can query protocol state when socket path is specified via
‚Äìsocket-path argument instead of CARDANO_NODE_SOCKET_PATH env variable.</p>
<ul class="simple">
<li><p>Unset CARDANO_NODE_SOCKET_PATH environment variable</p></li>
<li><p>Set socket path via ‚Äìsocket-path CLI argument</p></li>
<li><p>Optionally set wrong or remove socket path (env_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query protocol-state</cite> command</p></li>
<li><p>Check that protocol state contains lastSlot field</p></li>
<li><p>Verify query succeeds with ‚Äìsocket-path argument</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestSocketPath.test_query_stake_addr_info">
<span class="sig-name descname"><span class="pre">test_query_stake_addr_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L223-L248"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestSocketPath.test_query_stake_addr_info" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query stake address info using ‚Äìsocket-path CLI argument.</p>
<p>Test that cardano-cli can query stake address info when socket path is specified via
‚Äìsocket-path argument instead of CARDANO_NODE_SOCKET_PATH env variable.</p>
<ul class="simple">
<li><p>Unset CARDANO_NODE_SOCKET_PATH environment variable</p></li>
<li><p>Set socket path via ‚Äìsocket-path CLI argument</p></li>
<li><p>Optionally set wrong or remove socket path (env_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query stake-address-info</cite> command for specific stake address</p></li>
<li><p>Verify query succeeds with ‚Äìsocket-path argument</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.TestSocketPath.test_query_stake_distribution">
<span class="sig-name descname"><span class="pre">test_query_stake_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env_scenario</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L138-L165"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.TestSocketPath.test_query_stake_distribution" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query stake distribution using ‚Äìsocket-path CLI argument.</p>
<p>Test that cardano-cli can query stake distribution when socket path is specified via
‚Äìsocket-path argument instead of CARDANO_NODE_SOCKET_PATH env variable.</p>
<ul class="simple">
<li><p>Unset CARDANO_NODE_SOCKET_PATH environment variable</p></li>
<li><p>Set socket path via ‚Äìsocket-path CLI argument</p></li>
<li><p>Optionally set wrong or remove socket path (env_scenario parameter)</p></li>
<li><p>Execute <cite>cardano-cli query stake-distribution</cite> command</p></li>
<li><p>Check that distribution contains pool IDs starting with ‚Äúpool‚Äù</p></li>
<li><p>Verify query succeeds with ‚Äìsocket-path argument</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.payment_addrs">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_socket_path.</span></span><span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_socket_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L88-L103"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_socket_path.set_socket_path">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_socket_path.</span></span><span class="sig-name descname"><span class="pre">set_socket_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_socket_path.py#L68-L85"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_socket_path.set_socket_path" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Unset <cite>CARDANO_NODE_SOCKET_PATH</cite> and set path for <cite>cardano-cli ‚Ä¶ ‚Äìsocket-path</cite>.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_staking_no_rewards">
<span id="cardano-node-tests-tests-test-staking-no-rewards-module"></span><h2>cardano_node_tests.tests.test_staking_no_rewards module<a class="headerlink" href="#module-cardano_node_tests.tests.test_staking_no_rewards" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for checking staking scenarios where no rewards are expected.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_no_rewards.</span></span><span class="sig-name descname"><span class="pre">TestNoRewards</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_no_rewards.py#L40-L1024"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_deregister_reward_addr_retire_pool">
<span class="sig-name descname"><span class="pre">test_deregister_reward_addr_retire_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool_use_rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_no_rewards.py#L753-L1024"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_deregister_reward_addr_retire_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test deregistering reward address and retiring stake pool.</p>
<p>The pool deposit is lost when reward address is deregistered before the pool is retired.</p>
<ul class="simple">
<li><p>Wait for first reward for the pool</p></li>
<li><p>Withdraw pool rewards to payment address</p></li>
<li><p>Deregister the pool reward address</p></li>
<li><p>Check that the key deposit was returned</p></li>
<li><p>Check that pool owner is NOT receiving rewards</p></li>
<li><p>Deregister stake pool</p></li>
<li><p>Check that the pool deposit was NOT returned to reward or stake address</p></li>
<li><p>Return the pool to the original state - reregister the pool, register
the reward address, delegate the stake address to the pool</p></li>
<li><p>Check that pool deposit was needed</p></li>
<li><p>Check that pool owner is receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_deregistered_reward_addr">
<span class="sig-name descname"><span class="pre">test_no_reward_deregistered_reward_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool_use_rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_no_rewards.py#L566-L751"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_deregistered_reward_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that the reward address is not receiving rewards when deregistered.</p>
<p>The stake pool continues to operate normally and those who delegate to that pool receive
rewards.</p>
<ul class="simple">
<li><p>Delegate stake address</p></li>
<li><p>Wait for first reward</p></li>
<li><p>Withdraw pool rewards to payment address</p></li>
<li><p>Deregister the pool reward address</p></li>
<li><p>Check that the key deposit was returned</p></li>
<li><p>Check that pool owner is NOT receiving rewards</p></li>
<li><p>Check that new rewards are received by those delegating to the pool</p></li>
<li><p>Return the pool to the original state - reregister reward address</p></li>
<li><p>Check that pool owner is receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_deregistered_stake_addr">
<span class="sig-name descname"><span class="pre">test_no_reward_deregistered_stake_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool_use_rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_no_rewards.py#L369-L564"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_deregistered_stake_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that the pool is not receiving rewards when owner‚Äôs stake address is deregistered.</p>
<p>When the owner‚Äôs stake address is deregistered (i.e. owner‚Äôs stake is lower than pledge),
neither pool owners nor those who delegate to that pool receive rewards.</p>
<ul class="simple">
<li><p>Delegate stake address</p></li>
<li><p>Wait for first reward</p></li>
<li><p>Deregister stake address - owner‚Äôs stake is lower than pledge</p></li>
<li><p>Check that the key deposit was returned</p></li>
<li><p>Check that NO new rewards were received by those delegating to the pool</p></li>
<li><p>Check that pool owner is also NOT receiving rewards</p></li>
<li><p>Return the pool to the original state - reregister stake address and
delegate it to the pool</p></li>
<li><p>Check that new rewards were received by those delegating to the pool</p></li>
<li><p>Check that pool owner is also receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_unmet_pledge1">
<span class="sig-name descname"><span class="pre">test_no_reward_unmet_pledge1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_no_rewards.py#L41-L204"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_unmet_pledge1" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that the stake pool is not receiving rewards when pledge is not met.</p>
<p>When the pledge is higher than available funds, neither pool owners nor those who
delegate to that pool receive rewards.</p>
<ul class="simple">
<li><p>Delegate stake address</p></li>
<li><p>Wait for first reward</p></li>
<li><p>Increase the needed pledge amount - update the pool parameters by resubmitting the pool
registration certificate - the funds are now lower than what is needed by the stake pool</p></li>
<li><p>Check that NO new rewards were received by those delegating to the pool</p></li>
<li><p>Check that pool owner is also NOT receiving rewards</p></li>
<li><p>Return the pool to the original state - restore pledge settings</p></li>
<li><p>Check that new rewards were received by those delegating to the pool</p></li>
<li><p>Check that pool owner is also receiving rewards</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_unmet_pledge2">
<span class="sig-name descname"><span class="pre">test_no_reward_unmet_pledge2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_no_rewards.py#L206-L367"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.TestNoRewards.test_no_reward_unmet_pledge2" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that the stake pool is not receiving rewards when pledge is not met.</p>
<p>When the pledge is higher than available funds, neither pool owners nor those who
delegate to that pool receive rewards.</p>
<ul class="simple">
<li><p>Delegate stake address</p></li>
<li><p>Wait for first reward</p></li>
<li><p>Withdraw part of the pledge - the funds are lower than what is needed by the stake pool</p></li>
<li><p>Check that NO new rewards were received by those delegating to the pool</p></li>
<li><p>Check that pool owner is also NOT receiving rewards</p></li>
<li><p>Return the pool to the original state - restore pledge funds</p></li>
<li><p>Check that new rewards were received by those delegating to the pool</p></li>
<li><p>Check that pool owner is also receiving rewards</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_no_rewards.cluster_lock_pool_use_rewards">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_no_rewards.</span></span><span class="sig-name descname"><span class="pre">cluster_lock_pool_use_rewards</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_no_rewards.py#L23-L37"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_no_rewards.cluster_lock_pool_use_rewards" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Lock any pool, use pots, and return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_staking_rewards">
<span id="cardano-node-tests-tests-test-staking-rewards-module"></span><h2>cardano_node_tests.tests.test_staking_rewards module<a class="headerlink" href="#module-cardano_node_tests.tests.test_staking_rewards" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for staking, rewards, blocks production on real block-producing pools.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">RewardRecord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epoch_no</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_total</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reward_per_epoch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">member_pool_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leader_pool_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">tuple</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stake_total</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L28-L35"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.epoch_no">
<span class="sig-name descname"><span class="pre">epoch_no</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.epoch_no" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.leader_pool_ids">
<span class="sig-name descname"><span class="pre">leader_pool_ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">tuple</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.leader_pool_ids" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.member_pool_id">
<span class="sig-name descname"><span class="pre">member_pool_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.member_pool_id" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.reward_per_epoch">
<span class="sig-name descname"><span class="pre">reward_per_epoch</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.reward_per_epoch" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.reward_total">
<span class="sig-name descname"><span class="pre">reward_total</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.reward_total" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.RewardRecord.stake_total">
<span class="sig-name descname"><span class="pre">stake_total</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.RewardRecord.stake_total" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">TestNegativeWithdrawal</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L1656-L1727"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for rewards withdrawal that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal.pool_users">
<span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L1659-L1674"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal.pool_users" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal.test_withdrawal_wrong_amount">
<span class="sig-name descname"><span class="pre">test_withdrawal_wrong_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_use_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L1676-L1727"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestNegativeWithdrawal.test_withdrawal_wrong_amount" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test that it is not possible to withdraw other amount than the total reward amount.</p>
<p>Expect failure. Property-based test.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">TestRewards</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L250-L1653"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for checking expected rewards.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_2_pools_same_reward_addr">
<span class="sig-name descname"><span class="pre">test_2_pools_same_reward_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_two_pools</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L1071-L1325"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_2_pools_same_reward_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that one reward address used for two pools receives rewards for both of them.</p>
<ul>
<li><p>Set pool2 reward address to the reward address of pool1 by resubmitting the pool
registration certificate</p></li>
<li><p>Collect data for both pool1 and pool2 for several epochs and with the help of db-sync</p>
<blockquote>
<div><ul class="simple">
<li><p>Check that the original reward address for pool2 is NOT receiving rewards</p></li>
<li><p>Check that the reward address for pool1 is now receiving rewards for both pools</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Check records in db-sync</p>
<blockquote>
<div><ul class="simple">
<li><p>Transaction inputs, outputs, withdrawals, etc.</p></li>
<li><p>Reward amounts received each epoch</p></li>
<li><p>Expected pool ids</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_decreasing_reward_transferred_funds">
<span class="sig-name descname"><span class="pre">test_decreasing_reward_transferred_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_pool_and_rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L962-L1069"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_decreasing_reward_transferred_funds" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that rewards are gradually decreasing when funds are being transferred.</p>
<p>Even though nothing is staked and rewards are being transferred from reward address, there
are still some funds staked on the reward address at the time ledger snapshot is taken. For
that reason the reward amount received every epoch is gradually decreasing over the period
of several epochs until it is finally 0.</p>
<ul class="simple">
<li><p>Delegate stake address</p></li>
<li><p>Wait for first reward</p></li>
<li><p>Transfer all funds from payment address back to faucet, so no funds are staked</p></li>
<li><p>Keep withdrawing new rewards so reward balance is 0</p></li>
<li><p>Check that reward amount is decreasing epoch after epoch</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_redelegation">
<span class="sig-name descname"><span class="pre">test_redelegation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_two_pools_and_rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L1327-L1653"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_redelegation" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check rewards received by stake address over multiple epochs.</p>
<p>The address is re-delegated and deregistred / re-registered multiple times.</p>
<ul>
<li><p>Delegate stake address to pool</p></li>
<li><p>In next epoch, re-delegate to another pool</p></li>
<li><p>In next epoch, deregister stake address, immediately re-register and delegate to pool</p></li>
<li><p>In next epoch, deregister stake address, wait for second half of an epoch, re-register
and delegate to pool</p></li>
<li><p>While doing the steps above, collect data for pool user for 8 epochs</p>
<blockquote>
<div><ul class="simple">
<li><p>Each epoch check ledger state (expected data in <cite>pstake*</cite>, delegation, stake amount)</p></li>
<li><p>Each epoch check received reward with reward in ledger state</p></li>
</ul>
</div></blockquote>
</li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_addr_delegation">
<span class="sig-name descname"><span class="pre">test_reward_addr_delegation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_lock_pool_and_pots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L617-L960"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_addr_delegation" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that the rewards address can be delegated and receive rewards.</p>
<p>Tests <a class="reference external" href="https://github.com/IntersectMBO/cardano-node/issues/1964">https://github.com/IntersectMBO/cardano-node/issues/1964</a></p>
<p>The pool has a reward address that is different from pool owner‚Äôs stake address.</p>
<ul>
<li><p>Delegate reward address to the pool</p></li>
<li><p>Collect reward address data for 8 epochs and</p>
<blockquote>
<div><ul class="simple">
<li><p>Each epoch check ledger state (expected data in <cite>pstake*</cite>, delegation, stake amount)</p></li>
<li><p>Each epoch check received reward with reward in ledger state</p></li>
<li><p>Check that reward address receives rewards for its staked amount +
the pool owner‚Äôs pledge (and pool cost)</p></li>
<li><p>Send TXs with MIR certs that transfer funds from reserves and treasury
to pool reward address and check the reward was received as expected</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Check records in db-sync</p>
<blockquote>
<div><ul class="simple">
<li><p>Transaction inputs, outputs, withdrawals, etc.</p></li>
<li><p>Reward amounts received each epoch</p></li>
<li><p>Expected pool id</p></li>
<li><p>Expected reward types</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_amount">
<span class="sig-name descname"><span class="pre">test_reward_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_use_pool_and_rewards</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L308-L615"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_amount" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that the stake address and pool owner are receiving rewards.</p>
<ul>
<li><p>Create two payment addresses that share single stake address</p></li>
<li><p>Register and delegate the stake address to pool</p></li>
<li><p>Create UTxOs with native tokens</p></li>
<li><p>Collect data for pool owner and pool users for 9 epochs</p>
<blockquote>
<div><ul class="simple">
<li><p>Each epoch check ledger state (expected data in <cite>pstake*</cite>, delegation, stake amount)</p></li>
<li><p>Each epoch check received reward with reward in ledger state</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Withdraw rewards to payment address</p></li>
<li><p>Burn native tokens</p></li>
<li><p>(optional) Check records in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_simple">
<span class="sig-name descname"><span class="pre">test_reward_simple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_and_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L253-L306"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.TestRewards.test_reward_simple" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Check that the stake address and pool owner are receiving rewards.</p>
<ul class="simple">
<li><p>Delegate to pool</p></li>
<li><p>Wait for rewards for pool owner and pool users for up to 4 epochs</p></li>
<li><p>Withdraw rewards to payment address</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.cluster_and_pool">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">cluster_and_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L38-L42"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.cluster_and_pool" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.cluster_lock_pool_and_pots">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">cluster_lock_pool_and_pots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L93-L106"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.cluster_lock_pool_and_pots" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.cluster_lock_two_pools">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">cluster_lock_two_pools</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L77-L90"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.cluster_lock_two_pools" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.cluster_use_pool_and_rewards">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">cluster_use_pool_and_rewards</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L45-L59"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.cluster_use_pool_and_rewards" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Mark any pool and all pots as ‚Äúin use‚Äù and return instance of <cite>clusterlib.ClusterLib</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_staking_rewards.cluster_use_two_pools_and_rewards">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_staking_rewards.</span></span><span class="sig-name descname"><span class="pre">cluster_use_two_pools_and_rewards</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ClusterLib</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_staking_rewards.py#L62-L74"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_staking_rewards.cluster_use_two_pools_and_rewards" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_basic">
<span id="cardano-node-tests-tests-test-tx-basic-module"></span><h2>cardano_node_tests.tests.test_tx_basic module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_basic" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for basic transactions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_basic.</span></span><span class="sig-name descname"><span class="pre">TestBasicTransactions</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L31-L1342"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test basic transactions - transferring funds, transaction IDs.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.byron_addrs">
<span class="sig-name descname"><span class="pre">byron_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L50-L78"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.byron_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create 2 new Byron payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.cluster_default_tx_era">
<span class="sig-name descname"><span class="pre">cluster_default_tx_era</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubRequest</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L112-L130"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.cluster_default_tx_era" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L34-L48"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create 2 new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs_disposable">
<span class="sig-name descname"><span class="pre">payment_addrs_disposable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L80-L94"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs_disposable" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create 2 new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs_no_change">
<span class="sig-name descname"><span class="pre">payment_addrs_no_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L96-L110"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.payment_addrs_no_change" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create 2 new payment addresses for <cite>test_build_no_change</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_build_multiple_same_txins">
<span class="sig-name descname"><span class="pre">test_build_multiple_same_txins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1117-L1162"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_build_multiple_same_txins" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Build a transaction with multiple identical txins.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_build_no_change">
<span class="sig-name descname"><span class="pre">test_build_no_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs_no_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L251-L345"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_build_no_change" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds to payment address and balance the outputs so that there is no change.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Try to build a Tx that transfers all available funds, and extract fee amount
from the error message</p></li>
<li><p>Transfer all available funds minus fee from source address to destination address</p></li>
<li><p>Check that no change UTxO was created</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_byron_fee_too_small">
<span class="sig-name descname"><span class="pre">test_byron_fee_too_small</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">byron_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L201-L249"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_byron_fee_too_small" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test cardano-node issue #4752.</p>
<p>Use <cite>cardano-cli transaction build</cite> command for building a transaction that needs to be
signed by Byron skey. Check if calculated fee is too small and if Tx submit fails.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_default_tx_era">
<span class="sig-name descname"><span class="pre">test_default_tx_era</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_default_tx_era</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1296-L1342"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_default_tx_era" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test default Tx era.</p>
<ul class="simple">
<li><p>Check that default Tx era is implicit as <cite>latest</cite></p></li>
<li><p>Check that default Tx era can be specified explicitly by its name</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_duplicate_signing_keys">
<span class="sig-name descname"><span class="pre">test_duplicate_signing_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L735-L803"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_duplicate_signing_keys" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send a transaction with duplicate signing key.</p>
<p>Check that it is possible to specify the same signing key twice.</p>
<ul class="simple">
<li><p>Create transaction from source address to destination address with 2 ADA</p></li>
<li><p>Sign transaction by specifying the same required signing key twice</p></li>
<li><p>Submit the transaction and verify it succeeds</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_extra_signing_keys">
<span class="sig-name descname"><span class="pre">test_extra_signing_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L664-L733"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_extra_signing_keys" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send a transaction with an extra unnecessary signing key.</p>
<p>Check that it is possible to use unneeded signing key in addition to the necessary
signing keys for signing the transaction.</p>
<ul class="simple">
<li><p>Create transaction from source address to destination address with 2 ADA</p></li>
<li><p>Sign transaction with both required signing key and an extra unneeded signing key</p></li>
<li><p>Submit the transaction and verify it succeeds</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_far_future_ttl">
<span class="sig-name descname"><span class="pre">test_far_future_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1234-L1294"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_far_future_ttl" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send a transaction with ttl (time-to-live) far in the future.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Create transaction from source address to destination address with 2 ADA</p></li>
<li><p>Set TTL to current slot + 10,000,000 slots (far in the future)</p></li>
<li><p>Build, sign and submit the transaction</p></li>
<li><p>Verify the transaction succeeds with far-future TTL</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_funds_to_valid_address">
<span class="sig-name descname"><span class="pre">test_funds_to_valid_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L546-L605"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_funds_to_valid_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds to a valid payment address.</p>
<p>The destination address is a valid address that was generated sometime
in the past. The test verifies it is possible to use a valid address
even though it was not generated while running a specific cardano
network.</p>
<ul class="simple">
<li><p>Send funds from 1 source address to 1 destination address</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
<li><p>Check min UTxO value</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_get_txid">
<span class="sig-name descname"><span class="pre">test_get_txid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L607-L662"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_get_txid" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get transaction ID (txid) from transaction body.</p>
<p>Transaction ID is a hash of transaction body and doesn‚Äôt change for a signed TX.</p>
<ul class="simple">
<li><p>Send funds from 1 source address to 1 destination address</p></li>
<li><p>Get txid from transaction body</p></li>
<li><p>Get txid from signed transaction</p></li>
<li><p>Check that txid from transaction body matches the txid from signed transaction</p></li>
<li><p>Check that txid has expected length</p></li>
<li><p>Check that the txid is listed in UTxO hashes for both source and destination addresses</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_missing_ttl">
<span class="sig-name descname"><span class="pre">test_missing_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L967-L1040"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_missing_ttl" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Submit a transaction with a missing <cite>‚Äìttl</cite> (<cite>‚Äìinvalid-hereafter</cite>) parameter.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command without specifying TTL.</p>
<ul class="simple">
<li><p>Build transaction using <cite>build-raw</cite> without <cite>‚Äìinvalid-hereafter</cite> parameter</p></li>
<li><p>Sign the transaction</p></li>
<li><p>Submit the transaction and verify it succeeds</p></li>
<li><p>Check expected balance for source address</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_missing_tx_out">
<span class="sig-name descname"><span class="pre">test_missing_tx_out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L925-L965"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_missing_tx_out" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Build a transaction with a missing <cite>‚Äìtx-out</cite> parameter.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Prepare transaction inputs with <cite>‚Äìtx-in</cite> from source address</p></li>
<li><p>Build transaction using <cite>build-raw</cite> without any <cite>‚Äìtx-out</cite> parameter</p></li>
<li><p>Verify that transaction can be built (no output validation at build-raw stage)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_multiple_same_txins">
<span class="sig-name descname"><span class="pre">test_multiple_same_txins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1042-L1115"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_multiple_same_txins" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Build and submit a transaction with multiple identical txins.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Prepare transaction with the same txin specified multiple times</p></li>
<li><p>Build transaction using <cite>build-raw</cite> with duplicate <cite>‚Äìtx-in</cite> parameters</p></li>
<li><p>Sign the transaction</p></li>
<li><p>Submit the transaction and verify it succeeds</p></li>
<li><p>Check expected balance for source address</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_no_txout">
<span class="sig-name descname"><span class="pre">test_no_txout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L876-L923"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_no_txout" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with just fee, no UTxO is produced.</p>
<ul class="simple">
<li><p>Submit a transaction where all funds available on source address is used for fee</p></li>
<li><p>Check that no UTxOs are created by the transaction</p></li>
<li><p>Check that there are no funds left on source address</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_sign_wrong_file">
<span class="sig-name descname"><span class="pre">test_sign_wrong_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L805-L874"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_sign_wrong_file" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Sign other file type than the one specified by command line option (Tx vs Tx body).</p>
<ul class="simple">
<li><p>Specify Tx file and pass Tx body file</p></li>
<li><p>Specify Tx body file and pass Tx file</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_all_build_estimate">
<span class="sig-name descname"><span class="pre">test_transfer_all_build_estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L477-L544"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_all_build_estimate" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Transfer all funds from one payment address to another.</p>
<p>Use the <cite>transaction build-estimate</cite> command.</p>
<ul class="simple">
<li><p>Transfer all available funds from 1 source address to 1 destination address</p></li>
<li><p>Check expected balance for destination addresses</p></li>
<li><p>Check that balance for source address is 0 Lovelace</p></li>
<li><p>Check output of the <cite>transaction view</cite> command</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_all_funds">
<span class="sig-name descname"><span class="pre">test_transfer_all_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs_disposable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L347-L415"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_all_funds" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send ALL funds from one payment address to another.</p>
<ul class="simple">
<li><p>Send all available funds from 1 source address to 1 destination address</p></li>
<li><p>Check expected balance for destination addresses</p></li>
<li><p>Check that balance for source address is 0 Lovelace</p></li>
<li><p>Check output of the <cite>transaction view</cite> command</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_funds">
<span class="sig-name descname"><span class="pre">test_transfer_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">byron_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_addr_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_addr_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L132-L199"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_funds" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send funds to payment address.</p>
<ul class="simple">
<li><p>Send funds from 1 source address to 1 destination address</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_some_build_estimate">
<span class="sig-name descname"><span class="pre">test_transfer_some_build_estimate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L417-L475"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_transfer_some_build_estimate" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Transfer some funds from one payment address to another.</p>
<p>Use the <cite>transaction build-estimate</cite> command.</p>
<ul class="simple">
<li><p>Transfer some available funds from 1 source address to 1 destination address</p></li>
<li><p>Check expected balance for source addresses</p></li>
<li><p>Check expected balance for destination addresses</p></li>
<li><p>Check output of the <cite>transaction view</cite> command</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_utxo_with_datum_hash">
<span class="sig-name descname"><span class="pre">test_utxo_with_datum_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1164-L1232"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestBasicTransactions.test_utxo_with_datum_hash" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create a UTxO with datum hash in a regular address and spend it.</p>
<ul class="simple">
<li><p>Create a UTxO with a datum hash at the payment address</p></li>
<li><p>Check that the UTxO was created with the respective datum hash</p></li>
<li><p>Spend the UTxO (not providing the datum hash)</p></li>
<li><p>Check that the UTxO was spent</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_basic.</span></span><span class="sig-name descname"><span class="pre">TestIncrementalSigning</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1654-L1830"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test incremental signing of transactions.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1657-L1673"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning.test_incremental_signing">
<span class="sig-name descname"><span class="pre">test_incremental_signing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_is</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1675-L1830"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestIncrementalSigning.test_incremental_signing" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test sending funds using Tx that is signed incrementally.</p>
<p>Test with Tx body created by both <cite>transaction build</cite> and <cite>transaction build-raw</cite>.
Test with Tx created by both <cite>transaction sign</cite> and <cite>transaction assemble</cite>.</p>
<ul class="simple">
<li><p>Create a transaction</p></li>
<li><p>Sign the transaction incrementally with part of the signing keys</p></li>
<li><p>Sign the transaction incrementally with the rest of the signing keys, except of
the required one</p></li>
<li><p>Sign the transaction multiple times with the same skey to see that it doesn‚Äôt affect
the Tx fee</p></li>
<li><p>Check that the transaction cannot be submitted</p></li>
<li><p>Sign the transaction with the required signing key</p></li>
<li><p>Check that the transaction can be submitted</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_basic.</span></span><span class="sig-name descname"><span class="pre">TestMultiInOut</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1345-L1651"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test transactions with multiple txins and/or txouts.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1348-L1364"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create 201 new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_10_transactions">
<span class="sig-name descname"><span class="pre">test_10_transactions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1471-L1523"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_10_transactions" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send 10 transactions to payment address.</p>
<ul class="simple">
<li><p>Send funds from 1 source address to 1 destination address in 10 separate transactions</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_100_addrs_from_50_addrs">
<span class="sig-name descname"><span class="pre">test_transaction_to_100_addrs_from_50_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1621-L1651"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_100_addrs_from_50_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test 1 transaction from 50 payment addresses to 100 payment addresses.</p>
<ul class="simple">
<li><p>Send funds from 50 source addresses to 100 destination addresses</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_10_addrs_from_10_addrs">
<span class="sig-name descname"><span class="pre">test_transaction_to_10_addrs_from_10_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1589-L1619"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_10_addrs_from_10_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test 1 transaction from 10 payment addresses to 10 payment addresses.</p>
<ul class="simple">
<li><p>Send funds from 10 source addresses to 10 destination addresses</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_10_addrs_from_1_addr">
<span class="sig-name descname"><span class="pre">test_transaction_to_10_addrs_from_1_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1525-L1555"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_10_addrs_from_1_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test 1 transaction from 1 payment address to 10 payment addresses.</p>
<ul class="simple">
<li><p>Send funds from 1 source address to 10 destination addresses</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_1_addr_from_10_addrs">
<span class="sig-name descname"><span class="pre">test_transaction_to_1_addr_from_10_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_basic.py#L1557-L1587"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_basic.TestMultiInOut.test_transaction_to_1_addr_from_10_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test 1 transaction from 10 payment addresses to 1 payment address.</p>
<ul class="simple">
<li><p>Send funds from 10 source addresses to 1 destination address</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
<li><p>(optional) Check transactions in db-sync</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_fees">
<span id="cardano-node-tests-tests-test-tx-fees-module"></span><h2>cardano_node_tests.tests.test_tx_fees module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_fees" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for fees of various kinds of transactions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_fees.</span></span><span class="sig-name descname"><span class="pre">TestExpectedFees</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L213-L715"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test expected fees.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.pool_users">
<span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L216-L231"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.pool_users" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_addr_deregistration_fees">
<span class="sig-name descname"><span class="pre">test_addr_deregistration_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L518-L565"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_addr_deregistration_fees" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test stake address deregistration fees for various numbers of addresses.</p>
<p>Test with 1, 3, 5, or 10 stake addresses.</p>
<ul class="simple">
<li><p>Select specified number of pool users</p></li>
<li><p>Generate stake address deregistration certificates with deposit refund amounts</p></li>
<li><p>Calculate transaction fee for deregistering specified number of stake addresses</p></li>
<li><p>Verify fee matches expected value within acceptable interval</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_addr_registration_fees">
<span class="sig-name descname"><span class="pre">test_addr_registration_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L469-L516"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_addr_registration_fees" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test stake address registration fees for various numbers of addresses.</p>
<p>Test with 1, 3, 5, or 10 stake addresses.</p>
<ul class="simple">
<li><p>Select specified number of pool users</p></li>
<li><p>Generate stake address registration certificates with deposit amounts</p></li>
<li><p>Calculate transaction fee for registering specified number of stake addresses</p></li>
<li><p>Verify fee matches expected value within acceptable interval</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_pool_deregistration_fees">
<span class="sig-name descname"><span class="pre">test_pool_deregistration_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L392-L467"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_pool_deregistration_fees" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test pool deregistration fees for various numbers of pool owners.</p>
<p>Test with 1, 3, 5, or 10 pool owner addresses.</p>
<ul class="simple">
<li><p>Create pool metadata and cold key pair for the pool</p></li>
<li><p>Select specified number of pool owners</p></li>
<li><p>Generate pool deregistration certificate for next epoch</p></li>
<li><p>Calculate transaction fee for pool deregistration with specified number of owners</p></li>
<li><p>Verify fee matches expected value within acceptable interval</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_pool_registration_fees">
<span class="sig-name descname"><span class="pre">test_pool_registration_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_fee</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L326-L390"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_pool_registration_fees" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test pool registration fees for various numbers of pool owners.</p>
<p>Test with 1, 3, 5, or 10 pool owner addresses.</p>
<ul class="simple">
<li><p>Create VRF key pair and cold key pair for the pool node</p></li>
<li><p>Generate stake address registration certificates for pool owners</p></li>
<li><p>Generate stake address delegation certificates delegating to the pool</p></li>
<li><p>Generate pool registration certificate with metadata</p></li>
<li><p>Calculate transaction fee for pool registration with specified number of owners</p></li>
<li><p>Verify fee matches expected value within acceptable interval</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_100_addrs_from_100_addrs_fees">
<span class="sig-name descname"><span class="pre">test_transaction_to_100_addrs_from_100_addrs_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount_expected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L685-L715"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_100_addrs_from_100_addrs_fees" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test fees for 1 tx from 100 payment addresses to 100 payment addresses.</p>
<p>Test with amounts of 1, 100, 11,000, or 100,000 Lovelace per destination.</p>
<ul class="simple">
<li><p>Prepare transaction inputs from 100 source addresses</p></li>
<li><p>Prepare transaction outputs to 100 destination addresses with specified amount each</p></li>
<li><p>Calculate transaction fee</p></li>
<li><p>Verify fee matches expected value within acceptable interval</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_10_addrs_from_10_addrs_fees">
<span class="sig-name descname"><span class="pre">test_transaction_to_10_addrs_from_10_addrs_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount_expected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L656-L683"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_10_addrs_from_10_addrs_fees" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test fees for 1 tx from 10 payment addresses to 10 payment addresses.</p>
<p>Test with amounts of 1, 100, 11,000, or 100,000 Lovelace per destination.</p>
<ul class="simple">
<li><p>Prepare transaction inputs from 10 source addresses</p></li>
<li><p>Prepare transaction outputs to 10 destination addresses with specified amount each</p></li>
<li><p>Calculate transaction fee</p></li>
<li><p>Verify fee matches expected value within acceptable interval</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_10_addrs_from_1_addr_fees">
<span class="sig-name descname"><span class="pre">test_transaction_to_10_addrs_from_1_addr_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount_expected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L598-L625"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_10_addrs_from_1_addr_fees" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test fees for 1 tx from 1 payment address to 10 payment addresses.</p>
<p>Test with amounts of 1, 100, 11,000, or 100,000 Lovelace per destination.</p>
<ul class="simple">
<li><p>Prepare transaction inputs from 1 source address</p></li>
<li><p>Prepare transaction outputs to 10 destination addresses with specified amount each</p></li>
<li><p>Calculate transaction fee</p></li>
<li><p>Verify fee matches expected value within acceptable interval</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_1_addr_from_10_addrs_fees">
<span class="sig-name descname"><span class="pre">test_transaction_to_1_addr_from_10_addrs_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount_expected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L627-L654"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_1_addr_from_10_addrs_fees" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test fees for 1 tx from 10 payment addresses to 1 payment address.</p>
<p>Test with amounts of 1, 100, 11,000, or 100,000 Lovelace.</p>
<ul class="simple">
<li><p>Prepare transaction inputs from 10 source addresses</p></li>
<li><p>Prepare transaction output to 1 destination address with specified amount</p></li>
<li><p>Calculate transaction fee</p></li>
<li><p>Verify fee matches expected value within acceptable interval</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_1_addr_from_1_addr_fees">
<span class="sig-name descname"><span class="pre">test_transaction_to_1_addr_from_1_addr_fees</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount_expected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L567-L596"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestExpectedFees.test_transaction_to_1_addr_from_1_addr_fees" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test fees for 1 tx from 1 payment address to 1 payment address.</p>
<p>Test with amounts of 1, 100, 11,000, or 100,000 Lovelace.</p>
<ul class="simple">
<li><p>Prepare transaction inputs from source address</p></li>
<li><p>Prepare transaction outputs to destination address with specified amount</p></li>
<li><p>Calculate transaction fee</p></li>
<li><p>Verify fee matches expected value within acceptable interval</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestFee">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_fees.</span></span><span class="sig-name descname"><span class="pre">TestFee</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L41-L210"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestFee" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>General fees tests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestFee.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L44-L59"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestFee.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create 2 new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestFee.test_expected_or_higher_fee">
<span class="sig-name descname"><span class="pre">test_expected_or_higher_fee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fee_add</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L155-L210"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestFee.test_expected_or_higher_fee" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send a transaction with fee that is same or higher than expected.</p>
<p>Test with exact fee, fee + 1,000, fee + 100,000, and fee + 1,000,000 Lovelace.</p>
<ul class="simple">
<li><p>Calculate expected fee for transaction sending 2 ADA</p></li>
<li><p>Create transaction with fee equal to or higher than calculated fee</p></li>
<li><p>Send transaction and verify it succeeds</p></li>
<li><p>Check that actual fee matches specified fee</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestFee.test_negative_fee">
<span class="sig-name descname"><span class="pre">test_negative_fee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L61-L100"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestFee.test_negative_fee" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send a transaction with negative fee (property-based test).</p>
<p>Expect failure.</p>
<p>Uses hypothesis property-based testing to generate negative fee values.</p>
<ul class="simple">
<li><p>Create transaction from source address to destination address with 10 Lovelace</p></li>
<li><p>Attempt to send transaction with negative fee value</p></li>
<li><p>Check that transaction building fails with CLI error about fee parameter</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_fees.TestFee.test_smaller_fee">
<span class="sig-name descname"><span class="pre">test_smaller_fee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fee_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_fees.py#L102-L153"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_fees.TestFee.test_smaller_fee" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send a transaction with smaller-than-expected fee.</p>
<p>Expect failure.</p>
<p>Test with fee that is 0x, 1/1.1x, 1/1.5x, or 1/2x of the calculated fee.</p>
<ul class="simple">
<li><p>Calculate expected fee for transaction sending 10 Lovelace</p></li>
<li><p>Create transaction with fee reduced by parametrized factor</p></li>
<li><p>Attempt to send transaction with insufficient fee</p></li>
<li><p>Check that transaction submission fails with FeeTooSmallUTxO error</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_many_utxos">
<span id="cardano-node-tests-tests-test-tx-many-utxos-module"></span><h2>cardano_node_tests.tests.test_tx_many_utxos module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_many_utxos" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for transactions with many UTxOs.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_many_utxos.</span></span><span class="sig-name descname"><span class="pre">TestManyUTXOs</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_many_utxos.py#L22-L264"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Test transaction with many UTxOs and small amounts of Lovelace.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.cluster">
<span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_many_utxos.py#L29-L34"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.cluster" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.many_utxos">
<span class="sig-name descname"><span class="pre">many_utxos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_many_utxos.py#L78-L149"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.many_utxos" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Generate many UTxOs (100000+) with 1-2 ADA.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_many_utxos.py#L36-L51"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment addresses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.pytestmark">
<span class="sig-name descname"><span class="pre">pytestmark</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[Mark(name='skipif',</span> <span class="pre">args=(False,),</span> <span class="pre">kwargs={'reason':</span> <span class="pre">'expensive</span> <span class="pre">test,</span> <span class="pre">skip</span> <span class="pre">when</span> <span class="pre">cluster</span> <span class="pre">era</span> <span class="pre">is</span> <span class="pre">different</span> <span class="pre">from</span> <span class="pre">TX</span> <span class="pre">era'})]</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_many_utxos.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.pytestmark" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.test_mini_transactions">
<span class="sig-name descname"><span class="pre">test_mini_transactions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">many_utxos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subtests</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">SubTests</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_many_utxos.py#L151-L264"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_many_utxos.TestManyUTXOs.test_mini_transactions" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Test transactions with many UTxOs (350+) containing small amounts of ADA.</p>
<p>Tests blockchain performance under stress with transactions containing hundreds of inputs
(UTxOs) with varying amounts. Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Use pre-funded source address with 100000+ UTxOs containing 1-10 ADA each</p></li>
<li><p>Use destination address with 100000+ UTxOs</p></li>
<li><p>Query and sort source UTxOs by amount</p></li>
<li><p>Select 350 UTxOs as transaction inputs (mix of small and large amounts)</p></li>
<li><p>Calculate transaction fee with selected inputs</p></li>
<li><p>Optimize input UTxO selection to minimize total funds while covering amount + fee</p></li>
<li><p>Build raw transaction with 350+ inputs sending 1.5/5/10 ADA to destination</p></li>
<li><p>Sign and submit transaction</p></li>
<li><p>Check that source address balance decreased by sent amount + fee</p></li>
<li><p>Check that destination address balance increased by sent amount</p></li>
<li><p>(optional) Check transaction records in db-sync</p></li>
<li><p>Repeat test for multiple amounts (1.5 ADA, 5 ADA, 10 ADA) using subtests</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_mempool">
<span id="cardano-node-tests-tests-test-tx-mempool-module"></span><h2>cardano_node_tests.tests.test_tx_mempool module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_mempool" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for transactions in mempool.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_mempool.TestMempool">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_mempool.</span></span><span class="sig-name descname"><span class="pre">TestMempool</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_mempool.py#L16-L151"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_mempool.TestMempool" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for transactions in mempool.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_mempool.TestMempool.payment_addrs_locked">
<span class="sig-name descname"><span class="pre">payment_addrs_locked</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_mempool.py#L19-L34"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_mempool.TestMempool.payment_addrs_locked" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create 2 new payment addresses for ‚Äòtest_query_mempool_txin‚Äô.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_mempool.TestMempool.test_query_mempool_txin">
<span class="sig-name descname"><span class="pre">test_query_mempool_txin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_singleton</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs_locked</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_mempool.py#L36-L151"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_mempool.TestMempool.test_query_mempool_txin" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Query txin of a transaction that is still in mempool.</p>
<p>Test mempool query commands while transaction is pending in mempool.</p>
<ul class="simple">
<li><p>Wait for existing transactions to be removed from mempool</p></li>
<li><p>Build and sign transaction from source address to destination address with 2 ADA</p></li>
<li><p>Submit transaction and re-submit to ensure it stays in mempool</p></li>
<li><p>Query UTxO while transaction is in mempool</p></li>
<li><p>Check that ‚Äòquery tx-mempool next-tx‚Äô returns a TxId</p></li>
<li><p>Check that ‚Äòquery tx-mempool exists &lt;TxId&gt;‚Äô finds the expected TxId</p></li>
<li><p>Verify slot numbers match between mempool query commands</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_metadata">
<span id="cardano-node-tests-tests-test-tx-metadata-module"></span><h2>cardano_node_tests.tests.test_tx_metadata module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_metadata" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for transactions with metadata.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_metadata.</span></span><span class="sig-name descname"><span class="pre">TestMetadata</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L23-L717"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for transactions with metadata.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.CBOR_METADATA_FILE">
<span class="sig-name descname"><span class="pre">CBOR_METADATA_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata.cbor')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.CBOR_METADATA_FILE" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_FILE">
<span class="sig-name descname"><span class="pre">JSON_METADATA_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata.json')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_FILE" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_INVALID_FILE">
<span class="sig-name descname"><span class="pre">JSON_METADATA_INVALID_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata_invalid.json')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_INVALID_FILE" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_LONG_FILE">
<span class="sig-name descname"><span class="pre">JSON_METADATA_LONG_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata_long.json')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_LONG_FILE" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_WRONG_FILE">
<span class="sig-name descname"><span class="pre">JSON_METADATA_WRONG_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/home/martink/Source/repos/cardano-node-tests/cardano_node_tests/tests/data/tx_metadata_wrong.json')</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.JSON_METADATA_WRONG_FILE" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.METADATA_DUPLICATES">
<span class="sig-name descname"><span class="pre">METADATA_DUPLICATES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tx_metadata_duplicate_keys*.json'</span></em><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.METADATA_DUPLICATES" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.payment_addr">
<span class="sig-name descname"><span class="pre">payment_addr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AddressRecord</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L33-L46"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.payment_addr" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create new payment address.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_invalid_json_metadata">
<span class="sig-name descname"><span class="pre">test_build_tx_invalid_json_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L158-L197"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_invalid_json_metadata" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with invalid (malformed) metadata JSON.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.
The metadata file contains invalid JSON syntax.</p>
<ul class="simple">
<li><p>Prepare transaction files with invalid JSON metadata file</p></li>
<li><p>Attempt to build transaction using <cite>build</cite></p></li>
<li><p>Check that transaction building fails with JSON parse error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_both">
<span class="sig-name descname"><span class="pre">test_build_tx_metadata_both</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L540-L607"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_both" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with both metadata JSON and CBOR formats combined.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Prepare transaction files with both JSON and CBOR metadata files</p></li>
<li><p>Build, sign and submit transaction with both metadata types attached</p></li>
<li><p>Load metadata from transaction body CBOR</p></li>
<li><p>Merge expected metadata from both JSON and CBOR files</p></li>
<li><p>Check that combined metadata in TX body matches merged original metadata</p></li>
<li><p>Verify transaction view command output matches metadata</p></li>
<li><p>(optional) Check transactions and metadata in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_cbor">
<span class="sig-name descname"><span class="pre">test_build_tx_metadata_cbor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L424-L479"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_cbor" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with metadata CBOR and verify metadata preservation.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Prepare transaction files with metadata CBOR file</p></li>
<li><p>Build, sign and submit transaction from payment address with CBOR metadata</p></li>
<li><p>Load metadata from transaction body CBOR</p></li>
<li><p>Compare transaction body metadata with original CBOR file</p></li>
<li><p>Check that metadata in TX body matches the original metadata exactly</p></li>
<li><p>(optional) Check transactions and metadata in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_json">
<span class="sig-name descname"><span class="pre">test_build_tx_metadata_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L321-L376"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_metadata_json" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with metadata JSON and verify metadata preservation.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Prepare transaction files with metadata JSON file</p></li>
<li><p>Build, sign and submit transaction from payment address with metadata</p></li>
<li><p>Load metadata from transaction body CBOR</p></li>
<li><p>Compare transaction body metadata with original JSON file</p></li>
<li><p>Check that metadata in TX body matches the original metadata exactly</p></li>
<li><p>(optional) Check transactions and metadata in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_too_long_metadata_json">
<span class="sig-name descname"><span class="pre">test_build_tx_too_long_metadata_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L235-L271"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_too_long_metadata_json" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with metadata JSON string exceeding 64 bytes.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Prepare transaction files with metadata JSON containing string &gt; 64 UTF-8 bytes</p></li>
<li><p>Attempt to build transaction using <cite>build</cite></p></li>
<li><p>Check that transaction building fails with string length error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_wrong_json_metadata_format">
<span class="sig-name descname"><span class="pre">test_build_tx_wrong_json_metadata_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L83-L117"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_build_tx_wrong_json_metadata_format" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with incorrectly formatted metadata JSON.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.
The metadata file is valid JSON but not in expected format (map at top level).</p>
<ul class="simple">
<li><p>Prepare transaction files with wrongly formatted metadata JSON</p></li>
<li><p>Attempt to build transaction using <cite>build</cite></p></li>
<li><p>Check that transaction building fails with metadata format error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_duplicate_metadata_keys">
<span class="sig-name descname"><span class="pre">test_tx_duplicate_metadata_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L609-L663"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_duplicate_metadata_keys" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with multiple metadata JSON files containing duplicate keys.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Prepare transaction files with multiple JSON metadata files having duplicate keys</p></li>
<li><p>Send transaction from payment address with all metadata files attached</p></li>
<li><p>Load metadata from transaction body CBOR</p></li>
<li><p>Merge expected metadata from input files (first occurrence wins for duplicates)</p></li>
<li><p>Check that metadata in TX body matches merged metadata with correct precedence</p></li>
<li><p>Verify that for duplicate keys the first occurrence is used</p></li>
<li><p>(optional) Check transactions and metadata in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_invalid_json_metadata">
<span class="sig-name descname"><span class="pre">test_tx_invalid_json_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L119-L156"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_invalid_json_metadata" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with invalid (malformed) metadata JSON.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.
The metadata file contains invalid JSON syntax.</p>
<ul class="simple">
<li><p>Prepare transaction files with invalid JSON metadata file</p></li>
<li><p>Attempt to build transaction using <cite>build-raw</cite></p></li>
<li><p>Check that transaction building fails with JSON parse error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_both">
<span class="sig-name descname"><span class="pre">test_tx_metadata_both</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L481-L538"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_both" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with both metadata JSON and CBOR formats combined.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Prepare transaction files with both JSON and CBOR metadata files</p></li>
<li><p>Send transaction from payment address with both metadata types attached</p></li>
<li><p>Load metadata from transaction body CBOR</p></li>
<li><p>Merge expected metadata from both JSON and CBOR files</p></li>
<li><p>Check that combined metadata in TX body matches merged original metadata</p></li>
<li><p>Verify transaction view command output matches metadata</p></li>
<li><p>(optional) Check transactions and metadata in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_cbor">
<span class="sig-name descname"><span class="pre">test_tx_metadata_cbor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L378-L422"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_cbor" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with metadata CBOR and verify metadata preservation.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Prepare transaction files with metadata CBOR file</p></li>
<li><p>Send transaction from payment address with CBOR metadata attached</p></li>
<li><p>Load metadata from transaction body CBOR</p></li>
<li><p>Compare transaction body metadata with original CBOR file</p></li>
<li><p>Check that metadata in TX body matches the original metadata exactly</p></li>
<li><p>(optional) Check transactions and metadata in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_json">
<span class="sig-name descname"><span class="pre">test_tx_metadata_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L273-L319"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_json" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with metadata JSON and verify metadata preservation.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Prepare transaction files with metadata JSON file</p></li>
<li><p>Send transaction from payment address with metadata attached</p></li>
<li><p>Load metadata from transaction body CBOR</p></li>
<li><p>Compare transaction body metadata with original JSON file</p></li>
<li><p>Check that metadata in TX body matches the original metadata exactly</p></li>
<li><p>(optional) Check transactions and metadata in db-sync</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_no_txout">
<span class="sig-name descname"><span class="pre">test_tx_metadata_no_txout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L665-L717"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_metadata_no_txout" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Send transaction with just metadata, no UTxO is produced.</p>
<ul class="simple">
<li><p>Submit a transaction where all funds available on source address is used for fee</p></li>
<li><p>Check that no UTxOs are created by the transaction</p></li>
<li><p>Check that there are no funds left on source address</p></li>
<li><p>Check that the metadata in TX body matches the original metadata</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_too_long_metadata_json">
<span class="sig-name descname"><span class="pre">test_tx_too_long_metadata_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L199-L233"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_too_long_metadata_json" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with metadata JSON string exceeding 64 bytes.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Prepare transaction files with metadata JSON containing string &gt; 64 UTF-8 bytes</p></li>
<li><p>Attempt to build transaction using <cite>build-raw</cite></p></li>
<li><p>Check that transaction building fails with string length error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_wrong_json_metadata_format">
<span class="sig-name descname"><span class="pre">test_tx_wrong_json_metadata_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_metadata.py#L48-L81"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_metadata.TestMetadata.test_tx_wrong_json_metadata_format" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with incorrectly formatted metadata JSON.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.
The metadata file is valid JSON but not in expected format (map at top level).</p>
<ul class="simple">
<li><p>Prepare transaction files with wrongly formatted metadata JSON</p></li>
<li><p>Attempt to build transaction using <cite>build-raw</cite></p></li>
<li><p>Check that transaction building fails with metadata format error</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_negative">
<span id="cardano-node-tests-tests-test-tx-negative-module"></span><h2>cardano_node_tests.tests.test_tx_negative module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_negative" title="Link to this heading">ÔÉÅ</a></h2>
<p>Negative tests for transactions.</p>
<p>Tests like duplicated transaction, sending funds to wrong addresses, wrong fee, wrong ttl.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_negative.</span></span><span class="sig-name descname"><span class="pre">TestNegative</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L34-L1846"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Transaction tests that are expected to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.cluster_wrong_tx_era">
<span class="sig-name descname"><span class="pre">cluster_wrong_tx_era</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skip_on_last_era</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_unknown_last_era</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ClusterLib</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L51-L63"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.cluster_wrong_tx_era" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.pool_users">
<span class="sig-name descname"><span class="pre">pool_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L65-L79"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.pool_users" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create pool users.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.skip_on_last_era">
<span class="sig-name descname"><span class="pre">skip_on_last_era</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L37-L43"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.skip_on_last_era" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.skip_unknown_last_era">
<span class="sig-name descname"><span class="pre">skip_unknown_last_era</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L45-L49"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.skip_unknown_last_era" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_negative_overflow">
<span class="sig-name descname"><span class="pre">test_before_negative_overflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L371-L429"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_negative_overflow" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send transaction with negative invalid_before causing integer overflow.</p>
<p>Expect failure.</p>
<p>Uses parametrized build method (build, build-raw, or build-estimate).
Negative values overflow to MAX_UINT64, which exceeds valid range.</p>
<ul class="simple">
<li><p>Set invalid_before to -5 (overflows to MAX_UINT64 - 5)</p></li>
<li><p>Attempt to build or submit transaction with overflowed value</p></li>
<li><p>Check that transaction fails or builds with clamped value</p></li>
<li><p>Verify validity range in transaction view output</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_positive_overflow">
<span class="sig-name descname"><span class="pre">test_before_positive_overflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L431-L490"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_positive_overflow" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send transaction with invalid_before exceeding MAX_UINT64 causing overflow.</p>
<p>Expect failure.</p>
<p>Uses parametrized build method (build, build-raw, or build-estimate).
Values &gt; MAX_UINT64 overflow back to valid range.</p>
<ul class="simple">
<li><p>Set invalid_before to MAX_UINT64 + (MAX_INT64 + 5) which overflows</p></li>
<li><p>Attempt to build or submit transaction with overflowed value</p></li>
<li><p>Check that transaction fails or builds with clamped value</p></li>
<li><p>Verify validity range in transaction view output</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_too_high">
<span class="sig-name descname"><span class="pre">test_before_too_high</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L492-L533"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_before_too_high" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send transaction with invalid_before exceeding MAX_INT64.</p>
<p>Expect failure.</p>
<p>Uses parametrized build method (build, build-raw, or build-estimate).
Valid values must be &lt;= MAX_INT64.</p>
<ul class="simple">
<li><p>Set invalid_before to MAX_INT64 + 5 (exceeds valid range)</p></li>
<li><p>Attempt to build or submit transaction with too-high value</p></li>
<li><p>Check that transaction fails with OutsideValidityIntervalUTxO error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_invalid_length_utxo_hash">
<span class="sig-name descname"><span class="pre">test_build_invalid_length_utxo_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1433-L1475"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_invalid_length_utxo_hash" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to use UTxO hash with invalid length as input (property-based test).</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.
Uses hypothesis to generate random 10-550 char hashes.</p>
<ul class="simple">
<li><p>Generate random UTxO hash string with incorrect length</p></li>
<li><p>Attempt to build transaction using wrong-length UTxO hash</p></li>
<li><p>Check that transaction building fails with deserialization or format error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_missing_change_address">
<span class="sig-name descname"><span class="pre">test_build_missing_change_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1746-L1793"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_missing_change_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with missing <cite>‚Äìchange-address</cite> parameter.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Prepare transaction inputs and outputs</p></li>
<li><p>Attempt to build transaction using <cite>build</cite> without ‚Äìchange-address parameter</p></li>
<li><p>Check that transaction building fails with missing change address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_missing_tx_in">
<span class="sig-name descname"><span class="pre">test_build_missing_tx_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1696-L1744"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_missing_tx_in" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with missing <cite>‚Äìtx-in</cite> parameter.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Prepare transaction outputs only (no inputs)</p></li>
<li><p>Attempt to build transaction using <cite>build</cite> without ‚Äìtx-in parameter</p></li>
<li><p>Check that transaction building fails with missing tx-in error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_multiple_change_addresses">
<span class="sig-name descname"><span class="pre">test_build_multiple_change_addresses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1795-L1846"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_multiple_change_addresses" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with multiple <cite>‚Äìchange-address</cite> parameters.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Prepare transaction inputs and outputs</p></li>
<li><p>Attempt to build transaction with two different ‚Äìchange-address parameters</p></li>
<li><p>Check that transaction building fails with invalid option error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_change_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_invalid_change_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1190-L1218"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_change_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds using invalid change address (property-based test).</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.
Uses hypothesis to generate random 98-char addresses.</p>
<ul class="simple">
<li><p>Generate random address string with valid characters but invalid format</p></li>
<li><p>Attempt to build transaction with invalid change address</p></li>
<li><p>Check that transaction building fails with invalid address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_chars_change_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_invalid_chars_change_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1220-L1250"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_chars_change_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds using change address with invalid characters (property-based test).</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.
Uses hypothesis to generate random 98-char strings.</p>
<ul class="simple">
<li><p>Generate random address string with invalid characters</p></li>
<li><p>Attempt to build transaction with change address containing bad characters</p></li>
<li><p>Check that transaction building fails with invalid address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_length_change_address">
<span class="sig-name descname"><span class="pre">test_build_send_funds_invalid_length_change_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1252-L1280"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_build_send_funds_invalid_length_change_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds using change address with invalid length (property-based test).</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.
Uses hypothesis to generate random 50-250 char addresses.</p>
<ul class="simple">
<li><p>Generate random address string with incorrect length</p></li>
<li><p>Attempt to build transaction with wrong-length change address</p></li>
<li><p>Check that transaction building fails with invalid address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_duplicated_tx">
<span class="sig-name descname"><span class="pre">test_duplicated_tx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L691-L760"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_duplicated_tx" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to submit an identical transaction twice.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Build and sign transaction sending 2 ADA from source to destination address</p></li>
<li><p>Submit transaction successfully the first time</p></li>
<li><p>Check expected balances for both source and destination addresses</p></li>
<li><p>Attempt to submit the exact same signed transaction again</p></li>
<li><p>Check that re-submission fails with inputs already spent error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_invalid_length_utxo_hash">
<span class="sig-name descname"><span class="pre">test_invalid_length_utxo_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1389-L1431"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_invalid_length_utxo_hash" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to use UTxO hash with invalid length as input (property-based test).</p>
<p>Expect failure.</p>
<p>Uses parametrized build method and hypothesis to generate random 10-550 char hashes.</p>
<ul class="simple">
<li><p>Generate random UTxO hash string with incorrect length</p></li>
<li><p>Attempt to build or submit transaction using wrong-length UTxO hash</p></li>
<li><p>Check that transaction fails with deserialization or format error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_lower_bound_not_supported">
<span class="sig-name descname"><span class="pre">test_lower_bound_not_supported</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1647-L1694"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_lower_bound_not_supported" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build Shelley era transaction with unsupported <cite>‚Äìinvalid-before</cite>.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.
Only runs with Shelley TX era (validity lower bound not supported).</p>
<ul class="simple">
<li><p>Prepare transaction from source to destination with 2 ADA</p></li>
<li><p>Attempt to build transaction with invalid_before=10 (unsupported in Shelley)</p></li>
<li><p>Check that transaction building fails with lower bound not supported error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_fee">
<span class="sig-name descname"><span class="pre">test_missing_fee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1477-L1539"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_fee" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with missing <cite>‚Äìfee</cite> parameter.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Prepare transaction inputs and outputs</p></li>
<li><p>Attempt to build transaction using <cite>build-raw</cite> without ‚Äìfee parameter</p></li>
<li><p>Check that transaction building fails with missing fee error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_ttl">
<span class="sig-name descname"><span class="pre">test_missing_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1541-L1597"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_ttl" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build Shelley era transaction with missing <cite>‚Äìttl</cite> parameter.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.
Only runs with Shelley TX era on node &lt; 8.7.0.</p>
<ul class="simple">
<li><p>Prepare transaction inputs and outputs</p></li>
<li><p>Attempt to build Shelley transaction without ‚Äìinvalid-hereafter parameter</p></li>
<li><p>Check that transaction building fails with missing TTL error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_tx_in">
<span class="sig-name descname"><span class="pre">test_missing_tx_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1599-L1645"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_missing_tx_in" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with missing <cite>‚Äìtx-in</cite> parameter.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Prepare transaction outputs only (no inputs)</p></li>
<li><p>Attempt to build transaction using <cite>build-raw</cite> without ‚Äìtx-in parameter</p></li>
<li><p>Check that transaction building fails with missing tx-in error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_nonexistent_utxo_hash">
<span class="sig-name descname"><span class="pre">test_nonexistent_utxo_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1335-L1387"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_nonexistent_utxo_hash" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to use nonexistent UTxO hash as transaction input.</p>
<p>Expect failure.</p>
<p>Uses parametrized build method (build or build-raw, not build-estimate).</p>
<ul class="simple">
<li><p>Get valid UTxO from payment address</p></li>
<li><p>Modify last 4 characters of UTxO hash to create nonexistent hash</p></li>
<li><p>Attempt to build or submit transaction using invalid UTxO hash</p></li>
<li><p>Check that transaction fails with empty UTxO or BadInputsUTxO error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_nonexistent_utxo_ix">
<span class="sig-name descname"><span class="pre">test_nonexistent_utxo_ix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1282-L1333"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_nonexistent_utxo_ix" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to use nonexistent UTxO transaction index (TxIx) as input.</p>
<p>Expect failure.</p>
<p>Uses parametrized build method (build or build-raw, not build-estimate).</p>
<ul class="simple">
<li><p>Get valid UTxO from payment address</p></li>
<li><p>Modify UTxO index to nonexistent value (5)</p></li>
<li><p>Attempt to build or submit transaction using invalid UTxO index</p></li>
<li><p>Check that transaction fails with empty UTxO or BadInputsUTxO error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_past_ttl">
<span class="sig-name descname"><span class="pre">test_past_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L342-L369"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_past_ttl" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send transaction with TTL (time-to-live) in the past.</p>
<p>Expect failure.</p>
<p>Uses parametrized build method (build, build-raw, or build-estimate).</p>
<ul class="simple">
<li><p>Set invalid_hereafter to current slot - 1 (already expired)</p></li>
<li><p>Attempt to build or submit transaction with past TTL</p></li>
<li><p>Check that transaction fails with ExpiredUTxO or OutsideValidityIntervalUTxO error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_negative_overflow">
<span class="sig-name descname"><span class="pre">test_pbt_before_negative_overflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L535-L585"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_negative_overflow" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send transaction with negative invalid_before (property-based test).</p>
<p>Expect failure.</p>
<p>Uses parametrized build method and hypothesis with values 1 to MAX_INT64.
Negative values cause integer overflow.</p>
<ul class="simple">
<li><p>Set invalid_before to negative of parametrized value</p></li>
<li><p>Attempt to build or submit transaction with negative value</p></li>
<li><p>Check that transaction fails or slot number is positive after overflow</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_positive_overflow">
<span class="sig-name descname"><span class="pre">test_pbt_before_positive_overflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L587-L640"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_positive_overflow" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send transaction with invalid_before &gt; MAX_UINT64 (property-based test).</p>
<p>Expect failure.</p>
<p>Uses parametrized build method and hypothesis with values (MAX_INT64+1) to MAX_UINT64.
Values &gt; MAX_UINT64 cause integer overflow.</p>
<ul class="simple">
<li><p>Set invalid_before to MAX_UINT64 + parametrized value (causes overflow)</p></li>
<li><p>Attempt to build or submit transaction with overflowed value</p></li>
<li><p>Check that transaction fails or verifies overflow behavior</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_too_high">
<span class="sig-name descname"><span class="pre">test_pbt_before_too_high</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L642-L689"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_pbt_before_too_high" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send transaction with invalid_before &gt; MAX_INT64 (property-based test).</p>
<p>Expect failure.</p>
<p>Uses parametrized build method and hypothesis with values (MAX_INT64+1) to MAX_UINT64.
Valid values must be &lt;= MAX_INT64.</p>
<ul class="simple">
<li><p>Set invalid_before to parametrized value exceeding MAX_INT64</p></li>
<li><p>Attempt to build or submit transaction with too-high value</p></li>
<li><p>Check that transaction fails with OutsideValidityIntervalUTxO error</p></li>
<li><p>Verify slot number matches expected value</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_address">
<span class="sig-name descname"><span class="pre">test_send_funds_from_invalid_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1086-L1118"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds from randomly generated invalid address (property-based test).</p>
<p>Expect failure.</p>
<p>Uses parametrized build method and hypothesis to generate random 98-char addresses.</p>
<ul class="simple">
<li><p>Generate random address string with valid characters but invalid format</p></li>
<li><p>Attempt to build transaction from invalid source address to valid destination</p></li>
<li><p>Check that transaction building fails with invalid address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_chars_address">
<span class="sig-name descname"><span class="pre">test_send_funds_from_invalid_chars_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1154-L1188"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_chars_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds from address with invalid characters (property-based test).</p>
<p>Expect failure.</p>
<p>Uses parametrized build method and hypothesis to generate random 98-char strings.</p>
<ul class="simple">
<li><p>Generate random address string with invalid characters</p></li>
<li><p>Attempt to build transaction from address with bad characters to valid destination</p></li>
<li><p>Check that transaction building fails with invalid address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_length_address">
<span class="sig-name descname"><span class="pre">test_send_funds_from_invalid_length_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1120-L1152"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_from_invalid_length_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds from address with invalid length (property-based test).</p>
<p>Expect failure.</p>
<p>Uses parametrized build method and hypothesis to generate random 50-250 char addresses.</p>
<ul class="simple">
<li><p>Generate random address string with incorrect length</p></li>
<li><p>Attempt to build transaction from wrong-length source address to valid destination</p></li>
<li><p>Check that transaction building fails with invalid address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_address">
<span class="sig-name descname"><span class="pre">test_send_funds_to_invalid_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L982-L1014"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds to randomly generated invalid address (property-based test).</p>
<p>Expect failure.</p>
<p>Uses parametrized build method and hypothesis to generate random 98-char addresses.</p>
<ul class="simple">
<li><p>Generate random address string with valid characters but invalid format</p></li>
<li><p>Attempt to build transaction with 1 ADA to invalid address</p></li>
<li><p>Check that transaction building fails with invalid address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_chars_address">
<span class="sig-name descname"><span class="pre">test_send_funds_to_invalid_chars_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1050-L1084"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_chars_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds to address with invalid characters (property-based test).</p>
<p>Expect failure.</p>
<p>Uses parametrized build method and hypothesis to generate random 98-char strings.</p>
<ul class="simple">
<li><p>Generate random address string with invalid characters</p></li>
<li><p>Attempt to build transaction with 1 ADA to address with bad characters</p></li>
<li><p>Check that transaction building fails with invalid address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_length_address">
<span class="sig-name descname"><span class="pre">test_send_funds_to_invalid_length_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L1016-L1048"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_invalid_length_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds to address with invalid length (property-based test).</p>
<p>Expect failure.</p>
<p>Uses parametrized build method and hypothesis to generate random 50-250 char addresses.</p>
<ul class="simple">
<li><p>Generate random address string with incorrect length</p></li>
<li><p>Attempt to build transaction with 1 ADA to wrong-length address</p></li>
<li><p>Check that transaction building fails with invalid address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_reward_address">
<span class="sig-name descname"><span class="pre">test_send_funds_to_reward_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L918-L947"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_reward_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds from payment address to stake (reward) address.</p>
<p>Expect failure.</p>
<p>Uses parametrized build method (build, build-raw, or build-estimate).</p>
<ul class="simple">
<li><p>Prepare transaction with stake address as destination (invalid)</p></li>
<li><p>Attempt to build transaction with 1 ADA to stake address</p></li>
<li><p>Check that transaction building fails with invalid address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_utxo_address">
<span class="sig-name descname"><span class="pre">test_send_funds_to_utxo_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">build_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L949-L980"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_send_funds_to_utxo_address" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send funds from payment address to UTxO hash (not an address).</p>
<p>Expect failure.</p>
<p>Uses parametrized build method (build, build-raw, or build-estimate).</p>
<ul class="simple">
<li><p>Get UTxO hash from payment address query</p></li>
<li><p>Prepare transaction with UTxO hash as destination (invalid)</p></li>
<li><p>Attempt to build transaction with 1 ADA to UTxO hash</p></li>
<li><p>Check that transaction building fails with invalid address error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_network_magic">
<span class="sig-name descname"><span class="pre">test_wrong_network_magic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L762-L839"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_network_magic" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to submit transaction with incorrect network magic number.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Build and sign transaction sending 2 ADA from source to destination address</p></li>
<li><p>Add ignore rules for expected handshake errors in logs</p></li>
<li><p>Attempt to submit transaction with network magic + 100</p></li>
<li><p>Check that submission fails with HandshakeError</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_signing_key">
<span class="sig-name descname"><span class="pre">test_wrong_signing_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L841-L876"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_signing_key" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send transaction signed with incorrect signing key.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction send</cite> command.</p>
<ul class="simple">
<li><p>Prepare transaction from pool_users[0] to pool_users[1] with 1.5 ADA</p></li>
<li><p>Sign transaction with pool_users[1] signing key instead of pool_users[0]</p></li>
<li><p>Attempt to build and submit transaction with wrong signing key</p></li>
<li><p>Check that transaction fails with MissingVKeyWitnessesUTXOW error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_tx_era">
<span class="sig-name descname"><span class="pre">test_wrong_tx_era</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_wrong_tx_era</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_users</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">PoolUser</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_negative.py#L878-L916"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_negative.TestNegative.test_wrong_tx_era" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to send transaction using TX era higher than network era.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction send</cite> command with future era.</p>
<ul class="simple">
<li><p>Prepare transaction from pool_users[0] to pool_users[1] with 1.5 ADA</p></li>
<li><p>Use cluster instance configured for era &gt; current network era</p></li>
<li><p>Attempt to submit transaction built for future era</p></li>
<li><p>Check that transaction fails with era mismatch error</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_tx_unbalanced">
<span id="cardano-node-tests-tests-test-tx-unbalanced-module"></span><h2>cardano_node_tests.tests.test_tx_unbalanced module<a class="headerlink" href="#module-cardano_node_tests.tests.test_tx_unbalanced" title="Link to this heading">ÔÉÅ</a></h2>
<p>Tests for unbalanced transactions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_tx_unbalanced.</span></span><span class="sig-name descname"><span class="pre">TestUnbalanced</span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_unbalanced.py#L23-L539"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tests for unbalanced transactions.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.payment_addrs">
<span class="sig-name descname"><span class="pre">payment_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_manager</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="cardano_node_tests.cluster_management.html#cardano_node_tests.cluster_management.manager.ClusterManager" title="cardano_node_tests.cluster_management.manager.ClusterManager"><span class="pre">ClusterManager</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_unbalanced.py#L64-L79"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.payment_addrs" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Create 2 new payment addresses.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.pbt_highest_utxo">
<span class="sig-name descname"><span class="pre">pbt_highest_utxo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">UTXOData</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_unbalanced.py#L81-L91"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.pbt_highest_utxo" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get UTxO with highest amount of Lovelace.</p>
<p>Meant for property-based tests, so this expensive operation gets executed only once.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_amount_bellow_minimum">
<span class="sig-name descname"><span class="pre">test_build_transfer_amount_bellow_minimum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_unbalanced.py#L335-L371"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_amount_bellow_minimum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with amount below minimum UTxO threshold (property-based test).</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use UTxO with highest amount as sole input</p></li>
<li><p>Attempt to create transaction output with amount below minimum UTxO (0 to ~1 ADA)</p></li>
<li><p>Check that transaction building fails with minimum UTxO threshold error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_negative_amount">
<span class="sig-name descname"><span class="pre">test_build_transfer_negative_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_unbalanced.py#L373-L406"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_negative_amount" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with negative Lovelace amount (property-based test).</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use UTxO with highest amount as sole input</p></li>
<li><p>Attempt to create transaction output with negative amount (-MAX to -1)</p></li>
<li><p>Check that transaction building fails with negative quantity error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_unavailable_funds">
<span class="sig-name descname"><span class="pre">test_build_transfer_unavailable_funds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_unbalanced.py#L162-L212"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_build_transfer_unavailable_funds" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction transferring more funds than available (property-based test).</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build</cite> command.</p>
<ul class="simple">
<li><p>Use UTxO with highest amount as sole input</p></li>
<li><p>Attempt to transfer amount exceeding UTxO balance by parametrized value (1 to MAX/2)</p></li>
<li><p>Check that transaction building fails with negative balance error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_negative_change">
<span class="sig-name descname"><span class="pre">test_negative_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_unbalanced.py#L93-L160"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_negative_change" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build a transaction with a negative change amount.</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Calculate transaction fee</p></li>
<li><p>Get UTxO with highest amount from source address</p></li>
<li><p>Attempt to create transaction outputs that exceed inputs by 1 Lovelace</p></li>
<li><p>Include a change output with -1 Lovelace</p></li>
<li><p>Check that transaction building fails with appropriate error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_out_of_bounds_amount">
<span class="sig-name descname"><span class="pre">test_out_of_bounds_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_unbalanced.py#L286-L333"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_out_of_bounds_amount" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with Lovelace amount exceeding maximum (property-based test).</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Use UTxO with highest amount as sole input</p></li>
<li><p>Attempt to create transaction output with amount &gt; MAX_UINT64</p></li>
<li><p>Check that transaction building fails with out of bounds error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_transfer_amount_bellow_minimum">
<span class="sig-name descname"><span class="pre">test_transfer_amount_bellow_minimum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_unbalanced.py#L408-L479"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_transfer_amount_bellow_minimum" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build and submit transaction with amount below minimum UTxO (property-based test).</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use UTxO with highest amount as sole input</p></li>
<li><p>Build transaction with output amount below minimum UTxO (0 to ~1 ADA)</p></li>
<li><p>Sign the transaction successfully (no validation at build-raw stage)</p></li>
<li><p>Attempt to submit the transaction</p></li>
<li><p>Check that submission fails with OutputTooSmallUTxO error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_transfer_negative_amount">
<span class="sig-name descname"><span class="pre">test_transfer_negative_amount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_unbalanced.py#L481-L539"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_transfer_negative_amount" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Try to build transaction with negative Lovelace amount (property-based test).</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command for building the transactions.</p>
<ul class="simple">
<li><p>Use UTxO with highest amount as sole input</p></li>
<li><p>Attempt to build transaction with negative output amount (-MAX to -1)</p></li>
<li><p>Check that transaction building fails with negative quantity error</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_wrong_balance">
<span class="sig-name descname"><span class="pre">test_wrong_balance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_addrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">AddressRecord</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pbt_highest_utxo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">UTXOData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_tx_unbalanced.py#L214-L284"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_tx_unbalanced.TestUnbalanced.test_wrong_balance" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Build transaction with unbalanced change amount (property-based test).</p>
<p>Expect failure.</p>
<p>Uses <cite>cardano-cli transaction build-raw</cite> command.</p>
<ul class="simple">
<li><p>Use UTxO with highest amount as sole input</p></li>
<li><p>Transfer full balance minus fee to destination address</p></li>
<li><p>Add incorrect change output with parametrized amount (2 ADA to MAX)</p></li>
<li><p>Build and sign the unbalanced transaction successfully</p></li>
<li><p>Attempt to submit the unbalanced transaction</p></li>
<li><p>Check that submission fails with ValueNotConservedUTxO error</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="module-cardano_node_tests.tests.test_xdist_helper">
<span id="cardano-node-tests-tests-test-xdist-helper-module"></span><h2>cardano_node_tests.tests.test_xdist_helper module<a class="headerlink" href="#module-cardano_node_tests.tests.test_xdist_helper" title="Link to this heading">ÔÉÅ</a></h2>
<p>Dummy test that helps with <cite>pytest-xdist</cite> scheduling.</p>
<p>The <cite>pytest-xdist</cite> plugin needs to schedule two tests per worker in initial batch. This dummy test
gets scheduled as first not long-running test on every pytest worker so the other test can be
an actual long-running test.</p>
<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.test_xdist_helper.test_dummy">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.test_xdist_helper.</span></span><span class="sig-name descname"><span class="pre">test_dummy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">for_worker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/test_xdist_helper.py#L19-L24"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.test_xdist_helper.test_dummy" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</section>
<section id="module-cardano_node_tests.tests.tx_common">
<span id="cardano-node-tests-tests-tx-common-module"></span><h2>cardano_node_tests.tests.tx_common module<a class="headerlink" href="#module-cardano_node_tests.tests.tx_common" title="Link to this heading">ÔÉÅ</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tx_common.get_raw_tx_values">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tx_common.</span></span><span class="sig-name descname"><span class="pre">get_raw_tx_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster_obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ClusterLib</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tx_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_record</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AddressRecord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_build_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">TxRawOutput</span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tx_common.py#L15-L62"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tx_common.get_raw_tx_values" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Get values for manually building Tx using <cite>transaction build</cite> or <cite>transaction build-raw</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cardano_node_tests.tests.tx_common.get_txins_txouts">
<span class="sig-prename descclassname"><span class="pre">cardano_node_tests.tests.tx_common.</span></span><span class="sig-name descname"><span class="pre">get_txins_txouts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">UTXOData</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txouts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">TxOut</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/IntersectMBO/cardano-node-tests/blob/995b8b3c74d05ff9e246306d99926a34d8845703/cardano_node_tests/tests/tx_common.py#L65-L70"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cardano_node_tests.tests.tx_common.get_txins_txouts" title="Link to this definition">ÔÉÅ</a></dt>
<dd></dd></dl>

</section>
<section id="module-cardano_node_tests.tests">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cardano_node_tests.tests" title="Link to this heading">ÔÉÅ</a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cardano_node_tests.pytest_plugins.html" class="btn btn-neutral float-left" title="cardano_node_tests.pytest_plugins package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cardano_node_tests.tests.tests_conway.html" class="btn btn-neutral float-right" title="cardano_node_tests.tests.tests_conway package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>